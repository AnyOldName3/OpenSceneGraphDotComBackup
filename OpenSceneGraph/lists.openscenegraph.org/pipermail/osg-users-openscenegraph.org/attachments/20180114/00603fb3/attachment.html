<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Julien,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;yes, removeTextureAttribute&nbsp;did&nbsp;the&nbsp;job.&nbsp;Thanks&nbsp;a&nbsp;bunch!!! &nbsp;I&nbsp;should&nbsp;have&nbsp;consulted&nbsp;the&nbsp;header&nbsp;too&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Nick&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Jan&nbsp;13,&nbsp;2018&nbsp;at&nbsp;10:02&nbsp;PM,&nbsp;Julien&nbsp;Valentin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:julienvalentin51@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;julienvalentin51@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;oups&nbsp;i&nbsp;post&nbsp;too&nbsp;fast&lt;br&gt;<br>
I&nbsp;wanted&nbsp;to&nbsp;write&lt;br&gt;<br>
&lt;br&gt;<br>
Code:&lt;br&gt;<br>
StateSet::&lt;wbr&gt;removeTextureAttribute(unit,&lt;wbr&gt;texatt)&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
mp3butcher&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;Nickolov&lt;br&gt;<br>
&gt;&nbsp;use&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Code:&lt;br&gt;<br>
&lt;/span&gt;&gt;&nbsp;StateSet::&lt;wbr&gt;removeTextureAttribute(unit,&lt;wbr&gt;texatt)&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;remove&nbsp;a&nbsp;texture.&lt;br&gt;<br>
&gt;&nbsp;Moreover&nbsp;when&nbsp;you&nbsp;erase&nbsp;you&nbsp;iterator&nbsp;it&nbsp;invalidates&nbsp;it&nbsp;...so&nbsp;don&#39;t&nbsp;do&nbsp;like&nbsp;this&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Cheers&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Trajce&nbsp;Nikolov&nbsp;NICK&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Hi&nbsp;Community,&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;this&nbsp;should&nbsp;be&nbsp;simple,&nbsp;but&nbsp;I&nbsp;can&nbsp;not&nbsp;make&nbsp;it&nbsp;work.&nbsp;I&nbsp;have&nbsp;ive&nbsp;file&nbsp;with&nbsp;embedded&nbsp;texture&nbsp;and&nbsp;it&nbsp;is&nbsp;big&nbsp;file.&nbsp;All&nbsp;I&nbsp;want&nbsp;is&nbsp;to&nbsp;remove&nbsp;the&nbsp;texture&nbsp;and&nbsp;save&nbsp;it&nbsp;back.&nbsp;When&nbsp;I&nbsp;do&nbsp;this&nbsp;with&nbsp;the&nbsp;code&nbsp;bellow,&nbsp;and&nbsp;save&nbsp;the&nbsp;file,&nbsp;the&nbsp;file&nbsp;is&nbsp;not&nbsp;changing&nbsp;it&#39;s&nbsp;size.&nbsp;Any&nbsp;clue/hint?&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Thanks&nbsp;a&nbsp;bunch&nbsp;as&nbsp;always!!!!&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Nick&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;code&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;struct&nbsp;RemoveTextureVisitor&nbsp;:&nbsp;public&nbsp;osg::NodeVisitor &lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;{&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; RemoveTextureVisitor()&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp;osg::NodeVisitor(osg::&lt;wbr&gt;NodeVisitor::TRAVERSE_ALL_&lt;wbr&gt;CHILDREN)&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; {&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; virtual&nbsp;void&nbsp;apply(osg::Node&amp;&nbsp;node)&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; {&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; osg::ref_ptr&lt;osg::StateSet&gt;&nbsp;ss&nbsp;=&nbsp;node.getStateSet();&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;(ss.valid())&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; osg::StateSet::AttributeList&amp;&nbsp;attrs&nbsp;=&nbsp;ss-&gt;getAttributeList();&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; osg::StateSet::AttributeList::&lt;wbr&gt;iterator&nbsp;itr&nbsp;=&nbsp;attrs.begin();&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for&nbsp;(;&nbsp;itr&nbsp;!=&nbsp;attrs.end();&nbsp;++itr)&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const&nbsp;osg::StateSet::&lt;wbr&gt;RefAttributePair&amp;&nbsp;attrp&nbsp;=&nbsp;itr-&gt;second;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const&nbsp;osg::ref_ptr&lt;osg::&lt;wbr&gt;StateAttribute&gt;&amp;&nbsp;attr&nbsp;=&nbsp;attrp.first;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; osg::ref_ptr&lt;osg::Texture2D&gt;&nbsp;texture&nbsp;=&nbsp;dynamic_cast&lt;osg::Texture2D*&gt;(&lt;wbr&gt;attr.get());&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;(texture.valid())&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; attrs.erase(itr);&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; traverse(node);&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp; &nbsp; }&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;};&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;trajce&nbsp;nikolov&nbsp;nick&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; &nbsp;------------------&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Post&nbsp;generated&nbsp;by&nbsp;Mail2Forum&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
------------------&lt;br&gt;<br>
Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=72751#72751&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.&lt;wbr&gt;org/viewtopic.php?p=72751#&lt;wbr&gt;72751&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.&lt;wbr&gt;openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.&lt;wbr&gt;org/listinfo.cgi/osg-users-&lt;wbr&gt;openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;trajce&nbsp;nikolov&nbsp;nick&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
