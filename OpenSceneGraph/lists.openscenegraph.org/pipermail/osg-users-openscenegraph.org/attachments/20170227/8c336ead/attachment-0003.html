<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=windows-1252&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi&nbsp;Robert,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;may&nbsp;be&nbsp;right.&nbsp;There&nbsp;are&nbsp;several&nbsp;(more)&nbsp;objects&nbsp;that&nbsp;have&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;rendered&nbsp;in&nbsp;a&nbsp;certain&nbsp;sequence&nbsp;and&nbsp;PRE-/NORMAL-/POST-RENDER&nbsp;is&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;little&nbsp;weak&nbsp;for&nbsp;fine&nbsp;grained&nbsp;tuning.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Can&nbsp;I&nbsp;use&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;wiki&quot;&gt;StateSet-&gt;setRenderBinDetails(&nbsp;11,&nbsp;&quot;RenderBin&quot;);<br>
<br>
instead?&nbsp;That&nbsp;should&nbsp;work,&nbsp;isn't&nbsp;it?<br>
What&nbsp;are&nbsp;the&nbsp;bin&nbsp;numbers&nbsp;usually&nbsp;used&nbsp;for&nbsp;the&nbsp;3&nbsp;modes?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;Am&nbsp;27.02.2017&nbsp;um&nbsp;12:02&nbsp;schrieb&nbsp;Robert<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Osfield:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:CAFN7Y+Wzdfw66fr1diEY2Tq6w+8tUxQcetbr+s9kacYvafkDHg@mail.gmail.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;HI&nbsp;Werner,<br>
<br>
It's&nbsp;hard&nbsp;to&nbsp;work&nbsp;exactly&nbsp;what&nbsp;is&nbsp;going&nbsp;on&nbsp;with&nbsp;a&nbsp;quick&nbsp;read&nbsp;through<br>
as&nbsp;it's&nbsp;rather&nbsp;complicated&nbsp;set&nbsp;up&nbsp;of&nbsp;various&nbsp;Camera's.&nbsp;&nbsp;My&nbsp;current<br>
best&nbsp;guess&nbsp;Your&nbsp;Cl_3D_Wallpaper&nbsp;class&nbsp;is&nbsp;setting&nbsp;the&nbsp;RenderOrder&nbsp;to<br>
POST_RENDER&nbsp;as&nbsp;this&nbsp;is&nbsp;make&nbsp;it&nbsp;render&nbsp;after&nbsp;the&nbsp;Camera&nbsp;you&nbsp;are&nbsp;adding<br>
to&nbsp;do&nbsp;the&nbsp;screenshot&nbsp;has&nbsp;been&nbsp;done.<br>
<br>
Perhaps&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;work&nbsp;out&nbsp;what&nbsp;order&nbsp;things&nbsp;are&nbsp;being&nbsp;done&nbsp;in<br>
is&nbsp;to&nbsp;add&nbsp;a&nbsp;Camera&nbsp;initiali,&nbsp;pre,&nbsp;post&nbsp;and&nbsp;a&nbsp;final&nbsp;DrawCallbacks&nbsp;to<br>
each&nbsp;of&nbsp;the&nbsp;Camera's&nbsp;and&nbsp;have&nbsp;these&nbsp;debug&nbsp;callbacks&nbsp;just&nbsp;write&nbsp;to&nbsp;the<br>
console&nbsp;when&nbsp;they&nbsp;are&nbsp;being&nbsp;called.<br>
<br>
Robert.<br>
<br>
On&nbsp;27&nbsp;February&nbsp;2017&nbsp;at&nbsp;10:34,&nbsp;Werner&nbsp;Modenbach<br>
&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;mailto:Werner.Modenbach@texion.eu&quot;&gt;&lt;Werner.Modenbach@texion.eu&gt;&lt;/a&gt;&nbsp;wrote:<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hi&nbsp;Robert,<br>
<br>
sorry&nbsp;for&nbsp;the&nbsp;delayed&nbsp;answer.&nbsp;It's&nbsp;carnival&nbsp;time&nbsp;here&nbsp;and&nbsp;so&nbsp;everybody&nbsp;is<br>
out&nbsp;-&nbsp;except&nbsp;me&nbsp;;-)<br>
<br>
I&nbsp;try&nbsp;to&nbsp;give&nbsp;an&nbsp;as&nbsp;compressed&nbsp;description&nbsp;as&nbsp;possible&nbsp;here.<br>
<br>
The&nbsp;scene&nbsp;looks&nbsp;like&nbsp;that:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;RootNode&nbsp;&nbsp;|<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
---------------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;ShadowScene&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;|evtl.<br>
PPU-Prozessor|<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
---------------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;Switchnode&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;LightSource&nbsp;|<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-----------------<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;User&nbsp;scene&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;evtl.&nbsp;further&nbsp;|<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;Objects&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
<br>
&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-----------------<br>
<br>
The&nbsp;further&nbsp;objects&nbsp;are&nbsp;the&nbsp;wallpaper,&nbsp;a&nbsp;magnifier&nbsp;etc.<br>
<br>
<br>
The&nbsp;main&nbsp;camera&nbsp;is&nbsp;a&nbsp;standard&nbsp;camera&nbsp;with&nbsp;perspective&nbsp;view&nbsp;and&nbsp;a&nbsp;trackball<br>
manipulator.<br>
The&nbsp;wallpaper&nbsp;class&nbsp;is&nbsp;like&nbsp;that:<br>
class&nbsp;Cl_3D_Wallpaper&nbsp;:&nbsp;public&nbsp;osg::Camera&nbsp;{<br>
<br>
public:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Cl_3D_Wallpaper(Cl_3Dview_osg&nbsp;*_parent);<br>
<br>
/**&nbsp;This&nbsp;Method&nbsp;creates&nbsp;the&nbsp;background&nbsp;image.&nbsp;*/<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;setWallpaper(const&nbsp;QString&nbsp;_path);<br>
<br>
protected:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Cl_3Dview_osg&nbsp;*view;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QString&nbsp;path;<br>
};<br>
<br>
<br>
Cl_3D_Wallpaper::Cl_3D_Wallpaper(Cl_3Dview_osg&nbsp;*_parent):&nbsp;view(_parent),<br>
path(QLatin1String(&quot;&quot;))&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setCullingActive(&nbsp;false&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setClearMask(&nbsp;0&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setAllowEventFocus(&nbsp;false&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setReferenceFrame(&nbsp;osg::Transform::ABSOLUTE_RF&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setRenderOrder(&nbsp;osg::Camera::POST_RENDER&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setProjectionMatrix(&nbsp;osg::Matrix::ortho2D(0.0,&nbsp;1.0,&nbsp;0.0,&nbsp;1.0)&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;setName(getNodeName().toStdString().c_str());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;osg::StateSet*&nbsp;ss&nbsp;=&nbsp;getOrCreateStateSet();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;ss-&gt;setMode(&nbsp;GL_LIGHTING,&nbsp;osg::StateAttribute::OFF&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;ss-&gt;setAttributeAndModes(&nbsp;new&nbsp;osg::Depth(osg::Depth::LEQUAL,&nbsp;1.0,&nbsp;1.0)<br>
);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;installDefaultShader(ss);&nbsp;&nbsp;//&nbsp;In&nbsp;case&nbsp;we&nbsp;are&nbsp;on&nbsp;gl3<br>
<br>
}<br>
<br>
/**&nbsp;Diese&nbsp;Methode&nbsp;erzeugt&nbsp;eine&nbsp;Hintergrundbildanzeige,<br>
<br>
&nbsp;&nbsp;*&nbsp;falls&nbsp;der&nbsp;Pfad&nbsp;auf&nbsp;eine&nbsp;Bilddatei&nbsp;verweist.<br>
<br>
&nbsp;&nbsp;*/<br>
<br>
void&nbsp;Cl_3D_Wallpaper::setWallpaper(const&nbsp;QString&nbsp;_path)&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;=&nbsp;_path;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!_path.isEmpty())&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;================================================<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Die&nbsp;Szene&nbsp;des&nbsp;Bildes&nbsp;erzeugen<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;================================================<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Geode*&nbsp;geode&nbsp;=&nbsp;new&nbsp;osg::Geode();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Geometry*&nbsp;geometry&nbsp;=<br>
osg::createTexturedQuadGeometry(osg::Vec3(0,0,0),osg::Vec3(1,0,0),osg::Vec3(0,1,0),0,<br>
0,&nbsp;1,&nbsp;1);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geode-&gt;addDrawable(geometry);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Texture2D*&nbsp;texture&nbsp;=&nbsp;view-&gt;loadTexture(_path,&nbsp;false);<br>
<br>
<br>
geode-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(BASE_TEXTURE_UNIT,<br>
texture,&nbsp;osg::StateAttribute::ON);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geode-&gt;getOrCreateStateSet()-&gt;setMode(GL_LIGHTING,<br>
osg::StateAttribute::OFF);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addChild(geode);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;installDefaultShader(geode-&gt;getOrCreateStateSet());&nbsp;//In&nbsp;case<br>
we&nbsp;are&nbsp;on&nbsp;gl3<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
}<br>
<br>
Now&nbsp;the&nbsp;part&nbsp;of&nbsp;getting&nbsp;a&nbsp;frame&nbsp;buffer&nbsp;screenshot:<br>
<br>
/**&nbsp;The&nbsp;screen&nbsp;image&nbsp;is&nbsp;rendered&nbsp;at&nbsp;a&nbsp;pregiven&nbsp;dpi&nbsp;*/<br>
<br>
QImage&nbsp;Cl_3Dview_osg::getHighResQImage(const&nbsp;int&nbsp;_dpi)&nbsp;{<br>
<br>
double&nbsp;scale&nbsp;=&nbsp;(double)_dpi&nbsp;/&nbsp;(double)dpi;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Calculation&nbsp;of&nbsp;image&nbsp;size&nbsp;and&nbsp;tiles&nbsp;per&nbsp;row<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;width&nbsp;=&nbsp;(int)&nbsp;(view-&gt;getGraphicsWidth());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;height&nbsp;=&nbsp;(int)&nbsp;(view-&gt;getGraphicsHeight());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;imageWidth&nbsp;=&nbsp;(int)(width&nbsp;*&nbsp;scale);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;imageHeight&nbsp;=&nbsp;(int)(height&nbsp;*&nbsp;scale);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;tiles&nbsp;=&nbsp;(imageWidth&nbsp;-&nbsp;1)&nbsp;/&nbsp;width&nbsp;+&nbsp;1;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::ref_ptr&lt;osg::Image&gt;&nbsp;image&nbsp;=&nbsp;new&nbsp;osg::Image;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Creating&nbsp;the&nbsp;new&nbsp;camera<br>
&nbsp;&nbsp;&nbsp;&nbsp;osg::ref_ptr&lt;osg::Camera&gt;&nbsp;&nbsp;camera&nbsp;=&nbsp;new&nbsp;osg::Camera;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;getOrCreateStateSet()-&gt;setGlobalDefaults();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setClearColor(view-&gt;getCamera()-&gt;getClearColor());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setViewport(new&nbsp;osg::Viewport(0,0,width,height));<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setClearMask(&nbsp;GL_COLOR_BUFFER_BIT&nbsp;|&nbsp;GL_DEPTH_BUFFER_BIT&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setReferenceFrame(&nbsp;osg::Transform::ABSOLUTE_RF&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setRenderTargetImplementation(osg::Camera::FRAME_BUFFER_OBJECT);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setRenderOrder(&nbsp;osg::Camera::POST_RENDER&nbsp;);<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;addChild(view-&gt;getCamera()-&gt;getChild(0));&nbsp;&nbsp;//&nbsp;The&nbsp;root&nbsp;node<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;osg::ref_ptr&lt;osg::Image&gt;&nbsp;fbImage&nbsp;=&nbsp;new&nbsp;osg::Image;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;fbImage-&gt;allocateImage(width,height,1,GL_RGBA,GL_UNSIGNED_BYTE,&nbsp;1);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;attach(&nbsp;osg::Camera::COLOR_BUFFER,&nbsp;fbImage.get(),&nbsp;0,&nbsp;0);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Setting&nbsp;the&nbsp;new&nbsp;camera&nbsp;a&nbsp;child&nbsp;of&nbsp;the&nbsp;main&nbsp;camera<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;getCamera()-&gt;addChild(camera.get());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Loop&nbsp;over&nbsp;tiles<br>
&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrixd&nbsp;viewMatrix&nbsp;=&nbsp;view-&gt;getCamera()-&gt;getViewMatrix();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrixd&nbsp;projectionMatrix&nbsp;=<br>
view-&gt;getCamera()-&gt;getProjectionMatrix();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y_out&nbsp;=&nbsp;imageHeight&nbsp;-&nbsp;1;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;row&nbsp;=&nbsp;0;&nbsp;row&nbsp;&lt;&nbsp;tiles;&nbsp;row++)&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;col&nbsp;=&nbsp;0;&nbsp;col&nbsp;&lt;&nbsp;tiles;&nbsp;col++)&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Calculate&nbsp;projection&nbsp;matrix&nbsp;offset&nbsp;of&nbsp;each&nbsp;tile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrix&nbsp;offsetMatrix&nbsp;=<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrix::scale(scale,&nbsp;scale,&nbsp;1.0)&nbsp;*<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrix::translate(scale-1-2*col,&nbsp;scale-1-2*row,<br>
0.0);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setViewMatrix(viewMatrix);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;camera-&gt;setProjectionMatrix(&nbsp;projectionMatrix&nbsp;*&nbsp;offsetMatrix&nbsp;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;frame();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;=&nbsp;fbImage.get();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Transferring&nbsp;tile&nbsp;into&nbsp;final&nbsp;image<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.......<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y_out&nbsp;-=&nbsp;height;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(y_out&nbsp;&lt;&nbsp;0)&nbsp;break;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;getCamera()-&gt;removeChild(camera.get());<br>
}<br>
<br>
<br>
The&nbsp;rendered&nbsp;image&nbsp;is&nbsp;missing&nbsp;my&nbsp;wallpaper.<br>
If&nbsp;I&nbsp;add&nbsp;the&nbsp;camera&nbsp;as&nbsp;a&nbsp;slave&nbsp;camera&nbsp;to&nbsp;the&nbsp;main&nbsp;camera&nbsp;I&nbsp;just&nbsp;get&nbsp;an&nbsp;empty<br>
black&nbsp;image.<br>
Actually&nbsp;I&nbsp;also&nbsp;don't&nbsp;understand&nbsp;the&nbsp;difference&nbsp;between&nbsp;slave&nbsp;and&nbsp;child<br>
cameras&nbsp;here.&nbsp;I&nbsp;know&nbsp;you&nbsp;explained&nbsp;it&nbsp;recently&nbsp;:-)<br>
Why&nbsp;does&nbsp;the&nbsp;slave&nbsp;camera&nbsp;give&nbsp;an&nbsp;empty&nbsp;image&nbsp;but&nbsp;the&nbsp;child&nbsp;camera&nbsp;doesn't?<br>
<br>
BTW.&nbsp;I&nbsp;wrote&nbsp;my&nbsp;code&nbsp;here&nbsp;with&nbsp;the&nbsp;background&nbsp;of&nbsp;giving&nbsp;an&nbsp;example&nbsp;to&nbsp;others<br>
looking&nbsp;for&nbsp;functionality&nbsp;like&nbsp;that.<br>
<br>
<br>
<br>
<br>
<br>
Am&nbsp;24.02.2017&nbsp;um&nbsp;17:56&nbsp;schrieb&nbsp;Robert&nbsp;Osfield:<br>
<br>
Hi&nbsp;Werner,<br>
<br>
In&nbsp;principle&nbsp;what&nbsp;you&nbsp;are&nbsp;doing&nbsp;should&nbsp;be&nbsp;possible.&nbsp;&nbsp;What&nbsp;is&nbsp;going<br>
wrong&nbsp;in&nbsp;your&nbsp;instance&nbsp;is&nbsp;impossible&nbsp;to&nbsp;say&nbsp;without&nbsp;seeing&nbsp;how&nbsp;you&nbsp;are<br>
setting&nbsp;up&nbsp;the&nbsp;viewer&nbsp;Camera's&nbsp;and&nbsp;the&nbsp;in&nbsp;scene&nbsp;graph&nbsp;Camera's.<br>
<br>
Robert.<br>
<br>
On&nbsp;24&nbsp;February&nbsp;2017&nbsp;at&nbsp;16:44,&nbsp;Werner&nbsp;Modenbach<br>
&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;mailto:Werner.Modenbach@texion.eu&quot;&gt;&lt;Werner.Modenbach@texion.eu&gt;&lt;/a&gt;&nbsp;wrote:<br>
<br>
Hi&nbsp;all,<br>
sorry&nbsp;for&nbsp;so&nbsp;many&nbsp;questions&nbsp;today.<br>
<br>
My&nbsp;scene&nbsp;graph&nbsp;has&nbsp;additional&nbsp;cameras&nbsp;as&nbsp;children&nbsp;somewhere&nbsp;in&nbsp;the&nbsp;scene<br>
graph.<br>
For&nbsp;example&nbsp;a&nbsp;hud&nbsp;camera&nbsp;for&nbsp;a&nbsp;background&nbsp;image.<br>
<br>
I&nbsp;do&nbsp;screenshots&nbsp;by&nbsp;adding&nbsp;a&nbsp;slave&nbsp;camera&nbsp;to&nbsp;the&nbsp;main&nbsp;camera&nbsp;which&nbsp;renders<br>
the&nbsp;scene&nbsp;to&nbsp;the&nbsp;FB.<br>
Unfortunately&nbsp;this&nbsp;rendering&nbsp;doesn't&nbsp;show&nbsp;the&nbsp;parts&nbsp;of&nbsp;the&nbsp;nested&nbsp;cameras,<br>
i.e.&nbsp;no<br>
background&nbsp;wallpaper.<br>
What&nbsp;is&nbsp;the&nbsp;recommended&nbsp;way&nbsp;to&nbsp;solve&nbsp;this?<br>
<br>
Thanks&nbsp;for&nbsp;any&nbsp;help.<br>
<br>
-&nbsp;Werner&nbsp;-<br>
<br>
<br>
_______________________________________________<br>
osg-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;<br>
<br>
_______________________________________________<br>
osg-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;<br>
<br>
<br>
<br>
_______________________________________________<br>
osg-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;_______________________________________________<br>
osg-users&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-signature&quot;&gt;--&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;TE&lt;span&nbsp;style=&quot;color:red;&quot;&gt;X&lt;/span&gt;ION&nbsp;Software&nbsp;Solutions&lt;/b&gt;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotter&nbsp;Bruch&nbsp;26a,&nbsp;D-52068&nbsp;Aachen&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Phone:&nbsp;+49&nbsp;241&nbsp;475757-0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fax:&nbsp;+49&nbsp;241&nbsp;475757-29&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://texion.eu&quot;&gt;http://texion.eu&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eMail:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:info@texion.eu&quot;&gt;info@texion.eu&lt;/a&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
