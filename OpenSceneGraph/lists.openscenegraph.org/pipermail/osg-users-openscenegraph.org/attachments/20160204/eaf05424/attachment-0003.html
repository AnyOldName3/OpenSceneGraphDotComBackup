<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Yep&nbsp;sorry.&nbsp;I&nbsp;was&nbsp;having&nbsp;some&nbsp;(other)&nbsp;issue&nbsp;where&nbsp;text&nbsp;was&nbsp;not&nbsp;rendered&nbsp;when&nbsp;I&nbsp;had&nbsp;enabled&nbsp;shadows,&nbsp;so&nbsp;I&nbsp;was&nbsp;messing&nbsp;with&nbsp;osgViewer.cpp&nbsp;copying&nbsp;sample&nbsp;code&nbsp;from&nbsp;osgShadow&nbsp;there.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;example&nbsp;that&nbsp;reveals&nbsp;the&nbsp;issue&nbsp;at&nbsp;shutdown&nbsp;is&nbsp;plainly&nbsp;osgShadow.cpp&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Output:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;osgshadow.exe&nbsp;--window&nbsp;0&nbsp;0&nbsp;1024&nbsp;768&lt;/div&gt;&lt;div&gt;FOV&nbsp;is&nbsp;29.1484&lt;/div&gt;&lt;div&gt;Error:&nbsp;OpenGL&nbsp;version&nbsp;test&nbsp;failed,&nbsp;requires&nbsp;valid&nbsp;graphics&nbsp;context.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;a&nbsp;crasch.&nbsp;Interestingly&nbsp;only&nbsp;if&nbsp;you&nbsp;first&nbsp;move&nbsp;the&nbsp;camera&nbsp;(left&nbsp;mouse&nbsp;move)&nbsp;in&nbsp;the&nbsp;graphics&nbsp;window.&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;do&nbsp;not&nbsp;interact&nbsp;with&nbsp;the&nbsp;scene,&nbsp;it&nbsp;only&nbsp;show&nbsp;the&nbsp;error&nbsp;message.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;/Anders&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Feb&nbsp;4,&nbsp;2016&nbsp;at&nbsp;11:57&nbsp;AM,&nbsp;Robert&nbsp;Osfield&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:robert.osfield@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;robert.osfield@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Anders,&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;a&nbsp;new&nbsp;mechanism&nbsp;for&nbsp;managing&nbsp;clean&nbsp;up&nbsp;of&nbsp;GL&nbsp;objects,&nbsp;which&nbsp;in&lt;br&gt;<br>
theory&nbsp;should&nbsp;help&nbsp;improve&nbsp;management&nbsp;of&nbsp;lifetimes&nbsp;of&nbsp;GL&nbsp;objects.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;warning&nbsp;suggests&nbsp;that&nbsp;something&nbsp;is&nbsp;try&nbsp;to&nbsp;do&nbsp;GL&nbsp;call&nbsp;after&nbsp;the&lt;br&gt;<br>
context&nbsp;is&nbsp;cleaned&nbsp;up,&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;yet&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;new&lt;br&gt;<br>
code&nbsp;or&nbsp;whether&nbsp;the&nbsp;new&nbsp;code&nbsp;is&nbsp;just&nbsp;revealling&nbsp;an&nbsp;old&nbsp;bug&nbsp;elsewhere.&lt;br&gt;<br>
&lt;br&gt;<br>
Could&nbsp;you&nbsp;be&nbsp;more&nbsp;specific&nbsp;of&nbsp;how&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;problem&nbsp;as&nbsp;there&lt;br&gt;<br>
isn&#39;t&nbsp;an&nbsp;--ssm&nbsp;option&nbsp;supported&nbsp;by&nbsp;the&nbsp;osgviewer&nbsp;example.&lt;br&gt;<br>
&lt;br&gt;<br>
Robert.&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;4&nbsp;February&nbsp;2016&nbsp;at&nbsp;09:05,&nbsp;Anders&nbsp;Backman&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:andersb@cs.umu.se&quot;&gt;andersb@cs.umu.se&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;all.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Trying&nbsp;OSG&nbsp;3.5.1&nbsp;and&nbsp;I&nbsp;have&nbsp;started&nbsp;to&nbsp;get&nbsp;some&nbsp;problems&nbsp;with&nbsp;objects&lt;br&gt;<br>
&gt;&nbsp;(osg::Program/osg::Shaders&nbsp;etc.)&nbsp;being&nbsp;de-allocated&nbsp;after&nbsp;context&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;destroyed:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Error:&nbsp;OpenGL&nbsp;version&nbsp;test&nbsp;failed,&nbsp;requires&nbsp;valid&nbsp;graphics&nbsp;context.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Sometime&nbsp;it&nbsp;crasches&nbsp;sometimes&nbsp;it&nbsp;just&nbsp;print&nbsp;the&nbsp;warning.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;can&nbsp;reproduce&nbsp;it&nbsp;with&nbsp;osgViewer&nbsp;--ssm&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;only&nbsp;solution&nbsp;so&nbsp;far&nbsp;has&nbsp;been&nbsp;to&nbsp;keep&nbsp;a&nbsp;static&nbsp;reference&nbsp;to&nbsp;the&nbsp;camera&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;the&nbsp;scene,&nbsp;which&nbsp;feels&nbsp;a&nbsp;lot&nbsp;like&nbsp;a&nbsp;hack.&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;same&nbsp;code&nbsp;worked&nbsp;in&nbsp;3.4.0.&nbsp;So&nbsp;as&nbsp;you&nbsp;wrote&nbsp;in&nbsp;an&nbsp;earlier&nbsp;post,&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;probably&nbsp;reveals&nbsp;something&nbsp;that&nbsp;was&nbsp;not&nbsp;deallocated&nbsp;before.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;As&nbsp;soon&nbsp;as&nbsp;the&nbsp;viewer&nbsp;is&nbsp;destroyed,&nbsp;it&nbsp;takes&nbsp;the&nbsp;camera&nbsp;with&nbsp;it.&nbsp;Hence&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;Context&nbsp;is&nbsp;also&nbsp;destroyed.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Not&nbsp;sure&nbsp;how&nbsp;to&nbsp;handle&nbsp;this&nbsp;in&nbsp;an&nbsp;general&nbsp;way.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;/Anders&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;__________________________________________&lt;br&gt;<br>
&gt;&nbsp;Anders&nbsp;Backman,&nbsp;HPC2N&lt;br&gt;<br>
&gt;&nbsp;90187&nbsp;Umeå&nbsp;University,&nbsp;Sweden&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:anders@cs.umu.se&quot;&gt;anders@cs.umu.se&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.hpc2n.umu.se&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.hpc2n.umu.se&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;Cell:&nbsp;&lt;a&nbsp;href=&quot;tel:%2B46-70-392%2064%2067&quot;&nbsp;value=&quot;+46703926467&quot;&gt;+46-70-392&nbsp;64&nbsp;67&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;__________________________________________&lt;br&gt;Anders&nbsp;Backman,&nbsp;HPC2N&lt;br&gt;90187&nbsp;Umeå&nbsp;University,&nbsp;Sweden&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:anders@cs.umu.se&quot;&nbsp;target=&quot;_blank&quot;&gt;anders@cs.umu.se&lt;/a&gt; &lt;a&nbsp;href=&quot;http://www.hpc2n.umu.se/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.hpc2n.umu.se&lt;/a&gt;&lt;br&gt;Cell:&nbsp;+46-70-392&nbsp;64&nbsp;67&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
