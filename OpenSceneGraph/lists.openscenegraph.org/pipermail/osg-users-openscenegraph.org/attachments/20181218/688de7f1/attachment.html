<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;seeing&nbsp;a&nbsp;crash&nbsp;on&nbsp;the&nbsp;OpenSceneGraph-3.6&nbsp;branch&nbsp;that&nbsp;occurs&nbsp;when&nbsp;I&nbsp;have&nbsp;two&nbsp;CompositeViewers&nbsp;that&nbsp;contain&nbsp;Text&nbsp;objects&nbsp;in&nbsp;their&nbsp;scenes.&nbsp;My&nbsp;simplified&nbsp;scenario&nbsp;is&nbsp;this:&lt;/div&gt;&lt;div&gt;-&nbsp;2&nbsp;CompositeViewers,&nbsp;each&nbsp;in&nbsp;singlethreaded&nbsp;mode,&nbsp;but&nbsp;being&nbsp;run&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;in&nbsp;separate&nbsp;threads&nbsp;(via&nbsp;OpenThreads::Thread&nbsp;wrappers)&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;viewers&nbsp;do&nbsp;not&nbsp;share&nbsp;scenes&nbsp;or&nbsp;contexts,&nbsp;and&nbsp;each&nbsp;has&nbsp;a&nbsp;single&nbsp;Text&nbsp;object&nbsp;as&nbsp;its&nbsp;scene&lt;/div&gt;&lt;div&gt;-&nbsp;Each&nbsp;viewer&nbsp;is&nbsp;destroyed&nbsp;immediately&nbsp;after&nbsp;its&nbsp;run()&nbsp;loop&nbsp;returns&nbsp;(needed&nbsp;for&nbsp;my&nbsp;application)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Both&nbsp;viewers&nbsp;animate&nbsp;just&nbsp;fine&nbsp;in&nbsp;their&nbsp;own&nbsp;windows.&nbsp;The&nbsp;crash&nbsp;happens&nbsp;if&nbsp;one&nbsp;viewer&nbsp;is&nbsp;being&nbsp;destroyed&nbsp;while&nbsp;the&nbsp;other&nbsp;is&nbsp;actively&nbsp;rendering.&nbsp;Note&nbsp;that&nbsp;it&nbsp;only&nbsp;seems&nbsp;to&nbsp;crash&nbsp;if&nbsp;there&nbsp;are&nbsp;Text&nbsp;objects&nbsp;in&nbsp;each&nbsp;scene,&nbsp;and&nbsp;did&nbsp;not&nbsp;crash&nbsp;with&nbsp;the&nbsp;old&nbsp;(pre-3.6)&nbsp;Text&nbsp;implementation. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;usage&nbsp;model&nbsp;ok&nbsp;in&nbsp;the&nbsp;first&nbsp;place?&nbsp;Robert,&nbsp;I&nbsp;read&nbsp;your&nbsp;post&nbsp;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?t=16844&quot;&nbsp;target=&quot;_blank&quot;&gt;in&nbsp;this&nbsp;recent&nbsp;thread&lt;/a&gt; in&nbsp;which&nbsp;you&nbsp;advise&nbsp;against&nbsp;manually&nbsp;destroying&nbsp;viewers.&nbsp;Should&nbsp;I&nbsp;assume&nbsp;that&nbsp;I&nbsp;was&nbsp;just&nbsp;lucky&nbsp;in&nbsp;getting&nbsp;away&nbsp;with&nbsp;this&nbsp;until&nbsp;now?&nbsp;The&nbsp;new&nbsp;Text&nbsp;implementation&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&nbsp;only&nbsp;thing&nbsp;that&nbsp;triggers&nbsp;the&nbsp;crash.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;case&nbsp;anybody&nbsp;is&nbsp;interested,&nbsp;the&nbsp;crash&nbsp;happens&nbsp;due&nbsp;to&nbsp;this&nbsp;sequence&nbsp;of&nbsp;calls:&lt;/div&gt;&lt;div&gt;-&nbsp;~CompositeViewer()&nbsp;calls&nbsp;GraphicsContext::close(),&nbsp;which&nbsp;deletes&nbsp;its&nbsp;State&lt;/div&gt;&lt;div&gt;-&nbsp;~CompositeViewer()&nbsp;then&nbsp;destroys&nbsp;its&nbsp;osgViewer::View,&nbsp;which&nbsp;in&nbsp;turn&nbsp;destroys&nbsp;its&nbsp;Camera&lt;/div&gt;&lt;div&gt;-&nbsp;~Camera()&nbsp;eventually&nbsp;calls&nbsp;osgText::releaseGLObjects()&nbsp;with&nbsp;a&nbsp;null&nbsp;State.&lt;/div&gt;&lt;div&gt;-&nbsp;osgText::releaseGLObjects(null)&nbsp;deletes&nbsp;text-related&nbsp;objects&nbsp;(Programs)&nbsp;on&nbsp;ALL&nbsp;contexts&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;other&nbsp;CompositeViewer,&nbsp;which&nbsp;is&nbsp;actively&nbsp;rendering&nbsp;its&nbsp;Text&nbsp;on&nbsp;another&nbsp;context,&nbsp;crashes&nbsp;with&nbsp;an&nbsp;access&nbsp;violation&nbsp;since&nbsp;its&nbsp;Text-related&nbsp;Programs&nbsp;were&nbsp;just&nbsp;deleted.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Ravi&lt;/div&gt;&lt;/div&gt;<br>

</tt>
