<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;We&#39;ve&nbsp;run&nbsp;into&nbsp;a&nbsp;very&nbsp;similar&nbsp;issue&nbsp;recently,&nbsp;with&nbsp;hundreds&nbsp;of&nbsp;inividually&nbsp;movable&nbsp;objects&nbsp;in&nbsp;a&nbsp;scene.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Our&nbsp;ugly&nbsp;workaround&nbsp;was&nbsp;to&nbsp;require&nbsp;a&nbsp;modifier&nbsp;key,&nbsp;e.g.&nbsp;Alt&nbsp;to&nbsp;be&nbsp;pressed&nbsp;if&nbsp;one&nbsp;really&nbsp;intended&nbsp;to&nbsp;move&lt;br&gt;&lt;/div&gt;an&nbsp;object.&nbsp;So&nbsp;at&nbsp;least&nbsp;the&nbsp;camera&nbsp;controls&nbsp;when&nbsp;not&nbsp;pressing&nbsp;the&nbsp;modifier&nbsp;remained&nbsp;smooth.&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;would&nbsp;also&nbsp;be&nbsp;very&nbsp;interested&nbsp;in&nbsp;seeing&nbsp;some&nbsp;optimization&nbsp;to&nbsp;the&nbsp;way&nbsp;draggers&nbsp;compute&nbsp;their&nbsp;intersections.&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Greetings,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;  &nbsp;Christian&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2015-05-06&nbsp;18:49&nbsp;GMT+02:00&nbsp;Jaap&nbsp;Glas&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:jaap.glas@dgbes.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jaap.glas@dgbes.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Dear&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;an&nbsp;employee&nbsp;of&nbsp;dGB&nbsp;Earth&nbsp;Sciences,&nbsp;and&nbsp;we&nbsp;use&nbsp;OpenSceneGraph&nbsp;for&lt;br&gt;<br>
the&nbsp;3D&nbsp;visualization&nbsp;of&nbsp;our&nbsp;open-source&nbsp;seismic&nbsp;interpretation&nbsp;package&lt;br&gt;<br>
OpendTect.&lt;br&gt;<br>
&lt;br&gt;<br>
Our&nbsp;scenes&nbsp;may&nbsp;sometimes&nbsp;contain&nbsp;hundreds&nbsp;to&nbsp;thousands&nbsp;of&nbsp;draggers,&nbsp;mostly&lt;br&gt;<br>
Translate(1D/2D)Draggers.&nbsp;We&nbsp;found&nbsp;that&nbsp;mouse&nbsp;clicking&nbsp;in&nbsp;the&nbsp;scene&nbsp;becomes&lt;br&gt;<br>
very&nbsp;slow&nbsp;in&nbsp;that&nbsp;case.&nbsp;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;every&nbsp;OSG&nbsp;dragger&nbsp;tries&nbsp;to&nbsp;intersect&lt;br&gt;<br>
the&nbsp;line&nbsp;from&nbsp;camera&nbsp;eye&nbsp;to&nbsp;mouse&nbsp;position&nbsp;with&nbsp;all&nbsp;objects&nbsp;in&nbsp;the&nbsp;scene&nbsp;in&lt;br&gt;<br>
order&nbsp;to&nbsp;produce&nbsp;its&nbsp;private&nbsp;list&nbsp;of&nbsp;intersections:&lt;br&gt;<br>
&lt;br&gt;<br>
[osgManipulator/Dragger.cpp:371]&lt;br&gt;<br>
if&nbsp;(&nbsp;view-&gt;computeIntersections(ea&nbsp;,intersections,_intersectionMask)&nbsp;)&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;question&nbsp;is&nbsp;whether&nbsp;this&nbsp;is&nbsp;really&nbsp;necessary?&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;(yet)&nbsp;why&lt;br&gt;<br>
this&nbsp;list&nbsp;cannot&nbsp;be&nbsp;calculated&nbsp;only&nbsp;once&nbsp;and&nbsp;shared&nbsp;by&nbsp;all&nbsp;OSG&nbsp;draggers.&lt;br&gt;<br>
Or&nbsp;alternatively,&nbsp;only&nbsp;calculated&nbsp;for&nbsp;draggers&nbsp;that&nbsp;are&nbsp;located&nbsp;under&nbsp;the&lt;br&gt;<br>
mouse&nbsp;pointer.&lt;br&gt;<br>
&lt;br&gt;<br>
Our&nbsp;current&nbsp;workaround&nbsp;consists&nbsp;of&nbsp;derived&nbsp;dragger&nbsp;classes&nbsp;that&nbsp;overload&lt;br&gt;<br>
the&nbsp;Dragger::traverse(.)&nbsp;function&nbsp;to&nbsp;test&nbsp;this&nbsp;latter&nbsp;alternative&nbsp;in&nbsp;advance,&lt;br&gt;<br>
passing&nbsp;the&nbsp;current&nbsp;node&nbsp;path&nbsp;as&nbsp;an&nbsp;extra&nbsp;parameter:&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;(&nbsp;!view-&gt;computeIntersections(*ea,nv.getNodePath(),intersections,&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _intersectionMask)&nbsp;)&nbsp;continue;&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;reduces&nbsp;the&nbsp;computational&nbsp;order&nbsp;of&nbsp;mouse&nbsp;clicking&nbsp;from&nbsp;quadratic&nbsp;to&lt;br&gt;<br>
linear&nbsp;with&nbsp;the&nbsp;number&nbsp;of&nbsp;draggers&nbsp;in&nbsp;the&nbsp;scene.&nbsp;And&nbsp;mouse&nbsp;clicking&nbsp;in&nbsp;the&lt;br&gt;<br>
scene&nbsp;can&nbsp;be&nbsp;done&nbsp;again&nbsp;without&nbsp;huge&nbsp;delay.&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;the&nbsp;question&nbsp;is&nbsp;whether&nbsp;such&nbsp;a&nbsp;shortcut&nbsp;would&nbsp;apply&nbsp;in&nbsp;the&nbsp;general&lt;br&gt;<br>
case.&nbsp;Why&nbsp;is&nbsp;the&nbsp;osgManipulator::Dragger&nbsp;class&nbsp;doing&nbsp;this&nbsp;the&nbsp;way&nbsp;it&nbsp;does?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Jaap&nbsp;Glas&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;dr&nbsp;Jaap&nbsp;C.&nbsp;Glas&lt;br&gt;<br>
--&nbsp;Software&nbsp;Engineer&lt;br&gt;<br>
--&nbsp;dGB&nbsp;Earth&nbsp;Sciences&lt;br&gt;<br>
--&nbsp;Phone:&nbsp;+31&nbsp;53&nbsp;435155&lt;br&gt;<br>
--&nbsp;Email:&lt;br&gt;<br>
--&nbsp;Internet:&nbsp;&lt;a&nbsp;href=&quot;http://dgbes.com&quot;&nbsp;target=&quot;_blank&quot;&gt;dgbes.com&lt;/a&gt;&nbsp;&amp;&nbsp;&lt;a&nbsp;href=&quot;http://opendtect.org&quot;&nbsp;target=&quot;_blank&quot;&gt;opendtect.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
------------------&lt;br&gt;<br>
Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=63651#63651&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?p=63651#63651&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
