<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;style&gt;body&nbsp;{&nbsp;line-height:&nbsp;1.5;&nbsp;}blockquote&nbsp;{&nbsp;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0.5em;&nbsp;}body&nbsp;{&nbsp;font-size:&nbsp;10.5pt;&nbsp;font-family:&nbsp;'Microsoft&nbsp;YaHei&nbsp;UI';&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;line-height:&nbsp;1.5;&nbsp;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;/span&gt;Hi&nbsp;All,&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;&quot;&nbsp;microsoft=&quot;&quot;&nbsp;yahei=&quot;&quot;&nbsp;ui'&quot;;=&quot;&quot;&nbsp;font-size:=&quot;&quot;&nbsp;14px;=&quot;&quot;&nbsp;color:=&quot;&quot;&nbsp;rgb(0,=&quot;&quot;&nbsp;0,=&quot;&quot;&nbsp;0);=&quot;&quot;&nbsp;background-color:=&quot;&quot;&nbsp;rgba(0,=&quot;&quot;&nbsp;font-weight:=&quot;&quot;&nbsp;normal;=&quot;&quot;&nbsp;font-style:=&quot;&quot;&nbsp;normal;text-decoration:=&quot;&quot;&nbsp;none;'=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;trying&nbsp;to&nbsp;make&nbsp;osgEarth&nbsp;run&nbsp;on&nbsp;Android&nbsp;(OSG&nbsp;3.2&nbsp;&amp;&nbsp;osgEarth&nbsp;2.3).&nbsp;Now&nbsp;the&nbsp;earth&nbsp;can&nbsp;display&nbsp;on&nbsp;Android&nbsp;system.&nbsp;But&nbsp;I&nbsp;run&nbsp;into&nbsp;a&nbsp;problem&nbsp;with&nbsp;regard&nbsp;to&nbsp;std:istream.&nbsp;I&nbsp;tried&nbsp;to&nbsp;load&nbsp;an&nbsp;osgb&nbsp;file&nbsp;by&nbsp;the&nbsp;following&nbsp;code&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;&quot;&nbsp;microsoft=&quot;&quot;&nbsp;yahei=&quot;&quot;&nbsp;ui'&quot;;=&quot;&quot;&nbsp;font-size:=&quot;&quot;&nbsp;14px;=&quot;&quot;&nbsp;color:=&quot;&quot;&nbsp;rgb(0,=&quot;&quot;&nbsp;0,=&quot;&quot;&nbsp;0);=&quot;&quot;&nbsp;background-color:=&quot;&quot;&nbsp;rgba(0,=&quot;&quot;&nbsp;font-weight:=&quot;&quot;&nbsp;normal;=&quot;&quot;&nbsp;font-style:=&quot;&quot;&nbsp;normal;text-decoration:=&quot;&quot;&nbsp;none;'=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;&quot;&nbsp;microsoft=&quot;&quot;&nbsp;yahei=&quot;&quot;&nbsp;ui'&quot;;=&quot;&quot;&nbsp;font-size:=&quot;&quot;&nbsp;14px;=&quot;&quot;&nbsp;color:=&quot;&quot;&nbsp;rgb(0,=&quot;&quot;&nbsp;0,=&quot;&quot;&nbsp;0);=&quot;&quot;&nbsp;background-color:=&quot;&quot;&nbsp;rgba(0,=&quot;&quot;&nbsp;font-weight:=&quot;&quot;&nbsp;normal;=&quot;&quot;&nbsp;font-style:=&quot;&quot;&nbsp;normal;text-decoration:=&quot;&quot;&nbsp;none;'=&quot;&quot;&gt;osg::ref_ptr&lt;osg::Node&gt;&nbsp;node&nbsp;=&nbsp;osgDB::readNodeFile(&quot;/sdcard/WV/Models/tk.osgb&quot;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;the&nbsp;variable&nbsp;node's&nbsp;value&nbsp;is&nbsp;always&nbsp;be&nbsp;NULL.&nbsp;&nbsp;I&nbsp;step&nbsp;into&nbsp;this&nbsp;line&nbsp;and&nbsp;traced&nbsp;down&nbsp;to&nbsp;file&nbsp;ReaderWriterOSG2.cpp&lt;/div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;&quot;&nbsp;microsoft=&quot;&quot;&nbsp;yahei=&quot;&quot;&nbsp;ui'&quot;;=&quot;&quot;&nbsp;font-size:=&quot;&quot;&nbsp;14px;=&quot;&quot;&nbsp;color:=&quot;&quot;&nbsp;rgb(0,=&quot;&quot;&nbsp;0,=&quot;&quot;&nbsp;0);=&quot;&quot;&nbsp;background-color:=&quot;&quot;&nbsp;rgba(0,=&quot;&quot;&nbsp;font-weight:=&quot;&quot;&nbsp;normal;=&quot;&quot;&nbsp;font-style:=&quot;&quot;&nbsp;normal;text-decoration:=&quot;&quot;&nbsp;none;'=&quot;&quot;&gt;virtual&nbsp;ReadResult&nbsp;readNode(&nbsp;const&nbsp;std::string&amp;&nbsp;file,&nbsp;const&nbsp;Options*&nbsp;options&nbsp;)&nbsp;const&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadResult&nbsp;result&nbsp;=&nbsp;ReadResult::FILE_LOADED;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;fileName&nbsp;=&nbsp;file;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::ios::openmode&nbsp;mode&nbsp;=&nbsp;std::ios::in;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options*&nbsp;local_opt&nbsp;=&nbsp;prepareReading(&nbsp;result,&nbsp;fileName,&nbsp;mode,&nbsp;options&nbsp;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;!result.success()&nbsp;)&nbsp;return&nbsp;result;&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osgDB::ifstream&nbsp;istream(&nbsp;fileName.c_str(),&nbsp;mode&nbsp;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;readNode(&nbsp;istream,&nbsp;local_opt&nbsp;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;&quot;&nbsp;microsoft=&quot;&quot;&nbsp;yahei=&quot;&quot;&nbsp;ui'&quot;;=&quot;&quot;&nbsp;font-size:=&quot;&quot;&nbsp;14px;=&quot;&quot;&nbsp;color:=&quot;&quot;&nbsp;rgb(0,=&quot;&quot;&nbsp;0,=&quot;&quot;&nbsp;0);=&quot;&quot;&nbsp;background-color:=&quot;&quot;&nbsp;rgba(0,=&quot;&quot;&nbsp;font-weight:=&quot;&quot;&nbsp;normal;=&quot;&quot;&nbsp;font-style:=&quot;&quot;&nbsp;normal;text-decoration:=&quot;&quot;&nbsp;none;'=&quot;&quot;&gt;virtual&nbsp;ReadResult&nbsp;readNode(&nbsp;std::istream&amp;&nbsp;fin,&nbsp;const&nbsp;Options*&nbsp;options&nbsp;)&nbsp;const&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::ref_ptr&lt;InputIterator&gt;&nbsp;ii&nbsp;=&nbsp;readInputIterator(fin,&nbsp;options);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;!ii&nbsp;)&nbsp;return&nbsp;ReadResult::FILE_NOT_HANDLED;&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;is(&nbsp;options&nbsp;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;is.start(ii.get())!=InputStream::READ_SCENE&nbsp;)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CATCH_EXCEPTION(is);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ReadResult::FILE_NOT_HANDLED;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is.decompress();&nbsp;CATCH_EXCEPTION(is);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Node*&nbsp;node&nbsp;=&nbsp;dynamic_cast&lt;osg::Node*&gt;(is.readObject());&nbsp;CATCH_EXCEPTION(is);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;node;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;the&nbsp;debugger&nbsp;couldn't&nbsp;step&nbsp;into&nbsp;the&nbsp;function&nbsp;readNode(&nbsp;std::istream&amp;&nbsp;fin,&nbsp;const&nbsp;Options*&nbsp;options&nbsp;).&nbsp;But&nbsp;on&nbsp;windows&nbsp;it&nbsp;works.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;anybody&nbsp;tell&nbsp;me&nbsp;how&nbsp;to&nbsp;solve&nbsp;this&nbsp;problem?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dev&nbsp;Environment:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'';&nbsp;font-size:&nbsp;10.5pt;&nbsp;line-height:&nbsp;1.5;&nbsp;background-color:&nbsp;window;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Visual&nbsp;Studio&nbsp;2017&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'';&nbsp;font-size:&nbsp;10.5pt;&nbsp;line-height:&nbsp;1.5;&nbsp;background-color:&nbsp;window;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Android&nbsp;7.0&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'';&nbsp;font-size:&nbsp;10.5pt;&nbsp;line-height:&nbsp;1.5;&nbsp;background-color:&nbsp;window;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Android&nbsp;NDK64&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;'';&nbsp;font-size:&nbsp;10.5pt;&nbsp;line-height:&nbsp;1.5;&nbsp;background-color:&nbsp;window;&quot;&gt;r13b&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'';&nbsp;font-size:&nbsp;10.5pt;&nbsp;line-height:&nbsp;1.5;&nbsp;background-color:&nbsp;window;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Arch&nbsp;arm64-v8a&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Glen&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0.5em;&quot;&gt;&lt;div&gt;<br>
&lt;div&gt;_______________________________________________&lt;/div&gt;<br>
&lt;div&gt;osg-users&nbsp;mailing&nbsp;list&lt;/div&gt;<br>
&lt;div&gt;osg-users@lists.openscenegraph.org&lt;/div&gt;<br>
&lt;div&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
