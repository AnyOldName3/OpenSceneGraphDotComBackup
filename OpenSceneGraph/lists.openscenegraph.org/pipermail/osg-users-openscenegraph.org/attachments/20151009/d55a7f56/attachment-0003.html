<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Dan,&lt;br&gt;&lt;br&gt;&lt;/div&gt;It&nbsp;could&nbsp;be&nbsp;that&nbsp;UnRefImageDataAfterApply&nbsp;is&nbsp;being&nbsp;set&nbsp;to&nbsp;true&nbsp;in&nbsp;preprocessing&nbsp;of&nbsp;the&nbsp;data. &nbsp;Are&nbsp;you&nbsp;loading&nbsp;the&nbsp;data&nbsp;from&nbsp;an&nbsp;OSG&nbsp;native&nbsp;format&nbsp;(ive,&nbsp;osg,&nbsp;osgb,&nbsp;osgx,osgt)&nbsp;that&nbsp;you&nbsp;are&nbsp;previously&nbsp;converted&nbsp;from&nbsp;a&nbsp;source&nbsp;format? &nbsp;This&nbsp;processing&nbsp;may&nbsp;have&nbsp;set&nbsp;the&nbsp;UnRefImageDataAfterApply&nbsp;to&nbsp;true.&lt;br&gt;&lt;br&gt;&lt;/div&gt;To&nbsp;reset&nbsp;the&nbsp;value&nbsp;back&nbsp;to&nbsp;false&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;osgUtil::Optimizer::TextureVisitor,&nbsp;note&nbsp;it&#39;s&nbsp;constructor&nbsp;where&nbsp;you&nbsp;can&nbsp;pass&nbsp;in&nbsp;what&nbsp;settings&nbsp;you&nbsp;want&nbsp;to&nbsp;change&nbsp;and&nbsp;the&nbsp;value:&lt;br&gt;&lt;br&gt;       &nbsp;class&nbsp;OSGUTIL_EXPORT&nbsp;TextureVisitor&nbsp;:&nbsp;public&nbsp;BaseOptimizerVisitor&lt;br&gt;       &nbsp;{&lt;br&gt;           &nbsp;public:&lt;br&gt;&lt;br&gt;               &nbsp;TextureVisitor(bool&nbsp;changeAutoUnRef,&nbsp;bool&nbsp;valueAutoUnRef,&lt;br&gt;                              &nbsp;bool&nbsp;changeClientImageStorage,&nbsp;bool&nbsp;valueClientImageStorage,&lt;br&gt;                              &nbsp;bool&nbsp;changeAnisotropy,&nbsp;float&nbsp;valueAnisotropy,&lt;br&gt;                              &nbsp;Optimizer*&nbsp;optimizer=0):&lt;br&gt;                       &nbsp;BaseOptimizerVisitor(optimizer,&nbsp;OPTIMIZE_TEXTURE_SETTINGS),&lt;br&gt;                       &nbsp;_changeAutoUnRef(changeAutoUnRef),&nbsp;_valueAutoUnRef(valueAutoUnRef),&lt;br&gt;                       &nbsp;_changeClientImageStorage(changeClientImageStorage),&nbsp;_valueClientImageStorage(valueClientImageStorage),&lt;br&gt;                       &nbsp;_changeAnisotropy(changeAnisotropy),&nbsp;_valueAnisotropy(valueAnisotropy)&nbsp;{}&lt;br&gt;&lt;br&gt;&lt;/div&gt;You&nbsp;can&nbsp;simply&nbsp;create&nbsp;this&nbsp;visitor&nbsp;standalone&nbsp;with&nbsp;the&nbsp;settings&nbsp;you&nbsp;want&nbsp;and&nbsp;apply&nbsp;to&nbsp;your&nbsp;scene&nbsp;graph.&lt;br&gt;&lt;br&gt;&lt;/div&gt;No&nbsp;other&nbsp;parts&nbsp;of&nbsp;the&nbsp;OSG&nbsp;set&nbsp;the&nbsp;UnRefImageDataAfterApply&nbsp;-&nbsp;do&nbsp;a&nbsp;search&nbsp;of&nbsp;the&nbsp;OSG&nbsp;to&nbsp;confirm&nbsp;this&nbsp;yourself. &nbsp;The&nbsp;other&nbsp;way&nbsp;is&nbsp;to&nbsp;simply&nbsp;put&nbsp;a&nbsp;breakpoint&nbsp;into&nbsp;osg::Texture::setUnRefImageDataAfterApply()&nbsp;to&nbsp;spot&nbsp;when&nbsp;and&nbsp;where&nbsp;it&#39;s&nbsp;being&nbsp;set.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Robert.&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;8&nbsp;October&nbsp;2015&nbsp;at&nbsp;21:40,&nbsp;Dan&nbsp;Flickinger&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:dmflickinger@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;dmflickinger@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Robert,&lt;br&gt;<br>
&lt;br&gt;<br>
Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;the&nbsp;swift&nbsp;reply.&nbsp;Good&nbsp;point&nbsp;on&nbsp;switching&nbsp;to&nbsp;PolytopeIntersector.&nbsp;Another&nbsp;part&nbsp;of&nbsp;the&nbsp;project&nbsp;is&nbsp;already&nbsp;using&nbsp;that&nbsp;for&nbsp;something&nbsp;else.&nbsp;LineSegmentIntersector&nbsp;is&nbsp;finding&nbsp;intersections,&nbsp;so&nbsp;at&nbsp;least&nbsp;it&#39;s&nbsp;assumed&nbsp;to&nbsp;work&nbsp;okay&nbsp;for&nbsp;now.&nbsp;I&#39;ll&nbsp;definitely&nbsp;switch&nbsp;over&nbsp;once&nbsp;I&nbsp;get&nbsp;this&nbsp;piece&nbsp;working.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;did&nbsp;find&nbsp;an&nbsp;instance&nbsp;of&nbsp;osgUtil::Optimizer&nbsp;in&nbsp;the&nbsp;code,&nbsp;and&nbsp;I&nbsp;disabled&nbsp;it.&nbsp;The&nbsp;images&nbsp;are&nbsp;still&nbsp;dereferenced&nbsp;in&nbsp;the&nbsp;textures&nbsp;though.&nbsp;In&nbsp;checking&nbsp;each&nbsp;texture&nbsp;with&nbsp;osg::Texture::getUnRefImageDataAfterApply(),&nbsp;it&#39;s&nbsp;still&nbsp;set&nbsp;to&nbsp;true.&nbsp;Is&nbsp;there&nbsp;anything&nbsp;else&nbsp;that&nbsp;would&nbsp;enable&nbsp;this&nbsp;aside&nbsp;from&nbsp;running&nbsp;the&nbsp;optimizer?&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;found&nbsp;where&nbsp;each&nbsp;model&nbsp;has&nbsp;its&nbsp;osg::Node&nbsp;initialized,&nbsp;but&nbsp;I&#39;m&nbsp;at&nbsp;a&nbsp;loss&nbsp;in&nbsp;pulling&nbsp;out&nbsp;references&nbsp;to&nbsp;the&nbsp;textures&nbsp;from&nbsp;that.&nbsp;(In&nbsp;order&nbsp;to&nbsp;call&nbsp;setUnRefImageDataAfterApply()&nbsp;there.)&nbsp;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;dig&nbsp;through&nbsp;the&nbsp;attribute&nbsp;list&nbsp;to&nbsp;find&nbsp;a&nbsp;state&nbsp;attribute&nbsp;that&nbsp;is&nbsp;a&nbsp;texture?&nbsp;I&#39;m&nbsp;concerned&nbsp;that&nbsp;if&nbsp;I&nbsp;call&nbsp;setUnRefImageDataAfterApply()&nbsp;at&nbsp;initialization,&nbsp;it&nbsp;will&nbsp;still&nbsp;get&nbsp;reset&nbsp;to&nbsp;true&nbsp;by&nbsp;something&nbsp;else.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;all&nbsp;the&nbsp;help!&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Dan&lt;br&gt;<br>
&lt;br&gt;<br>
------------------&lt;br&gt;<br>
Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;<br>
&lt;/span&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=65330#65330&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?p=65330#65330&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
