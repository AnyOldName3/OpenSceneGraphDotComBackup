<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Gianni,&lt;br&gt;&lt;br&gt;&lt;/div&gt;The&nbsp;ordering&nbsp;of&nbsp;update&nbsp;of&nbsp;the&nbsp;view&#39;s&nbsp;master&nbsp;Camera&nbsp;is&nbsp;done&nbsp;after&nbsp;the&nbsp;update&nbsp;traversal,&nbsp;so&nbsp;checking&nbsp;the&nbsp;Camera&#39;s&nbsp;value&nbsp;in&nbsp;update&nbsp;traversal&nbsp;will&nbsp;result&nbsp;in&nbsp;using&nbsp;the&nbsp;previous&nbsp;frames&nbsp;value. &nbsp;The&nbsp;master&nbsp;Camera&#39;s&nbsp;value&nbsp;can&nbsp;depend&nbsp;upon&nbsp;values&nbsp;in&nbsp;the&nbsp;scene&nbsp;graph&nbsp;so&nbsp;this&nbsp;ordering&nbsp;make&nbsp;sense&nbsp;for&nbsp;most&nbsp;application,&nbsp;and&nbsp;since&nbsp;you&nbsp;are&nbsp;using&nbsp;the&nbsp;NodeTrackerManipulator&nbsp;it&#39;s&nbsp;essential.&lt;br&gt;&lt;br&gt;&lt;/div&gt;So&nbsp;for&nbsp;your&nbsp;application&nbsp;I&#39;d&nbsp;suggest&nbsp;shift&nbsp;the&nbsp;slave&nbsp;Camera&nbsp;(CrossAxes)&nbsp;so&nbsp;that&nbsp;is&#39;&nbsp;done&nbsp;after&nbsp;the&nbsp;call&nbsp;to&nbsp;viewer::updateTraversal(). &nbsp;This&nbsp;could&nbsp;be&nbsp;done&nbsp;by&nbsp;simply&nbsp;calling&nbsp;the&nbsp;frame&nbsp;components&nbsp;manually&nbsp;in&nbsp;your&nbsp;application&nbsp;and&nbsp;then&nbsp;inserting&nbsp;the&nbsp;appropriate&nbsp;update&nbsp;code.&lt;br&gt;&lt;br&gt;&lt;/div&gt;i..e.&lt;br&gt;&lt;br&gt;&lt;/div&gt;while(!viewer.done())&lt;br&gt;{&lt;br&gt;&lt;/div&gt;     &nbsp;viewer.advance();&lt;br&gt;&lt;/div&gt;     &nbsp;viewer.eventTraversal();&lt;br&gt;&lt;/div&gt;     &nbsp;viewer.updateTraversal();&lt;br&gt;&lt;/div&gt;&lt;div&gt;     &nbsp;//&nbsp;do&nbsp;your&nbsp;CrossAxes&nbsp;updating&nbsp;here.&lt;br&gt;&lt;/div&gt;     &nbsp;viewer.renderingTraversals();&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;}&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5&nbsp;August&nbsp;2015&nbsp;at&nbsp;10:41,&nbsp;Gianni&nbsp;Ambrosio&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:g.ambrosio+osg@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;g.ambrosio+osg@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;All,&lt;br&gt;<br>
it&nbsp;seems&nbsp;I&nbsp;found&nbsp;the&nbsp;problem&nbsp;but&nbsp;not&nbsp;a&nbsp;solution&nbsp;jet.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;CrossAxes&nbsp;object&nbsp;(that&nbsp;is&nbsp;an&nbsp;osg::Camera)&nbsp;I&nbsp;do:&lt;br&gt;<br>
&lt;br&gt;<br>
setUpdateCallback(new&nbsp;AxesCameraUpdateCallback);&lt;br&gt;<br>
&lt;br&gt;<br>
and&nbsp;in&nbsp;AxesCameraUpdateCallback::operator()&nbsp;implementation&nbsp;I&nbsp;have:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; transform-&gt;setAttitude(view-&gt;getCamera()-&gt;getViewMatrix().getRotate());&lt;br&gt;<br>
&lt;br&gt;<br>
where&nbsp;&quot;transform&quot;&nbsp;is&nbsp;child&nbsp;of&nbsp;the&nbsp;CrossAxes&nbsp;camera&nbsp;node&nbsp;and&nbsp;parent&nbsp;of&nbsp;the&nbsp;real&nbsp;axes&nbsp;graphics&nbsp;(please&nbsp;see&nbsp;previous&nbsp;message&nbsp;for&nbsp;details).&lt;br&gt;<br>
In&nbsp;AxesCameraUpdateCallback&nbsp;I&nbsp;get&nbsp;the&nbsp;rotation&nbsp;from&nbsp;the&nbsp;camera&nbsp;of&nbsp;the&nbsp;view&nbsp;to&nbsp;show&nbsp;the&nbsp;global&nbsp;axes&nbsp;correctly&nbsp;oriented&nbsp;wrt&nbsp;the&nbsp;current&nbsp;camera&nbsp;orientation.&lt;br&gt;<br>
Unfortunately,&nbsp;in&nbsp;this&nbsp;case,&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;first&nbsp;time&nbsp;frame()&nbsp;is&nbsp;called&nbsp;I&nbsp;get&nbsp;an&nbsp;&quot;old&quot;&nbsp;value&nbsp;from&lt;br&gt;<br>
&lt;br&gt;<br>
view-&gt;getCamera()-&gt;getViewMatrix().getRotate()&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;seems&nbsp;that&nbsp;the&nbsp;camera&nbsp;view&nbsp;matrix&nbsp;is&nbsp;updated&nbsp;after&nbsp;my&nbsp;AxesCameraUpdateCalback&nbsp;is&nbsp;called.&nbsp;That&#39;s&nbsp;wht&nbsp;a&nbsp;second&nbsp;call&nbsp;to&nbsp;frame()&nbsp;fixes&nbsp;axes&nbsp;orientation.&lt;br&gt;<br>
&lt;br&gt;<br>
Since&nbsp;to&nbsp;set&nbsp;the&nbsp;desired&nbsp;point&nbsp;of&nbsp;view&nbsp;I&nbsp;call&lt;br&gt;<br>
&lt;br&gt;<br>
NodeTrackerManipulator::setTransformation(const&nbsp;osg::Vec3d&amp;&nbsp;iEye,&nbsp;const&nbsp;osg::Vec3d&amp;&nbsp;iCenter,&nbsp;const&nbsp;osg::Vec3d&amp;&nbsp;iUp)&lt;br&gt;<br>
&lt;br&gt;<br>
Which&nbsp;is&nbsp;the&nbsp;proper&nbsp;modification&nbsp;to&nbsp;do&nbsp;on&nbsp;my&nbsp;code&nbsp;to&nbsp;have&nbsp;a&nbsp;correct&nbsp;behaviour?&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;correct&nbsp;view&nbsp;matrix&nbsp;in&nbsp;AxesCameraUpdateCallback::operator()&nbsp;implementation?&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;Gianni&lt;br&gt;<br>
&lt;br&gt;<br>
------------------&lt;br&gt;<br>
Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;<br>
&lt;/span&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=64623#64623&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?p=64623#64623&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
