<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Firstly,&nbsp;has&nbsp;anyone&nbsp;noticed&nbsp;that&nbsp;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org&quot;&gt;http://forum.openscenegraph.org&lt;/a&gt;&nbsp;is&nbsp;basically&nbsp;off-line&nbsp;and&nbsp;has&nbsp;been&nbsp;malfunctioning&nbsp;for&nbsp;some&nbsp;time.&nbsp;The&nbsp;link&nbsp;to&nbsp;the&nbsp;mailing&nbsp;list&nbsp;failed&nbsp;some&nbsp;time&nbsp;ago.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;any&nbsp;case....&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;noticed&nbsp;a&nbsp;serious&nbsp;performance&nbsp;regression&nbsp;when&nbsp;moving&nbsp;to&nbsp;3.6.3&nbsp;from&nbsp;3.4.0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&#39;s &nbsp;become&nbsp;such&nbsp;an&nbsp;issue&nbsp;for&nbsp;me,&nbsp;such&nbsp;that&nbsp;I&nbsp;had&nbsp;to&nbsp;revert&nbsp;to&nbsp;3.4.0.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;starts&nbsp;with&nbsp;<br>
Geometry::addPrimitiveSet<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;the&nbsp;commented&nbsp;out&nbsp;<br>
&nbsp;/*if&nbsp;(_useVertexBufferObjects)*/&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;bool&nbsp;Geometry::addPrimitiveSet(PrimitiveSet*&nbsp;primitiveset)&lt;br&gt;{&lt;br&gt; &nbsp; &nbsp;if&nbsp;(primitiveset)&lt;br&gt; &nbsp; &nbsp;{&lt;br&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;/*if&nbsp;(_useVertexBufferObjects)*/&nbsp;addElementBufferObjectIfRequired(primitiveset);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;div&gt;The&nbsp;performance&nbsp;regression&nbsp;happens&nbsp;when&nbsp;adding&nbsp;large&nbsp;numbers&nbsp;of&nbsp;<br>
PrimitiveSet*.&lt;/div&gt;&lt;div&gt;In&nbsp;3.4.0&nbsp;I&nbsp;did&nbsp;not&nbsp;use&nbsp;VBO&#39;s&nbsp;for&nbsp;this&nbsp;particular&nbsp;Geometry,&nbsp;but&nbsp;in&nbsp;3.6.3&nbsp;one&nbsp;is&nbsp;required&nbsp;to&nbsp;use&nbsp;VBOs&nbsp;for&nbsp;all&nbsp;geometry.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;performance&nbsp;regression&nbsp;is&nbsp;caused&nbsp;by&nbsp;repeated&nbsp;patterns&nbsp;in&nbsp;the&nbsp;VBO&nbsp;code&nbsp;that&nbsp;searches&nbsp;through&nbsp;vectors,&nbsp;an&nbsp;example&nbsp;below.&nbsp;As&nbsp;more&nbsp;and&nbsp;more&nbsp;data&nbsp;is&nbsp;added,&nbsp;the&nbsp;slower&nbsp;the&nbsp;code&nbsp;gets.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;unsigned&nbsp;int&nbsp;BufferObject::addBufferData(BufferData*&nbsp;bd)&lt;br&gt;{&lt;br&gt; &nbsp; &nbsp;if&nbsp;(!bd)&nbsp;return&nbsp;0;&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;//&nbsp;check&nbsp;to&nbsp;see&nbsp;if&nbsp;bd&nbsp;exists&nbsp;in&nbsp;BufferObject&nbsp;already,&nbsp;is&nbsp;so&nbsp;return&nbsp;without&nbsp;doing&nbsp;anything&lt;br&gt; &nbsp; &nbsp;for(BufferDataList::iterator&nbsp;itr&nbsp;=&nbsp;_bufferDataList.begin();&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;itr&nbsp;!=&nbsp;_bufferDataList.end();&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;++itr)&lt;br&gt; &nbsp; &nbsp;{&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(*itr&nbsp;==&nbsp;bd)&nbsp;return&nbsp;bd-&gt;getBufferIndex();&lt;br&gt; &nbsp; &nbsp;}&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;can&nbsp;eventually&nbsp;work&nbsp;around&nbsp;the&nbsp;issue,&nbsp;by&nbsp;doing&nbsp;my&nbsp;work&nbsp;to&nbsp;coalesce&nbsp;PrimitiveSets&nbsp;,&nbsp;but&nbsp;might&nbsp;be &nbsp;a&nbsp;FYI&nbsp;for&nbsp;some&nbsp;users.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Andrew&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
