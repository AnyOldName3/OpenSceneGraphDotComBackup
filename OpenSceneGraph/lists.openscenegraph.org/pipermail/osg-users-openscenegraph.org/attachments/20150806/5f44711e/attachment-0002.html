<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#808000;&quot;&gt;&lt;font<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=&quot;#000000&quot;&gt;Due&nbsp;to&nbsp;several&nbsp;reasons&nbsp;I&nbsp;had&nbsp;to&nbsp;convert&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project&nbsp;to&nbsp;above&nbsp;versions.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;was&nbsp;successful&nbsp;almost&nbsp;all&nbsp;over&nbsp;the&nbsp;project&nbsp;due&nbsp;to&nbsp;the&nbsp;excellent<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work&nbsp;of&nbsp;osg&nbsp;exported&nbsp;uniforms&nbsp;etc.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;last&nbsp;item&nbsp;I&nbsp;have&nbsp;to&nbsp;solve&nbsp;now&nbsp;is&nbsp;shadow.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;using&nbsp;&lt;/font&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#808000;&quot;&gt;&lt;font<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=&quot;#000000&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800080;&quot;&gt;osgShadow&lt;/span&gt;&lt;span<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style=&quot;&nbsp;color:#000000;&quot;&gt;::&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800080;&quot;&gt;LightSpacePerspectiveShadowMapCB&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;I&nbsp;found&nbsp;out&nbsp;how&nbsp;to&nbsp;replace&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Â the&nbsp;given&nbsp;shaders.&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;my&nbsp;old&nbsp;vertex&nbsp;shader&nbsp;I&nbsp;had&nbsp;to&nbsp;calculate&nbsp;the&nbsp;shadow&nbsp;texture<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coordinate&nbsp;like&nbsp;that:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;if&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;(useShadow)&lt;span<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;gl_TexCoord[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;].s&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;=&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;dot(&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;eye,&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;gl_EyePlaneS[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;]&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;);&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;gl_TexCoord[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;].t&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;=&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;dot(&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;eye,&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;gl_EyePlaneT[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;]&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;);&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;gl_TexCoord[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;].p&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;=&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;dot(&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;eye,&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;gl_EyePlaneR[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;]&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;);&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;gl_TexCoord[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;].q&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;=&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;dot(&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;eye,&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;gl_EyePlaneQ[&lt;span&nbsp;style=&quot;&nbsp;color:#000080;&quot;&gt;1&lt;/span&gt;]&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;);&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;}<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;-qt-paragraph-type:empty;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;Unfortunately&nbsp;the&nbsp;gl_EyePanes&nbsp;are&nbsp;no&nbsp;more&nbsp;available.<br>
I&nbsp;also&nbsp;couldn't&nbsp;find&nbsp;any&nbsp;uniform&nbsp;exports&nbsp;like&nbsp;osg_vertex&nbsp;etc.<br>
Is&nbsp;there&nbsp;any&nbsp;way&nbsp;I&nbsp;can&nbsp;calculate&nbsp;this&nbsp;inside&nbsp;the&nbsp;vertex&nbsp;shader&nbsp;<br>
by&nbsp;using&nbsp;the&nbsp;given&nbsp;uniforms&nbsp;and&nbsp;the&nbsp;eye&nbsp;position?<br>
Or&nbsp;is&nbsp;there&nbsp;anything&nbsp;I&nbsp;can&nbsp;precalculate&nbsp;on&nbsp;CPU&nbsp;and&nbsp;provide&nbsp;it&nbsp;via&nbsp;uniform?<br>
<br>
Any&nbsp;help&nbsp;is&nbsp;highly&nbsp;appreciated.<br>
<br>
-&nbsp;Werner&nbsp;-&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
