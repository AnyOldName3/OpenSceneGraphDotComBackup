<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;am&nbsp;finding&nbsp;that&nbsp;with&nbsp;the&nbsp;following&nbsp;modification&nbsp;to&nbsp;PixelBufferWin32.cpp&nbsp;I&nbsp;can&nbsp;get&nbsp;my&nbsp;floating&nbsp;point&nbsp;PBuffer&nbsp;easily&nbsp;(no&nbsp;nvidia&nbsp;specific&nbsp;extensions&nbsp;required)&lt;br&gt;&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_PIXEL_TYPE_ARB);&lt;br&gt;   &nbsp;if&nbsp;(_traits-&gt;red&nbsp;==&nbsp;32&nbsp;&amp;&amp;&nbsp;_traits-&gt;green&nbsp;==&nbsp;32&nbsp;&amp;&amp;&nbsp;_traits-&gt;blue&nbsp;==&nbsp;32)&lt;br&gt;#define&nbsp;WGL_TYPE_RGBA_FLOAT_ARB&nbsp;0x21A0&lt;br&gt;       &nbsp;fAttribList.push_back(WGL_TYPE_RGBA_FLOAT_ARB);&lt;br&gt;   &nbsp;else&lt;br&gt;       &nbsp;fAttribList.push_back(WGL_TYPE_RGBA_ARB);&lt;br&gt;&lt;br&gt;&lt;/div&gt;Right&nbsp;now&nbsp;the&nbsp;presence&nbsp;of&nbsp;32&nbsp;bit&nbsp;color&nbsp;components&nbsp;in&nbsp;the&nbsp;context&nbsp;traits&nbsp;triggers&nbsp;the&nbsp;use&nbsp;of&nbsp;floating&nbsp;point&nbsp;texture&nbsp;format.&lt;br&gt;&lt;br&gt;&lt;/div&gt;My&nbsp;use&nbsp;case&nbsp;would&nbsp;be&nbsp;fast&nbsp;readback&nbsp;of&nbsp;scientific&nbsp;results&nbsp;from&nbsp;a&nbsp;GLSL&nbsp;shader,&nbsp;performing&nbsp;only&nbsp;off-screen&nbsp;rendering. &nbsp;I&nbsp;am&nbsp;basing&nbsp;this&nbsp;on&nbsp;the&nbsp;osgscreencapture&nbsp;example.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Christian&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2016-07-22&nbsp;14:48&nbsp;GMT+02:00&nbsp;Christian&nbsp;Buchner&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:christian.buchner@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;christian.buchner@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;all,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;spent&nbsp;the&nbsp;last&nbsp;3&nbsp;hours&nbsp;trying&nbsp;to&nbsp;coerce&nbsp;OSG&nbsp;to&nbsp;give&nbsp;me&nbsp;a&nbsp;floating&nbsp;point&nbsp;pbuffer.&nbsp;Just&nbsp;setting&nbsp;the&nbsp;required&nbsp;bits&nbsp;for&nbsp;color&nbsp;components&nbsp;to&nbsp;32&nbsp;bits&nbsp;in&nbsp;the&nbsp;graphicscontext&nbsp;traits&nbsp;isn&#39;t&nbsp;working.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Turns&nbsp;out,&nbsp;on&nbsp;nVidia&nbsp;cards&nbsp;you&nbsp;also&nbsp;have&nbsp;to&nbsp;give&nbsp;the&nbsp;WGL_FLOAT_COMPONENTS_NV&nbsp;flag&nbsp;as&nbsp;&quot;true&quot;&nbsp;to&nbsp;get&nbsp;a&nbsp;valid&nbsp;pixel&nbsp;format&nbsp;on&nbsp;Windows.&nbsp;The&nbsp;following&nbsp;code&nbsp;does&nbsp;this:&lt;br&gt;&lt;div&gt;&lt;br&gt;   &nbsp;std::vector&lt;int&gt;&nbsp;fAttribList;&lt;br&gt;&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_SUPPORT_OPENGL_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(true);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_PIXEL_TYPE_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_TYPE_RGBA_ARB);&lt;br&gt;&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_RED_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(32);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_GREEN_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(32);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_BLUE_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(32);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_ALPHA_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(32);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_STENCIL_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(8);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_DEPTH_BITS_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(24);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_FLOAT_COMPONENTS_NV);&lt;br&gt;   &nbsp;fAttribList.push_back(true);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_DRAW_TO_PBUFFER_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(true);&lt;br&gt;   &nbsp;fAttribList.push_back(WGL_DOUBLE_BUFFER_ARB);&lt;br&gt;   &nbsp;fAttribList.push_back(false);&lt;br&gt;&lt;br&gt;   &nbsp;fAttribList.push_back(0);&lt;br&gt;&lt;br&gt;   &nbsp;unsigned&nbsp;int&nbsp;nformats&nbsp;=&nbsp;0;&lt;br&gt;   &nbsp;int&nbsp;format;&lt;br&gt;   &nbsp;WGLExtensions*&nbsp;wgle&nbsp;=&nbsp;WGLExtensions::instance();&lt;br&gt;   &nbsp;wgle-&gt;wglChoosePixelFormatARB(hdc,&nbsp;&amp;fAttribList[0],&nbsp;NULL,&nbsp;1,&nbsp;&amp;format,&nbsp;&amp;nformats);&lt;br&gt;   &nbsp;std::cout&nbsp;&lt;&lt;&nbsp;&quot;Suitable&nbsp;pixel&nbsp;formats:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;nformats&nbsp;&lt;&lt;&nbsp;std::endl;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;my&nbsp;GTX&nbsp;970&nbsp;card&nbsp;here&nbsp;this&nbsp;returns&nbsp;exactly&nbsp;one&nbsp;suitable&nbsp;pixel&nbsp;format&nbsp;(3&nbsp;if&nbsp;you&nbsp;drop&nbsp;the&nbsp;DOUBLE_BUFFER_ARB&nbsp;requirement&nbsp;even)..&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;implementation&nbsp;of&nbsp;PixelBufferWin32&nbsp;cannot&nbsp;currently&nbsp;be&nbsp;given&nbsp;any&nbsp;user-defined&nbsp;attributes&nbsp;to&nbsp;the&nbsp;wglChoosePixelFormatARB&nbsp;function.&nbsp;Is&nbsp;this&nbsp;a&nbsp;capability&nbsp;that&nbsp;we&nbsp;should&nbsp;consider&nbsp;adding?&nbsp;Or&nbsp;should&nbsp;we&nbsp;automatically&nbsp;sneak&nbsp;in&nbsp;this&nbsp;vendor&nbsp;specific&nbsp;flag&nbsp;if&nbsp;the&nbsp;color&nbsp;components&nbsp;the&nbsp;traits&nbsp;specify&nbsp;have&nbsp;32&nbsp;bits&nbsp;and&nbsp;a&nbsp;previous&nbsp;call&nbsp;to&nbsp;wglChoosePixelFormatARB&nbsp;returned&nbsp;0&nbsp;matches?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;leaving&nbsp;this&nbsp;up&nbsp;for&nbsp;debate.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;vendor-neutral&nbsp;alternative&nbsp;to&nbsp;the&nbsp;WGL_FLOAT_COMPONENTS_NV&nbsp;flag?&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;For&nbsp;now,&nbsp;I&nbsp;can&nbsp;simply&nbsp;patch&nbsp;my&nbsp;local&nbsp;copy&nbsp;of&nbsp;the&nbsp;OSG&nbsp;libraries&nbsp;to&nbsp;support&nbsp;floating&nbsp;point&nbsp;pbuffers&nbsp;on&nbsp;nVidia&nbsp;cards.&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Christian&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
