<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Hui,&lt;br&gt;&lt;br&gt;On&nbsp;Monday,&nbsp;1&nbsp;June&nbsp;2020&nbsp;02:28:04&nbsp;UTC+1,&nbsp;Hui&nbsp;Li&nbsp;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Robert,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sorry&nbsp;for&nbsp;the&nbsp;late&nbsp;reply.&nbsp;The&nbsp;codes&nbsp;of&nbsp;CreateGeometryNode&nbsp;looks&nbsp;like&nbsp;this: &lt;/div&gt;&lt;div&gt;&lt;div&gt;osg::ref_ptr&lt;osg::&lt;wbr&gt;MatrixTransform&gt;&nbsp;CreateGeometryNode()&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;std::vector&lt;float&gt;&nbsp;xyzs&nbsp;=&nbsp;RandomPoints();&nbsp;///&lt;&nbsp;Create&nbsp;ramdon&nbsp;number&nbsp;of&nbsp;points &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;osg::Vec3Array&nbsp;vs&nbsp;=&nbsp;new&nbsp;osg::Vec3Array(xyzs.size()/3,&nbsp;(const&nbsp;osg::Vec3&nbsp;*)(xyzs.data()));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Geometry&gt;&nbsp;geo&nbsp;=&nbsp;new&nbsp;osg::Geometry;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;setVertexArray(vs.get());&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;setColorArray(osg::Vec3(&lt;wbr&gt;0.5,0.5,0.5));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;setColorBinding(osg::&lt;wbr&gt;Geometry::BIND_OVERALL);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;addPrimitiveSet(new&nbsp;osg::DrawArrays(osg::&lt;wbr&gt;PrimitiveSet::POINTS,&nbsp;0,&nbsp;numpt));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;getOrCreateStateSet()-&gt;&lt;wbr&gt;setMode(GL_LIGHTING,&nbsp;osg::StateAttribute::OFF);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geo-&gt;getOrCreateStateSet()-&gt;&lt;wbr&gt;setAttribute(new&nbsp;osg::Point(size),&nbsp;osg::StateAttribute::ON);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::&lt;wbr&gt;MatrixTransform&gt;&nbsp;mt&nbsp;=&nbsp;new&nbsp;osg::MatrixTransform;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Geode&gt;&nbsp;geode&nbsp;=&nbsp;new&nbsp;osg::Geode;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;geode-&gt;addDrawable(geo.get());&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;mt-&gt;addChild(geode);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;return&nbsp;mt; &lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Adding&nbsp;and&nbsp;removing&nbsp;data&nbsp;continuously&nbsp;is&nbsp;least&nbsp;efficient&nbsp;way&nbsp;to&nbsp;implement&nbsp;this&nbsp;type&nbsp;of&nbsp;functionality,&nbsp;it&#39;s&nbsp;not&nbsp;just&nbsp;an&nbsp;OpenGL/OSG&nbsp;thing,&nbsp;it&nbsp;applies&nbsp;pretty&nbsp;well&nbsp;to&nbsp;all&nbsp;computing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;have&nbsp;a&nbsp;stream&nbsp;of&nbsp;data&nbsp;coming&nbsp;in&nbsp;then&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;manage&nbsp;it&nbsp;is&nbsp;to&nbsp;allocated&nbsp;fixed&nbsp;size&nbsp;data&nbsp;and&nbsp;then&nbsp;fill&nbsp;it&nbsp;in&nbsp;dynamically. &nbsp;So&nbsp;no&nbsp;adding&nbsp;and&nbsp;removing,&nbsp;no&nbsp;new&nbsp;and&nbsp;delete&nbsp;on&nbsp;every&nbsp;frame.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;have&nbsp;a&nbsp;really&nbsp;large&nbsp;dataset&nbsp;then&nbsp;chunk&nbsp;the&nbsp;data&nbsp;into&nbsp;blocks,&nbsp;10,000&nbsp;vertices&nbsp;per&nbsp;osg::Gemetry&nbsp;in&nbsp;a&nbsp;good&nbsp;place&nbsp;to&nbsp;start,&nbsp;but&nbsp;make&nbsp;this&nbsp;variable&nbsp;so&nbsp;you&nbsp;can&nbsp;figure&nbsp;what&nbsp;is&nbsp;the&nbsp;sweet&nbsp;spot&nbsp;for&nbsp;your&nbsp;system.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;vary&nbsp;th&nbsp;enumber&nbsp;of&nbsp;points&nbsp;draw&nbsp;using&nbsp;single&nbsp;DrawArrays&nbsp;per&nbsp;osg::Geometry&nbsp;and&nbsp;simply&nbsp;change&nbsp;the&nbsp;count&nbsp;to&nbsp;match&nbsp;the&nbsp;number&nbsp;of&nbsp;vertices&nbsp;you&nbsp;want&nbsp;to&nbsp;render.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;your&nbsp;data&nbsp;stream&nbsp;suddenly&nbsp;needs&nbsp;more&nbsp;points&nbsp;to&nbsp;represent&nbsp;it&nbsp;and&nbsp;your&nbsp;don&#39;t&nbsp;have&nbsp;enough&nbsp;available&nbsp;in&nbsp;your&nbsp;bricks&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;time&nbsp;to&nbsp;allocate&nbsp;new&nbsp;bricks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;for&nbsp;the&nbsp;cache,&nbsp;well&nbsp;the&nbsp;OSG&nbsp;does&nbsp;have&nbsp;cache&nbsp;for&nbsp;reusing&nbsp;GL&nbsp;objects&nbsp;but&nbsp;it&nbsp;intended&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;the&nbsp;types&nbsp;of&nbsp;usage&nbsp;you&nbsp;are&nbsp;pushing&nbsp;it&nbsp;through. &nbsp;Follow&nbsp;the&nbsp;above&nbsp;steps&nbsp;and&nbsp;your&nbsp;application&nbsp;will&nbsp;work&nbsp;perfectly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Robert.&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;<br>
<br>
--&nbsp;&lt;br&nbsp;/&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&quot;OpenSceneGraph&nbsp;Users&quot;&nbsp;group.&lt;br&nbsp;/&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group&nbsp;and&nbsp;stop&nbsp;receiving&nbsp;emails&nbsp;from&nbsp;it,&nbsp;send&nbsp;an&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:osg-users+unsubscribe@googlegroups.com&quot;&gt;osg-users+unsubscribe@googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>
To&nbsp;view&nbsp;this&nbsp;discussion&nbsp;on&nbsp;the&nbsp;web&nbsp;visit&nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/d/msgid/osg-users/df2eb7ed-2790-4212-bb25-3935326d8edf%40googlegroups.com?utm_medium=email&amp;utm_source=footer&quot;&gt;https://groups.google.com/d/msgid/osg-users/df2eb7ed-2790-4212-bb25-3935326d8edf%40googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>

</tt>
