<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dear&nbsp;community,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;today&nbsp;I&nbsp;need&nbsp;your&nbsp;help.&nbsp;Since&nbsp;many&nbsp;days&nbsp;I&nbsp;try&nbsp;finding&nbsp;a&nbsp;solution&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;problem&nbsp;-&nbsp;unfortunately&nbsp;without&nbsp;success.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Here&nbsp;are&nbsp;the&nbsp;facts:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;have&nbsp;a&nbsp;view&nbsp;for&nbsp;my&nbsp;scene&nbsp;and&nbsp;a&nbsp;camera&nbsp;manipulator.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;scene&nbsp;has&nbsp;a&nbsp;switch&nbsp;node&nbsp;holding&nbsp;the&nbsp;actual&nbsp;scene&nbsp;and&nbsp;some<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;for&nbsp;creation&nbsp;of&nbsp;shadow,&nbsp;ambient&nbsp;shadow&nbsp;etc.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Everything&nbsp;works&nbsp;pretty&nbsp;well&nbsp;so&nbsp;far.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;some&nbsp;reasons&nbsp;we&nbsp;decided&nbsp;rendering&nbsp;the&nbsp;actual&nbsp;scene&nbsp;into&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;texture&nbsp;and&nbsp;displaying&nbsp;this&nbsp;texture&nbsp;in&nbsp;a&nbsp;hud.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;So&nbsp;we&nbsp;create&nbsp;a&nbsp;texture&nbsp;and&nbsp;a&nbsp;rtt&nbsp;camera&nbsp;and&nbsp;added&nbsp;it&nbsp;to&nbsp;the&nbsp;above<br>
&nbsp;&nbsp;&nbsp;&nbsp;switch.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Then&nbsp;we&nbsp;removed&nbsp;the&nbsp;actual&nbsp;scene&nbsp;from&nbsp;the&nbsp;switch&nbsp;and&nbsp;added&nbsp;it&nbsp;as&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;child&nbsp;to&nbsp;the&nbsp;rtt&nbsp;camera.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;order&nbsp;to&nbsp;get&nbsp;the&nbsp;scene&nbsp;moved&nbsp;according&nbsp;to&nbsp;the&nbsp;camera&nbsp;manipulator<br>
&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;installed&nbsp;a&nbsp;cull&nbsp;callback&nbsp;updating&nbsp;the&nbsp;rtt&nbsp;cameras&nbsp;matrices:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#808000;&quot;&gt;if&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;(&lt;span&nbsp;style=&quot;&nbsp;color:#800000;&quot;&gt;renderCamera&lt;/span&gt;.&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;valid&lt;/span&gt;())&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;{<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800080;&quot;&gt;osg&lt;/span&gt;::&lt;span&nbsp;style=&quot;&nbsp;color:#800080;&quot;&gt;Camera&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;*&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#092e64;&quot;&gt;cam&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;=&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;getMainCamera&lt;/span&gt;();&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800000;&quot;&gt;renderCamera&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;setViewMatrix&lt;/span&gt;(&lt;span&nbsp;style=&quot;&nbsp;color:#092e64;&quot;&gt;cam&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;getViewMatrix&lt;/span&gt;());&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800000;&quot;&gt;renderCamera&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;setProjectionMatrix&lt;/span&gt;(&lt;span&nbsp;style=&quot;&nbsp;color:#092e64;&quot;&gt;cam&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;getProjectionMatrix&lt;/span&gt;());&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#c0c0c0;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#800000;&quot;&gt;renderCamera&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;setClearColor&lt;/span&gt;(&lt;span&nbsp;style=&quot;&nbsp;color:#092e64;&quot;&gt;cam&lt;/span&gt;-&gt;&lt;span&nbsp;style=&quot;&nbsp;color:#00677c;&quot;&gt;getClearColor&lt;/span&gt;());&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;-qt-paragraph-type:empty;&nbsp;margin-top:0px;&nbsp;margin-bottom:0px;&nbsp;margin-left:0px;&nbsp;margin-right:0px;&nbsp;-qt-block-indent:0;&nbsp;text-indent:0px;&quot;&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Without&nbsp;this&nbsp;callback&nbsp;all&nbsp;matrices&nbsp;are&nbsp;odd&nbsp;and&nbsp;zNear&nbsp;and&nbsp;zFar&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;both&nbsp;at&nbsp;0.0f.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Question&nbsp;1:&nbsp;Why&nbsp;is&nbsp;it&nbsp;like&nbsp;that?&nbsp;The&nbsp;rtt&nbsp;camera&nbsp;is&nbsp;a&nbsp;child&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;main&nbsp;camera&nbsp;and&nbsp;should&nbsp;not&nbsp;need&nbsp;above&nbsp;settings.&nbsp;(?)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Question&nbsp;2:&nbsp;In&nbsp;the&nbsp;original&nbsp;configuration&nbsp;zNear&nbsp;and&nbsp;zFar&nbsp;of&nbsp;the&nbsp;main<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera&nbsp;gets&nbsp;recalculated&nbsp;continuously.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;In&nbsp;the&nbsp;rtt&nbsp;configuration&nbsp;zNear&nbsp;is&nbsp;always<br>
&nbsp;&nbsp;&nbsp;&nbsp;0.0f&nbsp;and&nbsp;zFar&nbsp;always&nbsp;10000f.&nbsp;Why?&nbsp;The&nbsp;rtt&nbsp;camera&nbsp;is&nbsp;child&nbsp;of&nbsp;main<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera&nbsp;and&nbsp;it&nbsp;has&nbsp;the&nbsp;actual&nbsp;scene&nbsp;as&nbsp;a&nbsp;child.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;So&nbsp;all&nbsp;cullings&nbsp;should&nbsp;take&nbsp;the&nbsp;actual&nbsp;scene<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;account.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;really&nbsp;lost.&nbsp;When&nbsp;looking&nbsp;at&nbsp;the&nbsp;osgdeferred&nbsp;example&nbsp;I&nbsp;see&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;rtt&nbsp;camera&nbsp;is&nbsp;just&nbsp;created,&nbsp;gets&nbsp;a&nbsp;viewport&nbsp;and&nbsp;gets&nbsp;a&nbsp;child&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;main&nbsp;camera.&nbsp;So&nbsp;easy!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;What&nbsp;am&nbsp;I&nbsp;doing&nbsp;wrong&nbsp;and/or&nbsp;where&nbsp;can&nbsp;I&nbsp;start&nbsp;for&nbsp;a&nbsp;deeper<br>
&nbsp;&nbsp;&nbsp;&nbsp;research?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Many&nbsp;thanks&nbsp;for&nbsp;any&nbsp;help.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;Werner&nbsp;-&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
