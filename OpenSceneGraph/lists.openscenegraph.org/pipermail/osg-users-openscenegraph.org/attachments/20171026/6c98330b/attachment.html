<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;All,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Over&nbsp;the&nbsp;last&nbsp;couple&nbsp;of&nbsp;months&nbsp;I&#39;ve&nbsp;been&nbsp;working&nbsp;on&nbsp;changes&nbsp;to&nbsp;osgText&nbsp;that&nbsp;change&nbsp;the&nbsp;way&nbsp;text&nbsp;is&nbsp;rendered&nbsp;with&nbsp;the&nbsp;aim&nbsp;of&nbsp;improving&nbsp;visual&nbsp;quality,&nbsp;in&nbsp;particular&nbsp;when&nbsp;using&nbsp;outline&nbsp;and&nbsp;shadows&nbsp;or&nbsp;zooming&nbsp;and&nbsp;zooming&nbsp;out.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;new&nbsp;implementation&nbsp;uses&nbsp;shaders&nbsp;to&nbsp;implement&nbsp;outline&nbsp;and&nbsp;shadows,&nbsp;the&nbsp;old&nbsp;multi-pass&nbsp;approach&nbsp;has&nbsp;been&nbsp;removed&nbsp;completely. &nbsp;If&nbsp;your&nbsp;hardware&nbsp;doesn&#39;t&nbsp;support&nbsp;shaders&nbsp;then&nbsp;I&#39;m&nbsp;afraid&nbsp;you&#39;ll&nbsp;no&nbsp;longer&nbsp;see&nbsp;outlines/shadows&nbsp;by&nbsp;as&nbsp;it&#39;s&nbsp;been&nbsp;well&nbsp;over&nbsp;a&nbsp;decade&nbsp;that&nbsp;GLSL&nbsp;has&nbsp;become&nbsp;mainstream&nbsp;I&nbsp;don&#39;t&nbsp;think&nbsp;this&nbsp;should&nbsp;be&nbsp;an&nbsp;issue. &nbsp;Removing&nbsp;the&nbsp;old&nbsp;codes&nbsp;paths&nbsp;help&nbsp;simplify&nbsp;the&nbsp;internals&nbsp;of&nbsp;osgText.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;use&nbsp;of&nbsp;shaders&nbsp;also&nbsp;opens&nbsp;the&nbsp;door&nbsp;to&nbsp;implement&nbsp;new&nbsp;techniques&nbsp;the&nbsp;most&nbsp;significant&nbsp;one&nbsp;is&nbsp;that&nbsp;osgText&nbsp;now&nbsp;support&nbsp;generation&nbsp;of&nbsp;and&nbsp;use&nbsp;of&nbsp;Signed&nbsp;Distance&nbsp;Field&nbsp;(SDF)&nbsp;based&nbsp;glyph&nbsp;textures.&nbsp;The&nbsp;SDF&nbsp;texture&nbsp;data&nbsp;is&nbsp;automatically&nbsp;created&nbsp;from&nbsp;the&nbsp;original&nbsp;grey&nbsp;scale&nbsp;image&nbsp;data&nbsp;that&nbsp;freetype&nbsp;and&nbsp;other&nbsp;font&nbsp;reading&nbsp;plugins&nbsp;provide. &nbsp;SDF&nbsp;strength&nbsp;is&nbsp;when&nbsp;you&nbsp;zoom&nbsp;in&nbsp;close&nbsp;to&nbsp;the&nbsp;text&nbsp;you&nbsp;get&nbsp;smoother&nbsp;endges&nbsp;without&nbsp;the&nbsp;pixelation&nbsp;that&nbsp;is&nbsp;present&nbsp;with&nbsp;traditional&nbsp;textured&nbsp;glyphs. &nbsp;Previous&nbsp;to&nbsp;get&nbsp;readable&nbsp;results&nbsp;with&nbsp;large&nbsp;characters&nbsp;on&nbsp;screen&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;push&nbsp;up&nbsp;the&nbsp;font&nbsp;resolution&nbsp;really&nbsp;high,&nbsp;using&nbsp;SDF&#39;s&nbsp;this&nbsp;is&nbsp;no&nbsp;longer&nbsp;required.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;new&nbsp;shaders&nbsp;also&nbsp;allows&nbsp;us&nbsp;to&nbsp;do&nbsp;multi-sampling&nbsp;in&nbsp;more&nbsp;creative&nbsp;ways&nbsp;that&nbsp;can&nbsp;help&nbsp;address&nbsp;rendering&nbsp;artefacts&nbsp;associated&nbsp;with&nbsp;outline&nbsp;and&nbsp;shadows&nbsp;when&nbsp;zoomed&nbsp;far&nbsp;out&nbsp;from&nbsp;the&nbsp;text&nbsp;-&nbsp;previously&nbsp;text&nbsp;would&nbsp;saturate&nbsp;to&nbsp;the&nbsp;backdrop&nbsp;colour&nbsp;(typically&nbsp;black)&nbsp;and&nbsp;do&nbsp;so&nbsp;with&nbsp;aliasing&nbsp;artefacts. &nbsp;The&nbsp;new&nbsp;text&nbsp;implementation&nbsp;will&nbsp;provide&nbsp;more&nbsp;smooth&nbsp;transitions&nbsp;from&nbsp;near&nbsp;to&nbsp;far&nbsp;and&nbsp;fade&nbsp;out&nbsp;into&nbsp;the&nbsp;distance&nbsp;in&nbsp;a&nbsp;natural&nbsp;way.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;different&nbsp;techniques&nbsp;from&nbsp;rendering&nbsp;the&nbsp;text&nbsp;are&nbsp;now&nbsp;controlled&nbsp;using&nbsp;the&nbsp;following&nbsp;methods:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Setting&nbsp;the&nbsp;text&nbsp;directly:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &nbsp;text-&gt;setShaderTechniqure(&lt;wbr&gt;osgText::GREYSALE);&nbsp;//&nbsp;the&nbsp;default&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;   &nbsp;text-&gt;setShaderTechniqure(&lt;wbr&gt;osgText::SIGNED_DISTANCE_&lt;wbr&gt;FIELD);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;   &nbsp;text-&gt;setShaderTechniqure(&lt;wbr&gt;osgText::ALL_FEATURES);&nbsp;//&nbsp;create&nbsp;GlyphTexture&nbsp;with&nbsp;both&nbsp;GREYSCALE&nbsp;and&nbsp;SIGNED_DISTANCE_FIELD,&nbsp;shader&nbsp;defaulting&nbsp;to &nbsp;SDF&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;   &nbsp;text-&gt;setShaderTechniqure(&lt;wbr&gt;osgText::NO_TEXT_SHADER);&nbsp;//&nbsp;disable&nbsp;use&nbsp;of&nbsp;shaders&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;Setting&nbsp;the&nbsp;global&nbsp;default&nbsp;value&nbsp;of&nbsp;Text::ShaderTechnique&nbsp;using&nbsp;osg::DisplaySettings::setTextShaderTechnique(..) &nbsp;:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;&lt;wbr&gt;GREYSCALE&quot;);&lt;br&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;SIGNED_DISTANCE_FUNCTION&quot;);&lt;br&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;SDF&quot;);&nbsp;//&nbsp;short&nbsp;for&nbsp;above&lt;/div&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;ALL_FEATURES&quot;);&lt;br&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;NO_TEXT_SHADER&quot;);&lt;br&gt;&lt;div&gt;   &nbsp;osg::DisplaySettings::&lt;wbr&gt;instance()-&gt;&lt;wbr&gt;setTextShaderTechnque(&quot;NONE);&nbsp;//&nbsp;short&nbsp;for&nbsp;above&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;Setting&nbsp;the&nbsp;above&nbsp;DisplaySettings::setTextShaderTechnique(..)&nbsp;string&nbsp;using&nbsp;env&nbsp;var:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;export&nbsp;OSG_TEXT_SHADER_TECHNIQUE=&quot;SDF&quot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;part&nbsp;of&nbsp;this&nbsp;work&nbsp;I&nbsp;added&nbsp;the&nbsp;ability&nbsp;to&nbsp;assign&nbsp;osg::DisplaySetting&nbsp;assigned&nbsp;user&nbsp;values&nbsp;to&nbsp;shaders&nbsp;using&nbsp;DisplaySettings::setValue(name,&nbsp;value). &nbsp;You&nbsp;can&nbsp;use&nbsp;this&nbsp;to&nbsp;pass&nbsp;in&nbsp;globals&nbsp;your&nbsp;shaders,&nbsp;which&nbsp;you&nbsp;can&nbsp;leverage&nbsp;for&nbsp;setting&nbsp;things&nbsp;like&nbsp;#version&nbsp;and&nbsp;precision&nbsp;hint,&nbsp;which&nbsp;in&nbsp;turn&nbsp;means&nbsp;you&nbsp;can&nbsp;pass&nbsp;in&nbsp;these&nbsp;settings&nbsp;for&nbsp;different&nbsp;platfrom&nbsp;targets,&nbsp;making&nbsp;it&nbsp;much&nbsp;easier&nbsp;to&nbsp;share&nbsp;shaders&nbsp;between&nbsp;GL2,&nbsp;GL3&nbsp;and&nbsp;GLES.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;help&nbsp;with&nbsp;this&nbsp;DisplaySetting&nbsp;automatically&nbsp;sets&nbsp;up&nbsp;the&nbsp;follow&nbsp;values:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;OSG_GLSL_VERSION&lt;/div&gt;&lt;div&gt;OSG_PRECISION_FLOAT&lt;/div&gt;&lt;div&gt;OSG_VARYING_IN&lt;/div&gt;&lt;div&gt;OSG_VARYING_OUT&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;you&nbsp;build&nbsp;the&nbsp;OSG&nbsp;specifically&nbsp;against&nbsp;a&nbsp;GL2,&nbsp;GL3/GLCORE,&nbsp;GLES2&nbsp;or&nbsp;GLES3&nbsp;target&nbsp;the&nbsp;appropriate&nbsp;defaults&nbsp;will&nbsp;set,&nbsp;then&nbsp;in&nbsp;your&nbsp;sharer&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;following&nbsp;syntax:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$OSG_GLSL_VERSION&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$OSG_PRECISION_FLOAT&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$OSG_VARYING_OUT&nbsp;vec2&nbsp;texCoord;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;$OSG_VARYING_IN&nbsp;vec2&nbsp;texCoord;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;have&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;new&nbsp;OpenSceneGraph-Data/shaders/text.vert&nbsp;and&nbsp;text.frag&nbsp;to&nbsp;see&nbsp;these&nbsp;in&nbsp;action. &nbsp;Just&nbsp;update&nbsp;to&nbsp;master&nbsp;of&nbsp;OpenSceneGraph-Data&nbsp;to&nbsp;see&nbsp;these&nbsp;shaders.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;while&nbsp;the&nbsp;internals&nbsp;of&nbsp;osgText&nbsp;have&nbsp;changed&nbsp;significantly&nbsp;the&nbsp;API&nbsp;is&nbsp;largely&nbsp;identical&nbsp;so&nbsp;hopefully&nbsp;you&#39;ll&nbsp;just&nbsp;need&nbsp;to&nbsp;pull&nbsp;down&nbsp;OSG&nbsp;master&nbsp;and&nbsp;build&nbsp;the&nbsp;OSG&nbsp;and&nbsp;your&nbsp;application&nbsp;and&nbsp;text&nbsp;will&nbsp;just&nbsp;work&nbsp;(using&nbsp;the&nbsp;GREYSCALE&nbsp;default&nbsp;code&nbsp;path.) &nbsp;Visually&nbsp;it&nbsp;should&nbsp;be&nbsp;pretty&nbsp;similar&nbsp;when&nbsp;using&nbsp;this&nbsp;default&nbsp;-&nbsp;you&nbsp;should&nbsp;start&nbsp;to&nbsp;see&nbsp;improvements&nbsp;when&nbsp;doing&nbsp;things&nbsp;like&nbsp;outlines/shadows&nbsp;or&nbsp;when&nbsp;enabling&nbsp;SDF.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;there&nbsp;are&nbsp;any&nbsp;issues&nbsp;let&nbsp;me&nbsp;know,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
