<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;prettyprint&quot;&nbsp;style=&quot;background-color:&nbsp;rgb(250,&nbsp;250,&nbsp;250);&nbsp;border-color:&nbsp;rgb(187,&nbsp;187,&nbsp;187);&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1px;&nbsp;overflow-wrap:&nbsp;break-word;&quot;&gt;&lt;code&nbsp;class=&quot;prettyprint&quot;&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;/*&nbsp;OpenSceneGraph&nbsp;example,&nbsp;osgmultiplerendertargets.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;*&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;Permission&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;free&nbsp;of&nbsp;charge,&nbsp;to&nbsp;any&nbsp;person&nbsp;obtaining&nbsp;a&nbsp;copy&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;associated&nbsp;documentation&nbsp;files&nbsp;(the&nbsp;&quot;Software&quot;),&nbsp;to&nbsp;deal&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;in&nbsp;the&nbsp;Software&nbsp;without&nbsp;restriction,&nbsp;including&nbsp;without&nbsp;limitation&nbsp;the&nbsp;rights&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;merge,&nbsp;publish,&nbsp;distribute,&nbsp;sublicense,&nbsp;and/or&nbsp;sell&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;copies&nbsp;of&nbsp;the&nbsp;Software,&nbsp;and&nbsp;to&nbsp;permit&nbsp;persons&nbsp;to&nbsp;whom&nbsp;the&nbsp;Software&nbsp;is&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;furnished&nbsp;to&nbsp;do&nbsp;so,&nbsp;subject&nbsp;to&nbsp;the&nbsp;following&nbsp;conditions:&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;*&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;THE&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;&quot;AS&nbsp;IS&quot;,&nbsp;WITHOUT&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;EXPRESS&nbsp;OR&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;IMPLIED,&nbsp;INCLUDING&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO&nbsp;THE&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY,&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;AND&nbsp;NONINFRINGEMENT.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;AUTHORS&nbsp;OR&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;CLAIM,&nbsp;DAMAGES&nbsp;OR&nbsp;OTHER&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;AN&nbsp;ACTION&nbsp;OF&nbsp;CONTRACT,&nbsp;TORT&nbsp;OR&nbsp;OTHERWISE,&nbsp;ARISING&nbsp;FROM,&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;OUT&nbsp;OF&nbsp;OR&nbsp;IN&nbsp;CONNECTION&nbsp;WITH&nbsp;THE&nbsp;SOFTWARE&nbsp;OR&nbsp;THE&nbsp;USE&nbsp;OR&nbsp;OTHER&nbsp;DEALINGS&nbsp;IN&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;* &nbsp;THE&nbsp;SOFTWARE.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;*/&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/GLExtensions&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Node&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Geometry&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Notify&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/MatrixTransform&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Texture2D&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/TextureRectangle&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/ColorMask&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Material&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osg/Capability&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osgGA/TrackballManipulator&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osgGA/FlightManipulator&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osgGA/DriveManipulator&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osgDB/ReadFile&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;osgViewer/Viewer&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;iostream&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#include&nbsp;&lt;stdio.h&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;#define&nbsp;NUM_TEXTURES&nbsp;1&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;//&nbsp;The&nbsp;quad&nbsp;geometry&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;render&nbsp;to&nbsp;texture&nbsp;camera&nbsp;to&nbsp;generate&nbsp;multiple&nbsp;textures.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;osg::Group*&nbsp;createRTTQuad(unsigned&nbsp;int&nbsp;tex_width,&nbsp;unsigned&nbsp;int&nbsp;tex_height,&nbsp;bool&nbsp;useHDR)&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::Group&nbsp;*top_group&nbsp;=&nbsp;new&nbsp;osg::Group;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Geode&gt;&nbsp;quad_geode&nbsp;=&nbsp;new&nbsp;osg::Geode;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Vec3Array&gt;&nbsp;quad_coords&nbsp;=&nbsp;new&nbsp;osg::Vec3Array;&nbsp;//&nbsp;vertex&nbsp;coords&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;counter-clockwise&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_coords-&gt;push_back(osg::Vec3d(0,&nbsp;0,&nbsp;-1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_coords-&gt;push_back(osg::Vec3d(1,&nbsp;0,&nbsp;-1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_coords-&gt;push_back(osg::Vec3d(1,&nbsp;1,&nbsp;-1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_coords-&gt;push_back(osg::Vec3d(0,&nbsp;1,&nbsp;-1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Vec2Array&gt;&nbsp;quad_tcoords&nbsp;=&nbsp;new&nbsp;osg::Vec2Array;&nbsp;//&nbsp;texture&nbsp;coords&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_tcoords-&gt;push_back(osg::Vec2(0,&nbsp;0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_tcoords-&gt;push_back(osg::Vec2(tex_width,&nbsp;0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_tcoords-&gt;push_back(osg::Vec2(tex_width,&nbsp;tex_height));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_tcoords-&gt;push_back(osg::Vec2(0,&nbsp;tex_height));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::Geometry&gt;&nbsp;quad_geom&nbsp;=&nbsp;new&nbsp;osg::Geometry;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ref_ptr&lt;osg::DrawArrays&gt;&nbsp;quad_da&nbsp;=&nbsp;new&nbsp;osg::DrawArrays(osg::PrimitiveSet::QUADS,0,4);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_geom-&gt;setVertexArray(quad_coords.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_geom-&gt;setTexCoordArray(0,&nbsp;quad_tcoords.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_geom-&gt;addPrimitiveSet(quad_da.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::StateSet&nbsp;*stateset&nbsp;=&nbsp;quad_geom-&gt;getOrCreateStateSet();&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;stateset-&gt;setMode(GL_LIGHTING,osg::StateAttribute::OFF);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;stateset-&gt;addUniform(new&nbsp;osg::Uniform(&quot;width&quot;,&nbsp;(int)tex_width));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;Attach&nbsp;shader,&nbsp;glFragData&nbsp;is&nbsp;used&nbsp;to&nbsp;create&nbsp;data&nbsp;for&nbsp;multiple&nbsp;render&nbsp;targets&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;static&nbsp;const&nbsp;char&nbsp;*shaderSource&nbsp;=&nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;uniform&nbsp;int&nbsp;width;&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;uniform&nbsp;sampler2D&nbsp;tex;&nbsp;\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;void&nbsp;main(void)\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;{\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot; &nbsp; &nbsp;gl_FragData[0]&nbsp;=&nbsp;texture2D(&nbsp;tex,&nbsp;gl_TexCoord[0].st);\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;}\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;};&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::ref_ptr&lt;osg::Shader&gt;&nbsp;fshader&nbsp;=&nbsp;new&nbsp;osg::Shader(osg::Shader::FRAGMENT,&nbsp;shaderSource);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::ref_ptr&lt;osg::Program&gt;&nbsp;program&nbsp;=&nbsp;new&nbsp;osg::Program;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;program-&gt;addShader(fshader.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;stateset-&gt;setAttributeAndModes(program.get(),&nbsp;osg::StateAttribute::ON&nbsp;|&nbsp;osg::StateAttribute::OVERRIDE);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::ref_ptr&lt;osg::Image&gt;&nbsp;image&nbsp;=&nbsp;osgDB::readImageFile(&quot;Images/man.jpg&quot;);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&lt;/span&gt;osg::Texture2D&nbsp;*&nbsp;texture1&nbsp;=&nbsp;new&nbsp;osg::Texture2D;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;texture1-&gt;setDataVariance(osg::Object::DYNAMIC);&nbsp;//&nbsp;protect&nbsp;from&nbsp;being&nbsp;optimized&nbsp;away&nbsp;as&nbsp;static&nbsp;state.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;texture1-&gt;setImage(image);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;stateset-&gt;setTextureAttributeAndModes(0,&nbsp;texture1,&nbsp;osg::StateAttribute::ON);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;stateset-&gt;addUniform(new&nbsp;osg::Uniform(&quot;tex&quot;,&nbsp;0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;quad_geode-&gt;addDrawable(quad_geom.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;top_group-&gt;addChild(quad_geode.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;return&nbsp;top_group;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;//&nbsp;Here&nbsp;a&nbsp;scene&nbsp;consisting&nbsp;of&nbsp;a&nbsp;single&nbsp;quad&nbsp;is&nbsp;created.&nbsp;This&nbsp;scene&nbsp;is&nbsp;viewed&nbsp;by&nbsp;the&nbsp;screen&nbsp;camera.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;//&nbsp;The&nbsp;quad&nbsp;is&nbsp;textured&nbsp;using&nbsp;a&nbsp;shader&nbsp;and&nbsp;the&nbsp;multiple&nbsp;textures&nbsp;generated&nbsp;in&nbsp;the&nbsp;RTT&nbsp;stage.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;osg::Node*&nbsp;createScene(osg::Node*&nbsp;cam_subgraph,&nbsp;unsigned&nbsp;int&nbsp;tex_width,&nbsp;unsigned&nbsp;int&nbsp;tex_height,&nbsp;bool&nbsp;useHDR,&nbsp;bool&nbsp;useImage,&nbsp;bool&nbsp;useMultiSample)&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;if&nbsp;(!cam_subgraph)&nbsp;return&nbsp;0;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;create&nbsp;a&nbsp;group&nbsp;to&nbsp;contain&nbsp;the&nbsp;quad&nbsp;and&nbsp;the&nbsp;pre&nbsp;render&nbsp;camera.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::Group*&nbsp;parent&nbsp;=&nbsp;new&nbsp;osg::Group;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;textures&nbsp;to&nbsp;render&nbsp;to&nbsp;and&nbsp;to&nbsp;use&nbsp;for&nbsp;texturing&nbsp;of&nbsp;the&nbsp;final&nbsp;quad&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::TextureRectangle*&nbsp;textureRect&nbsp;=&nbsp;new&nbsp;osg::TextureRectangle;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;textureRect&nbsp;=&nbsp;new&nbsp;osg::TextureRectangle;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&lt;/span&gt;textureRect-&gt;setTextureSize(tex_width,&nbsp;tex_height);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;textureRect-&gt;setInternalFormat(GL_RGBA);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;textureRect-&gt;setFilter(osg::Texture2D::MIN_FILTER,&nbsp;osg::Texture2D::LINEAR);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;textureRect-&gt;setFilter(osg::Texture2D::MAG_FILTER,&nbsp;osg::Texture2D::LINEAR);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;first&nbsp;create&nbsp;the&nbsp;geometry&nbsp;of&nbsp;the&nbsp;quad&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::Geometry*&nbsp;polyGeom&nbsp;=&nbsp;new&nbsp;osg::Geometry();&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;polyGeom-&gt;setSupportsDisplayList(false);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::Vec3Array*&nbsp;vertices&nbsp;=&nbsp;new&nbsp;osg::Vec3Array;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::Vec2Array*&nbsp;texcoords&nbsp;=&nbsp;new&nbsp;osg::Vec2Array;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;vertices-&gt;push_back(osg::Vec3d(0,0,0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;texcoords-&gt;push_back(osg::Vec2(0,0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;vertices-&gt;push_back(osg::Vec3d(1,0,0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;texcoords-&gt;push_back(osg::Vec2(tex_width,0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;vertices-&gt;push_back(osg::Vec3d(1,0,1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;texcoords-&gt;push_back(osg::Vec2(tex_width,tex_height));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;vertices-&gt;push_back(osg::Vec3d(0,0,1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;texcoords-&gt;push_back(osg::Vec2(0,tex_height));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;polyGeom-&gt;setVertexArray(vertices);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;polyGeom-&gt;setTexCoordArray(0,texcoords);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;polyGeom-&gt;addPrimitiveSet(new&nbsp;osg::DrawArrays(osg::PrimitiveSet::QUADS,0,vertices-&gt;size()));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;now&nbsp;we&nbsp;need&nbsp;to&nbsp;add&nbsp;the&nbsp;textures&nbsp;(generated&nbsp;by&nbsp;RTT)&nbsp;to&nbsp;the&nbsp;Drawable.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::StateSet*&nbsp;stateset&nbsp;=&nbsp;new&nbsp;osg::StateSet;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;stateset-&gt;setTextureAttributeAndModes(0,&nbsp;textureRect,&nbsp;osg::StateAttribute::ON);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;polyGeom-&gt;setStateSet(stateset);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;static&nbsp;const&nbsp;char&nbsp;*shaderSource&nbsp;=&nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;uniform&nbsp;sampler2DRect&nbsp;textureID0;\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;void&nbsp;main(void)\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;{\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot; &nbsp; &nbsp;gl_FragData[0]&nbsp;=&nbsp;vec4(texture2DRect(&nbsp;textureID0,&nbsp;gl_TexCoord[0].st&nbsp;).rgb,&nbsp;1); &nbsp;\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&quot;}\n&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;};&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::ref_ptr&lt;osg::Shader&gt;&nbsp;fshader&nbsp;=&nbsp;new&nbsp;osg::Shader(osg::Shader::FRAGMENT,&nbsp;shaderSource);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::ref_ptr&lt;osg::Program&gt;&nbsp;program&nbsp;=&nbsp;new&nbsp;osg::Program;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;program-&gt;addShader(fshader.get());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;stateset-&gt;setAttributeAndModes(program.get(),&nbsp;osg::StateAttribute::ON&nbsp;|&nbsp;osg::StateAttribute::OVERRIDE);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;stateset-&gt;addUniform(new&nbsp;osg::Uniform(&quot;textureID0&quot;,&nbsp;0));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//stateset-&gt;setDataVariance(osg::Object::DYNAMIC);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::Geode*&nbsp;geode&nbsp;=&nbsp;new&nbsp;osg::Geode();&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;geode-&gt;addDrawable(polyGeom);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;parent-&gt;addChild(geode);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;now&nbsp;create&nbsp;the&nbsp;camera&nbsp;to&nbsp;do&nbsp;the&nbsp;multiple&nbsp;render&nbsp;to&nbsp;texture&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;osg::Camera*&nbsp;camera&nbsp;=&nbsp;new&nbsp;osg::Camera;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;set&nbsp;up&nbsp;the&nbsp;background&nbsp;color&nbsp;and&nbsp;clear&nbsp;mask.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setClearColor(osg::Vec4(1.0f,0.0f,1.0f,1.0f));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setClearMask(GL_COLOR_BUFFER_BIT&nbsp;|&nbsp;GL_DEPTH_BUFFER_BIT);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;the&nbsp;camera&nbsp;is&nbsp;going&nbsp;to&nbsp;look&nbsp;at&nbsp;our&nbsp;input&nbsp;quad&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setProjectionMatrix(osg::Matrix::ortho2D(0,1,0,1));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setReferenceFrame(osg::Transform::ABSOLUTE_RF);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setViewMatrix(osg::Matrix::identity());&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;set&nbsp;viewport&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setViewport(0,&nbsp;0,&nbsp;tex_width,&nbsp;tex_height);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;set&nbsp;the&nbsp;camera&nbsp;to&nbsp;render&nbsp;before&nbsp;the&nbsp;main&nbsp;camera.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setRenderOrder(osg::Camera::PRE_RENDER);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;tell&nbsp;the&nbsp;camera&nbsp;to&nbsp;use&nbsp;OpenGL&nbsp;frame&nbsp;buffer&nbsp;objects&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;setRenderTargetImplementation(osg::Camera::FRAME_BUFFER_OBJECT);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;attach&nbsp;the&nbsp;textures&nbsp;to&nbsp;use&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;camera-&gt;attach(osg::Camera::BufferComponent(osg::Camera::COLOR_BUFFER0),&nbsp;textureRect,&nbsp;0,&nbsp;0,&nbsp;false,&nbsp;4,&nbsp;4);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;osg::Image*&nbsp;image&nbsp;=&nbsp;new&nbsp;osg::Image;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;image-&gt;allocateImage(tex_width,&nbsp;tex_height,&nbsp;1,&nbsp;GL_RGBA,&nbsp;GL_UNSIGNED_BYTE);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;//&nbsp;attach&nbsp;the&nbsp;image&nbsp;so&nbsp;its&nbsp;copied&nbsp;on&nbsp;each&nbsp;frame.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;camera-&gt;attach(osg::Camera::BufferComponent(osg::Camera::COLOR_BUFFER0),&nbsp;image);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;//&nbsp;push&nbsp;back&nbsp;the&nbsp;image&nbsp;to&nbsp;the&nbsp;texture&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;textureRect-&gt;setImage(0,&nbsp;image);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;add&nbsp;the&nbsp;subgraph&nbsp;to&nbsp;render&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;camera-&gt;addChild(cam_subgraph);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;parent-&gt;addChild(camera);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;return&nbsp;parent;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;int&nbsp;main(&nbsp;int&nbsp;argc,&nbsp;char&nbsp;**argv&nbsp;)&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;{&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;use&nbsp;an&nbsp;ArgumentParser&nbsp;object&nbsp;to&nbsp;manage&nbsp;the&nbsp;program&nbsp;arguments.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::ArgumentParser&nbsp;arguments(&amp;argc,argv);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;construct&nbsp;the&nbsp;viewer.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osgViewer::Viewer&nbsp;viewer(arguments);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;unsigned&nbsp;tex_width &nbsp;=&nbsp;512;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;unsigned&nbsp;tex_height&nbsp;=&nbsp;512;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::Group*&nbsp;subGraph&nbsp;=&nbsp;createRTTQuad(tex_width,&nbsp;tex_height,&nbsp;false);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;osg::Group*&nbsp;rootNode&nbsp;=&nbsp;new&nbsp;osg::Group();&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;rootNode-&gt;addChild(createScene(subGraph,&nbsp;tex_width,&nbsp;tex_height,&nbsp;false,&nbsp;false,&nbsp;false));&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;//&nbsp;add&nbsp;model&nbsp;to&nbsp;the&nbsp;viewer.&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;viewer.setSceneData(&nbsp;rootNode&nbsp;);&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt; &nbsp; &nbsp;return&nbsp;viewer.run();&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;subprettyprint&quot;&gt;&lt;font&nbsp;color=&quot;#666600&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;<br>
<br>
--&nbsp;&lt;br&nbsp;/&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&quot;OpenSceneGraph&nbsp;Users&quot;&nbsp;group.&lt;br&nbsp;/&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group&nbsp;and&nbsp;stop&nbsp;receiving&nbsp;emails&nbsp;from&nbsp;it,&nbsp;send&nbsp;an&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:osg-users+unsubscribe@googlegroups.com&quot;&gt;osg-users+unsubscribe@googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>
To&nbsp;view&nbsp;this&nbsp;discussion&nbsp;on&nbsp;the&nbsp;web&nbsp;visit&nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/d/msgid/osg-users/f454e071-42a4-4a70-87d3-06ef15f69f10o%40googlegroups.com?utm_medium=email&amp;utm_source=footer&quot;&gt;https://groups.google.com/d/msgid/osg-users/f454e071-42a4-4a70-87d3-06ef15f69f10o%40googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>

</tt>
