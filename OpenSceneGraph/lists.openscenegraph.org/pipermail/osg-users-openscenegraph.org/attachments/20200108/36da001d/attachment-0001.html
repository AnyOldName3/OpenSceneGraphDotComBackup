<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Windows&nbsp;10.&lt;/div&gt;&lt;div&gt;NVida&nbsp;GeForce&nbsp;RTX&nbsp;2080.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;recently&nbsp;switched&nbsp;to&nbsp;3.6.4&nbsp;from&nbsp;3.5.1&nbsp;and&nbsp;noticed&nbsp;a&nbsp;huge&nbsp;drop&nbsp;in&nbsp;performance,&nbsp;especially when&nbsp;running&nbsp;with&nbsp;two&nbsp;separate&nbsp;windows&nbsp;(two&nbsp;applications).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;I&nbsp;use&nbsp;&lt;b&gt;SingleThreaded&nbsp;mode&lt;/b&gt;&lt;/div&gt;&lt;div&gt;2.&nbsp;I&nbsp;use &nbsp;&lt;b&gt;m_viewer-&gt;setReleaseContextAtEndOfFrameHint(false);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;3. &nbsp;I&nbsp;use&nbsp;&lt;b&gt;window-&gt;setSyncToVBlank(false);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;above&nbsp;attributes&nbsp;are&nbsp;quite&nbsp;tightly&nbsp;connected&nbsp;to&nbsp;my&nbsp;issues.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;first,&nbsp;running&nbsp;osgViewer&nbsp;with&nbsp;those&nbsp;settings&nbsp;I&nbsp;get&nbsp;using&nbsp;a&nbsp;simple&nbsp;obj&nbsp;file.&nbsp;Details&nbsp;not&nbsp;important,&nbsp;see&nbsp;below.&lt;/div&gt;&lt;div&gt;When&nbsp;loading&nbsp;a&nbsp;simple&nbsp;.obj&nbsp;file&nbsp;(couple&nbsp;of&nbsp;hundred&nbsp;triangles)&nbsp;into&nbsp;osgViewer:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&gt;&nbsp;osgViewer&nbsp;--window&nbsp;0&nbsp;0&nbsp;1280&nbsp;720&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.5.1:&nbsp;1900&nbsp;fps.&nbsp;Draw&nbsp;0.08ms&lt;/div&gt;&lt;div&gt;3.6.4:&nbsp;2500&nbsp;fps&nbsp;Draw&nbsp;0.05ms&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;this&nbsp;already&nbsp;show&nbsp;something&nbsp;different&nbsp;between&nbsp;the&nbsp;two&nbsp;versions,&nbsp;although&nbsp;perhaps&nbsp;not&nbsp;so&nbsp;relevant.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;img&nbsp;src=&quot;cid:ii_k550ypo20&quot;&nbsp;alt=&quot;image.png&quot;&nbsp;width=&quot;412&quot;&nbsp;height=&quot;129&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;if&nbsp;I&nbsp;start&nbsp;two&nbsp;instances&nbsp;of&nbsp;the&nbsp;viewer&nbsp;at&nbsp;the&nbsp;same&nbsp;time,&nbsp;I&nbsp;get&nbsp;a&nbsp;HUGE&nbsp;difference.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.5.1:&nbsp;Two&nbsp;windows,&nbsp;both&nbsp;run&nbsp;in&nbsp;~2000fps,&nbsp;smoothly.&lt;/div&gt;&lt;div&gt;3.6.4:&nbsp;Two&nbsp;windows,&nbsp;fps&nbsp;varies&nbsp;between&nbsp;80-1200fps.&nbsp;Animations&nbsp;are&nbsp;not&nbsp;smooth&nbsp;at&nbsp;all&nbsp;(when&nbsp;spinning&nbsp;the&nbsp;model).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;also&nbsp;have&nbsp;a few&nbsp;more&nbsp;issues,&nbsp;but&nbsp;I&nbsp;have&nbsp;not&nbsp;been&nbsp;able&nbsp;to&nbsp;pin&nbsp;them&nbsp;down&nbsp;yet:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;get&nbsp;small&nbsp;objects&nbsp;culled at&nbsp;a&nbsp;certain&nbsp;distance&nbsp;although&nbsp;they&nbsp;where&nbsp;not&nbsp;culled&nbsp;in&nbsp;previous&nbsp;version.&lt;/div&gt;&lt;div&gt;Might&nbsp;be&nbsp;some&nbsp;change&nbsp;in&nbsp;how&nbsp;bounding&nbsp;volume&nbsp;update&nbsp;is&nbsp;handled&nbsp;in&nbsp;3.6.4,&nbsp;will&nbsp;know&nbsp;more&nbsp;later.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyone&nbsp;else&nbsp;noticed&nbsp;the&nbsp;performance&nbsp;drop/change&nbsp;in&nbsp;3.6.4?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;/Anders&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&nbsp;data-smartmail=&quot;gmail_signature&quot;&gt;__________________________________________&lt;br&gt;Anders&nbsp;Backman,&nbsp;HPC2N&lt;br&gt;90187&nbsp;Umeå&nbsp;University,&nbsp;Sweden&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:anders@cs.umu.se&quot;&nbsp;target=&quot;_blank&quot;&gt;anders@cs.umu.se&lt;/a&gt; &lt;a&nbsp;href=&quot;http://www.hpc2n.umu.se/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.hpc2n.umu.se&lt;/a&gt;&lt;br&gt;Cell:&nbsp;+46-70-392&nbsp;64&nbsp;67&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
