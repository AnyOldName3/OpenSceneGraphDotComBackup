<tt>
&gt;From&nbsp;running&nbsp;<br>
NVidia&nbsp;&lt;span&gt;Nsight,&nbsp;I&nbsp;traced&nbsp;down&nbsp;periodic&nbsp;stalls&nbsp;to&nbsp;the&nbsp;&nbsp;<br>
&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;glGetInteger64v&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;<br>
<br>
on&nbsp;frameCompleted().&nbsp;This&nbsp;was&nbsp;especially&nbsp;true&nbsp;if&nbsp;I&nbsp;had&nbsp;multiple&nbsp;OSG&nbsp;windows&nbsp;running&nbsp;at&nbsp;the&nbsp;same&nbsp;time.&nbsp;This&nbsp;is&nbsp;on&nbsp;Windows.&nbsp;Basically&nbsp;its&nbsp;in&nbsp;the&nbsp;code:&nbsp;&lt;/span&gt;<br>
<br>
&lt;br&gt;<br>
&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;State.cpp&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;void&nbsp;&lt;span&gt;State::frameCompleted&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;{&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;if&lt;/span&gt;&nbsp;(&lt;span&gt;getTimestampBits&lt;/span&gt;())&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GLint64&nbsp;timestamp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;_glExtensions-&gt;&lt;span&gt;glGetInteger64v&lt;/span&gt;(GL_TIMESTAMP,&nbsp;&amp;timestamp);&lt;/b&gt;&lt;/span&gt;&lt;b&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;&lt;/span&gt;&lt;b&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;setGpuTimestamp&lt;/span&gt;(&lt;span&gt;osg::Timer::instance&lt;/span&gt;()-&gt;&lt;span&gt;tick&lt;/span&gt;(),&nbsp;timestamp);&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;span&gt;//&lt;/span&gt;OSG_NOTICE&lt;&lt;&quot;State::frameCompleted()&nbsp;setting&nbsp;time&nbsp;stamp.&nbsp;timestamp=&quot;&lt;&lt;timestamp&lt;&lt;std::endl;&lt;/span&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;}&nbsp;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Courier&nbsp;New;&quot;&gt;&lt;font&nbsp;face=&quot;Sans&nbsp;Serif&quot;&gt;2&nbsp;questions,&nbsp;if&nbsp;I&nbsp;am&nbsp;not&nbsp;currently&nbsp;collecting&nbsp;stats,&nbsp;are&nbsp;there&nbsp;any&nbsp;known&nbsp;side&nbsp;effects&nbsp;for&nbsp;disabling&nbsp;the&nbsp;stat&nbsp;collection?&nbsp;Second&nbsp;what&nbsp;would&nbsp;be&nbsp;the&nbsp;preferable&nbsp;way&nbsp;of&nbsp;disabling&nbsp;the&nbsp;stat&nbsp;collection.&nbsp;<br>
&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;getTimestampBits&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;,&nbsp;basically&nbsp;checks&nbsp;if&nbsp;the&nbsp;system&nbsp;supports&nbsp;64&nbsp;bit&nbsp;time&nbsp;stamp.&nbsp;<br>
<br>
I&nbsp;added&nbsp;a&nbsp;static&nbsp;public&nbsp;variable&nbsp;to&nbsp;State&nbsp;to&nbsp;disable&nbsp;the&nbsp;time&nbsp;stamp&nbsp;collection&nbsp;just&nbsp;to&nbsp;make&nbsp;a&nbsp;deadline,&nbsp;this&nbsp;is&nbsp;obviously&nbsp;not&nbsp;an&nbsp;ideal&nbsp;way&nbsp;of&nbsp;doing&nbsp;this.&nbsp;It&nbsp;did&nbsp;however&nbsp;take&nbsp;care&nbsp;of&nbsp;my&nbsp;periodic&nbsp;hangs,&nbsp;and&nbsp;let&nbsp;me&nbsp;make&nbsp;my&nbsp;deadline.&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;<br>
<br>
--&nbsp;&lt;br&nbsp;/&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&quot;OpenSceneGraph&nbsp;Users&quot;&nbsp;group.&lt;br&nbsp;/&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group&nbsp;and&nbsp;stop&nbsp;receiving&nbsp;emails&nbsp;from&nbsp;it,&nbsp;send&nbsp;an&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:osg-users+unsubscribe@googlegroups.com&quot;&gt;osg-users+unsubscribe@googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>
To&nbsp;view&nbsp;this&nbsp;discussion&nbsp;on&nbsp;the&nbsp;web&nbsp;visit&nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/d/msgid/osg-users/20010616-2c89-4228-90fc-96880430f3b2n%40googlegroups.com?utm_medium=email&amp;utm_source=footer&quot;&gt;https://groups.google.com/d/msgid/osg-users/20010616-2c89-4228-90fc-96880430f3b2n%40googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>

</tt>
