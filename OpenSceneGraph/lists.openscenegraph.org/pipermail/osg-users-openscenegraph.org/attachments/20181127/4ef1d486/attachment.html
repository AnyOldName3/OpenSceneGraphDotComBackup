<tt>
&lt;div&gt;Hi&nbsp;Ye&nbsp;Cong:&lt;/div&gt;&lt;div&gt;&nbsp;For&nbsp;instance&nbsp;rendering,You&nbsp;can&nbsp;see&nbsp;osgEarth::Drawinstance,they&nbsp;use&nbsp;uniform&nbsp;texture&nbsp;buffer&nbsp;instead&nbsp;of&nbsp;vertex&nbsp;attribute.&lt;/div&gt;&lt;div&gt;&nbsp;If&nbsp;you&nbsp;insist&nbsp;on&nbsp;using&nbsp;VertexAttribute,I&nbsp;guess&nbsp;you&nbsp;may&nbsp;inherit&nbsp;the&nbsp;osg::Geometry,and&nbsp;rewrite&nbsp;DrawImplement&nbsp;method,create&nbsp;a&nbsp;GLExtension&nbsp;to&nbsp;do&nbsp;this.&lt;/div&gt;&lt;div&gt;&nbsp;just&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;contextID&nbsp;=&nbsp;state.getContextID();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;osg::ref_ptr&lt;osg::GLExtensions&gt;&nbsp;ext&nbsp;=&nbsp;osg::GLExtensions::Get(contextID,&nbsp;true);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;ext-&gt;glVertexAttribPointer(blabla);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;ext-&gt;glVertexAttribPointer(blabla);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally,you&nbsp;can&nbsp;use&nbsp;Matrix&nbsp;Array&nbsp;uniform&nbsp;,but&nbsp;it's&nbsp;a&nbsp;stupid&nbsp;way&nbsp;I&nbsp;think.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;font-family:&nbsp;Arial&nbsp;Narrow;padding:2px&nbsp;0&nbsp;2px&nbsp;0;&quot;&gt;------------------&nbsp;Original&nbsp;------------------&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;background:#efefef;padding:8px;&quot;&gt;&lt;div&gt;&lt;b&gt;From:&lt;/b&gt;&nbsp;&quot;Cong&nbsp;Ye&quot;&lt;sirian_ye@hotmail.com&gt;;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Date:&lt;/b&gt;&nbsp;2018年11月27日(星期二)&nbsp;中午12:58&lt;/div&gt;&lt;div&gt;&lt;b&gt;To:&lt;/b&gt;&nbsp;&quot;osg-users&quot;&lt;osg-users@lists.openscenegraph.org&gt;;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[osg-users]&nbsp;pass&nbsp;mat4&nbsp;as&nbsp;attribute&nbsp;for&nbsp;glsl&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;currently&nbsp;working&nbsp;on&nbsp;a&nbsp;project&nbsp;requires&nbsp;gpu&nbsp;instancing.&nbsp;I&nbsp;worked&nbsp;out&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;the&nbsp;instancing&nbsp;with&nbsp;vec4&nbsp;as&nbsp;position&nbsp;attribute&nbsp;in.&nbsp;However,&nbsp;in&nbsp;the&nbsp;real&nbsp;case,&nbsp;instances&nbsp;need&nbsp;to&nbsp;be&nbsp;scaled/rotated/translated.&nbsp;Now,&nbsp;I&nbsp;want&nbsp;to&nbsp;send&nbsp;the&nbsp;transform&nbsp;matrix&nbsp;as&nbsp;an&nbsp;attribute&nbsp;to&nbsp;the&nbsp;shader.&nbsp;Normally,&nbsp;general&nbsp;opengl&nbsp;uses&nbsp;glVertexAttribPointer&nbsp;with&nbsp;offset&nbsp;and&nbsp;glVertexAttribDivisor&nbsp;to&nbsp;sperate&nbsp;mat4&nbsp;to&nbsp;vec4&nbsp;then&nbsp;pass&nbsp;to&nbsp;the&nbsp;shader.&nbsp;However,&nbsp;I&nbsp;don't&nbsp;find&nbsp;the&nbsp;replacement&nbsp;function&nbsp;to&nbsp;do&nbsp;the&nbsp;offset&nbsp;data&nbsp;structure&nbsp;pass.&nbsp;Could&nbsp;someone&nbsp;enlighten&nbsp;me&nbsp;about&nbsp;it,&nbsp;please?&nbsp;&lt;br&gt;&lt;br&gt;thanks&nbsp;very&nbsp;much!&lt;br&gt;&lt;br&gt;...&nbsp;&lt;br&gt;&lt;br&gt;Thank&nbsp;you!&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Cong&lt;br&gt;&lt;br&gt;------------------&lt;br&gt;Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=75249#75249&quot;&nbsp;rel=&quot;noopener&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum&lt;wbr&gt;.openscenegr&lt;wbr&gt;aph.org/view&lt;wbr&gt;topic.php?p=&lt;wbr&gt;75249#75249&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;osg-users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&nbsp;rel=&quot;noopener&quot;&nbsp;target=&quot;_blank&quot;&gt;osg-users@li&lt;wbr&gt;sts.openscen&lt;wbr&gt;egraph.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noopener&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists&lt;wbr&gt;.openscenegr&lt;wbr&gt;aph.org/list&lt;wbr&gt;info.cgi/osg&lt;wbr&gt;-users-opens&lt;wbr&gt;cenegraph.or&lt;wbr&gt;g&lt;/a&gt;&lt;br&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;.qmbox&nbsp;style,&nbsp;.qmbox&nbsp;script,&nbsp;.qmbox&nbsp;head,&nbsp;.qmbox&nbsp;link,&nbsp;.qmbox&nbsp;meta&nbsp;{display:&nbsp;none&nbsp;!important;}&lt;/style&gt;
</tt>
