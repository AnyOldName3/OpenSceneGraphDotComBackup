<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;23&nbsp;February&nbsp;2016&nbsp;at&nbsp;09:13,&nbsp;Renato&nbsp;Semadeni&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rsemadeni@flyelite.ch&quot;&nbsp;target=&quot;_blank&quot;&gt;rsemadeni@flyelite.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;Hi&nbsp;Robert&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;the&nbsp;quick&nbsp;answer.&nbsp;And&nbsp;yes,&nbsp;I&nbsp;forgot&nbsp;that&nbsp;I&nbsp;could&nbsp;change&nbsp;the&nbsp;osg&nbsp;code&nbsp;and&nbsp;recompile&nbsp;it&nbsp;from&nbsp;scratch.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;behavior&nbsp;was&nbsp;just&nbsp;bizarre,&nbsp;since&nbsp;there&nbsp;was&nbsp;no&nbsp;symmetrie&nbsp;between&nbsp;the&nbsp;behavior&nbsp;on&nbsp;the&nbsp;left&nbsp;side&nbsp;of&nbsp;the&nbsp;two&nbsp;lights&nbsp;compared&nbsp;to&nbsp;the&nbsp;right&nbsp;side.&nbsp;Since&nbsp;it&nbsp;would&nbsp;be&nbsp;obvious&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;a&nbsp;geometric&nbsp;problem.&nbsp;But&nbsp;what&nbsp;we&nbsp;found&nbsp;was&nbsp;that&nbsp;the&nbsp;position&nbsp;in&nbsp;the&nbsp;frustum&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&nbsp;souce&nbsp;of&nbsp;the&nbsp;behavior.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;direction&nbsp;vector&nbsp;between&nbsp;the&nbsp;eye&nbsp;point&nbsp;and&nbsp;the&nbsp;light&nbsp;point&nbsp;is&nbsp;used&nbsp;to&nbsp;calculator&nbsp;intensity&nbsp;of&nbsp;the&nbsp;light&nbsp;point&nbsp;in&nbsp;the&nbsp;sector&nbsp;calculation,&nbsp;so&nbsp;one&nbsp;would&nbsp;expect&nbsp;the&nbsp;things&nbsp;to&nbsp;change&nbsp;as&nbsp;the&nbsp;light&nbsp;point&nbsp;moves&nbsp;within&nbsp;the&nbsp;frustum. &nbsp;The&nbsp;code&nbsp;that&nbsp;does&nbsp;this&nbsp;is&nbsp;in&nbsp;LightPointNode.cpp,&nbsp;note&nbsp;the&nbsp;if&nbsp;(lp._sector.valid())&nbsp;block&nbsp;at&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;extract&nbsp;I&#39;ve&nbsp;posted&nbsp;below.&lt;br&gt;&lt;br&gt;&lt;br&gt;           &nbsp;//&nbsp;delta&nbsp;vector&nbsp;between&nbsp;eyepoint&nbsp;and&nbsp;light&nbsp;point.&lt;br&gt;           &nbsp;osg::Vec3&nbsp;dv(eyePoint-position);&lt;br&gt;&lt;br&gt;           &nbsp;float&nbsp;intensity&nbsp;=&nbsp;(_lightSystem.valid())&nbsp;?&nbsp;_lightSystem-&gt;getIntensity()&nbsp;:&nbsp;lp._intensity;&lt;br&gt;&lt;br&gt;           &nbsp;//&nbsp;slip&nbsp;light&nbsp;point&nbsp;if&nbsp;its&nbsp;intensity&nbsp;is&nbsp;0.0&nbsp;or&nbsp;negative.&lt;br&gt;           &nbsp;if&nbsp;(intensity&lt;=minimumIntensity)&nbsp;continue;&lt;br&gt;&lt;br&gt;           &nbsp;//&nbsp;(SIB)&nbsp;Clip&nbsp;on&nbsp;distance,&nbsp;if&nbsp;close&nbsp;to&nbsp;limit,&nbsp;add&nbsp;transparancy&lt;br&gt;           &nbsp;float&nbsp;distanceFactor&nbsp;=&nbsp;1.0f;&lt;br&gt;           &nbsp;if&nbsp;(_maxVisibleDistance2!=FLT_MAX)&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;if&nbsp;(dv.length2()&gt;_maxVisibleDistance2)&nbsp;continue;&lt;br&gt;               &nbsp;else&nbsp;if&nbsp;(_maxVisibleDistance2&nbsp;&gt;&nbsp;0)&lt;br&gt;                   &nbsp;distanceFactor&nbsp;=&nbsp;1.0f&nbsp;-&nbsp;osg::square(dv.length2()&nbsp;/&nbsp;_maxVisibleDistance2);&lt;br&gt;           &nbsp;}&lt;br&gt;&lt;br&gt;           &nbsp;osg::Vec4&nbsp;color&nbsp;=&nbsp;lp._color;&lt;br&gt;&lt;br&gt;           &nbsp;//&nbsp;check&nbsp;the&nbsp;sector.&lt;br&gt;           &nbsp;if&nbsp;(lp._sector.valid())&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;intensity&nbsp;*=&nbsp;(*lp._sector)(dv);&lt;br&gt;&lt;br&gt;               &nbsp;//&nbsp;skip&nbsp;light&nbsp;point&nbsp;if&nbsp;it&nbsp;is&nbsp;intensity&nbsp;is&nbsp;0.0&nbsp;or&nbsp;negative.&lt;br&gt;               &nbsp;if&nbsp;(intensity&lt;=minimumIntensity)&nbsp;continue;&lt;br&gt;&lt;br&gt;           &nbsp;}&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert.&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
