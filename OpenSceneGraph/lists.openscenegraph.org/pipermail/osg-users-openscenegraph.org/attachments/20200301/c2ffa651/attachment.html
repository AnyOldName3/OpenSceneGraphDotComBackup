<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Armin,&lt;/div&gt;&lt;div&gt;Essentially&nbsp;the&nbsp;scene&nbsp;graph&nbsp;is&nbsp;a&nbsp;one-for-one&nbsp;representation&nbsp;of&nbsp;my&nbsp;DOM.&nbsp;Each&nbsp;individual&nbsp;object&nbsp;can&nbsp;be&nbsp;edited,&nbsp;or&nbsp;its&nbsp;attributes&nbsp;changed. &lt;/div&gt;&lt;div&gt;The&nbsp;DOM&nbsp;can&nbsp;be&nbsp;a&nbsp;small&nbsp;number&nbsp;of&nbsp;geometrically&nbsp;&quot;complex&quot;&nbsp;objects&nbsp; -&nbsp;this&nbsp;causes&nbsp;no&nbsp;performance&nbsp;problems&nbsp;as&nbsp;the&nbsp;geometry&nbsp;&quot;leafs&quot;&nbsp;are&nbsp;large&nbsp;geometrically,&nbsp;or&nbsp;the&nbsp;DOM&nbsp;might&nbsp;have&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;simple&nbsp;objects.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;KD&nbsp;tree&nbsp;would&nbsp;be&nbsp;useful&nbsp;for&nbsp;removing&nbsp;&quot;not&nbsp;visible&quot;&nbsp;nodes,&nbsp;but&nbsp;in&nbsp;general&nbsp;they&nbsp;are&nbsp;all&nbsp;visible.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;&quot;theory&quot;&nbsp;the&nbsp; whole&nbsp;scene&nbsp;graph&nbsp;geometry&nbsp;was&nbsp;flattened&nbsp;to&nbsp;one&nbsp;set&nbsp;of&nbsp;vertex,&nbsp;colors&nbsp;and&nbsp;normals&nbsp;for&nbsp;maximum&nbsp;efficiency&nbsp;-&nbsp;of&nbsp;course,&nbsp;updates&nbsp;to&nbsp;the&nbsp;scene&nbsp;graph&nbsp;would&nbsp;require&nbsp;this&nbsp;structure&nbsp;to&nbsp;be&nbsp;partially&nbsp;or&nbsp;fully&nbsp;rebuilt.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&#39;s&nbsp;a&nbsp;bit&nbsp;of&nbsp;overkill&nbsp;for&nbsp;me,&nbsp;as&nbsp;I&nbsp;&quot;know&quot;&nbsp;the&nbsp;parent&nbsp;Group&nbsp;node&nbsp;in&nbsp;the&nbsp;scene&nbsp;graph&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;make&nbsp;more&nbsp;efficient.&nbsp;Typically&nbsp;the&nbsp;objects&nbsp;under&nbsp;this&nbsp;node&nbsp;have&nbsp;the&nbsp;same&nbsp;attributes. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;could&nbsp;flatten&nbsp;my&nbsp;nodes&nbsp;&quot;manually&quot;,&nbsp;but&nbsp;flattening&nbsp;the&nbsp;scene&nbsp;graph&nbsp;seems&nbsp;a&nbsp;typical&nbsp;&quot;use-case&quot;&nbsp;that&nbsp;OSG&nbsp;users&nbsp;would&nbsp;want&nbsp;to&nbsp;do.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;done&nbsp;some&nbsp;tests&nbsp;with&nbsp;osg::Optimizer&nbsp;with&nbsp;the&nbsp;MERGE_GEOMETRY&nbsp;option&nbsp;after&nbsp;collecting&nbsp;all&nbsp;the&nbsp;osg::Geometry&nbsp;nodes&nbsp;into&nbsp;a&nbsp;temporary&nbsp;group&nbsp;-&nbsp; this&nbsp;does&nbsp;not&nbsp;do&nbsp;exactly&nbsp;what&nbsp;I&nbsp;want,&nbsp;as&nbsp;it&nbsp;only&nbsp;collects&nbsp;the&nbsp;osg::PrimitiveSets.&nbsp;Not&nbsp;merging&nbsp;the&nbsp;sets&nbsp;themselves.&lt;/div&gt;&lt;div&gt;Weirdly&nbsp;calling&nbsp;&quot;optimize&quot;&nbsp;also&nbsp;causes&nbsp;my&nbsp;scene&nbsp;graph&nbsp;to&nbsp;stop&nbsp;drawing&nbsp;for&nbsp;some&nbsp;unknown&nbsp;and&nbsp;very&nbsp;frustrating&nbsp;reason.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;code&nbsp;in&nbsp;the&nbsp;OSG&nbsp;GLES&nbsp;plugin&nbsp;code&nbsp;that&nbsp;looks&nbsp;promising,&nbsp;but&nbsp;it&#39;s&nbsp;quite&nbsp;undocumented&nbsp;and&nbsp;I&nbsp;am&nbsp;having&nbsp;to&nbsp;guess&nbsp;about&nbsp;it&#39;s&nbsp;functionality.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Andrew&lt;br&gt;&lt;br&gt;On&nbsp;Sunday,&nbsp;March&nbsp;1,&nbsp;2020&nbsp;at&nbsp;6:14:07&nbsp;PM&nbsp;UTC-8,&nbsp;Armin&nbsp;Samii&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Iterating&nbsp;over&nbsp;the&nbsp;5000&nbsp;children&nbsp;would&nbsp;be&nbsp;pretty&nbsp;slow&nbsp;-&nbsp;what&nbsp;if&nbsp;you&nbsp;could&nbsp;discard&nbsp;some&nbsp;of&nbsp;these&nbsp;children&nbsp;without&nbsp;even&nbsp;looking&nbsp;at&nbsp;them?&nbsp;A&nbsp;hierarchy&nbsp;of&nbsp;sorts,&nbsp;where&nbsp;you&nbsp;can&nbsp;ignore&nbsp;large&nbsp;swaths&nbsp;of&nbsp;those&nbsp;children,&nbsp;would&nbsp;help...&lt;div&gt;Consider,&nbsp;for&nbsp;example,&nbsp;using&nbsp;a&nbsp;k-d&nbsp;tree: &lt;a&nbsp;href=&quot;http://www.openscenegraph.org/index.php/documentation/user-guides/107-kdtrees&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;onmousedown=&quot;this.href=&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2Fwww.openscenegraph.org%2Findex.php%2Fdocumentation%2Fuser-guides%2F107-kdtrees\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNFLyCE1N4jHHrYgWDYPTuuAXyH6rg&#39;;return&nbsp;true;&quot;&nbsp;onclick=&quot;this.href=&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2Fwww.openscenegraph.org%2Findex.php%2Fdocumentation%2Fuser-guides%2F107-kdtrees\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNFLyCE1N4jHHrYgWDYPTuuAXyH6rg&#39;;return&nbsp;true;&quot;&gt;http://www.&lt;wbr&gt;openscenegraph.org/index.php/&lt;wbr&gt;documentation/user-guides/107-&lt;wbr&gt;kdtrees&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Or&nbsp;you&nbsp;can&nbsp;do&nbsp;this&nbsp;on&nbsp;your&nbsp;own,&nbsp;if&nbsp;you&nbsp;like,&nbsp;by&nbsp;grouping&nbsp;nearby&nbsp;nodes&nbsp;into&nbsp;their&nbsp;own&nbsp;osg::Group.&nbsp;Depends&nbsp;what&nbsp;your&nbsp;underlying&nbsp;data&nbsp;looks&nbsp;like.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;not&nbsp;recommend&nbsp;combining&nbsp;the&nbsp;geometry&nbsp;into&nbsp;a&nbsp;single&nbsp;drawable&nbsp;unless&nbsp;you&nbsp;expect&nbsp;all&nbsp;of&nbsp;them&nbsp;to&nbsp;be&nbsp;visible at&nbsp;once,&nbsp;and&nbsp;that&nbsp;each&nbsp;piece&nbsp;of&nbsp;geometry&nbsp;is&nbsp;fairly&nbsp;small.&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Sun,&nbsp;Mar&nbsp;1,&nbsp;2020&nbsp;at&nbsp;9:07&nbsp;AM&nbsp;AndrewC&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:&quot;&nbsp;target=&quot;_blank&quot;&nbsp;gdf-obfuscated-mailto=&quot;QvuHNctmCwAJ&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;onmousedown=&quot;this.href=&#39;javascript:&#39;;return&nbsp;true;&quot;&nbsp;onclick=&quot;this.href=&#39;javascript:&#39;;return&nbsp;true;&quot;&gt;ad...@a-cunningham.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;was&nbsp;wondering&nbsp;what&nbsp;the&nbsp;best&nbsp;practices&nbsp;are&nbsp;for&nbsp;dealing&nbsp;with&nbsp;a&nbsp;complex&nbsp;scene&nbsp;graph&nbsp;where&nbsp;a&nbsp;single&nbsp;osg::Group&nbsp;might&nbsp;have&nbsp;,&nbsp;say,&nbsp;5000&nbsp;children&nbsp;where&nbsp;each&nbsp;child&nbsp;is&nbsp;fairly&nbsp;simple&nbsp;osg::Geom&nbsp;geometry.&nbsp;Clearly,&nbsp;this&nbsp;is&nbsp;inefficient&nbsp;and&nbsp;draws&nbsp;slowly.&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;obviously,&nbsp;compiling/collecting&nbsp;the&nbsp;geometry&nbsp;into&nbsp;one&nbsp;drawable&nbsp;would&nbsp;be&nbsp;much&nbsp;more&nbsp;efficient.&nbsp;osgUtil::Optimizer&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;do&nbsp;this&nbsp;for&nbsp;me,&nbsp;or&nbsp;am&nbsp;I&nbsp;missing&nbsp;something?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Andrew&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;<br>
<br>
--&nbsp;&lt;br&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&quot;OpenSceneGraph&nbsp;Users&quot;&nbsp;group.&lt;br&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group&nbsp;and&nbsp;stop&nbsp;receiving&nbsp;emails&nbsp;from&nbsp;it,&nbsp;send&nbsp;an&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;javascript:&quot;&nbsp;target=&quot;_blank&quot;&nbsp;gdf-obfuscated-mailto=&quot;QvuHNctmCwAJ&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;onmousedown=&quot;this.href=&#39;javascript:&#39;;return&nbsp;true;&quot;&nbsp;onclick=&quot;this.href=&#39;javascript:&#39;;return&nbsp;true;&quot;&gt;osg-...@&lt;wbr&gt;googlegroups.com&lt;/a&gt;.&lt;br&gt;<br>
To&nbsp;view&nbsp;this&nbsp;discussion&nbsp;on&nbsp;the&nbsp;web&nbsp;visit&nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/d/msgid/osg-users/19df5325-01d5-4fa7-94d2-9c9560c92956%40googlegroups.com?utm_medium=email&amp;utm_source=footer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;onmousedown=&quot;this.href=&#39;https://groups.google.com/d/msgid/osg-users/19df5325-01d5-4fa7-94d2-9c9560c92956%40googlegroups.com?utm_medium\x3demail\x26utm_source\x3dfooter&#39;;return&nbsp;true;&quot;&nbsp;onclick=&quot;this.href=&#39;https://groups.google.com/d/msgid/osg-users/19df5325-01d5-4fa7-94d2-9c9560c92956%40googlegroups.com?utm_medium\x3demail\x26utm_source\x3dfooter&#39;;return&nbsp;true;&quot;&gt;https://groups.google.com/d/&lt;wbr&gt;msgid/osg-users/19df5325-01d5-&lt;wbr&gt;4fa7-94d2-9c9560c92956%&lt;wbr&gt;40googlegroups.com&lt;/a&gt;.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;margin-left:0pt&quot;&gt;&lt;table&nbsp;style=&quot;border:none;border-collapse:collapse&quot;&gt;&lt;colgroup&gt;&lt;col&nbsp;width=&quot;97&quot;&gt;&lt;col&nbsp;width=&quot;527&quot;&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr&nbsp;style=&quot;height:37pt&quot;&gt;&lt;td&nbsp;style=&quot;border-width:1pt;border-style:solid;border-color:rgb(255,255,255);vertical-align:middle;padding:5pt&quot;&gt;&lt;img&nbsp;src=&quot;https://lh5.googleusercontent.com/proxy/J2VWEgWGyi4GA9RRQrWW4Uod5ec6v4Cl45Q_0SeBiaFfyCFbtFeWOfX4p5JTVKXqWVG_iIycdgEO2aRu17VPvbDu43iEuUDxvmWhlFB9vfVlDwg6buTVaQxk5zd8lAZyfSWzWf8FWB2aHWsgnNWumYSanxI6csgJ_V7KlWizOI3Fjt2buEOT9EDQIoXRyo_l1TpOO6VJyc3mpMLEVNw4xWM23WJs9UKaJZwmylPklJMyr3yEiIOk3Vd0yUvqYkFRgC7M3UXB1rcRz51GE-IhZLb9LOrFn3RkDGGLwrT6Weq3gu4slQwuwVjcE0WnLdEGx19FDgqYRVvSbpNy7g=w5000-h5000&quot;&gt;&lt;br&gt;&lt;/td&gt;&lt;td&nbsp;style=&quot;border-width:1pt;border-style:solid;border-color:rgb(255,255,255);vertical-align:middle;padding:5pt&quot;&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;border-left:0.5pt&nbsp;solid&nbsp;rgb(0,0,0);padding:0pt&nbsp;0pt&nbsp;0pt&nbsp;4pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Roboto;color:rgb(72,80,82);background-color:transparent;font-weight:700;vertical-align:baseline;white-space:pre-wrap&quot;&gt;Armin&nbsp;Samii&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;border-left:0.5pt&nbsp;solid&nbsp;rgb(0,0,0);padding:0pt&nbsp;0pt&nbsp;0pt&nbsp;4pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Roboto;color:rgb(72,80,82);background-color:transparent;vertical-align:baseline;white-space:pre-wrap&quot;&gt;Visualization&nbsp;Software&nbsp;Engineer,&nbsp;&lt;/span&gt;&lt;a&nbsp;href=&quot;http://argo.ai/&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;onmousedown=&quot;this.href=&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2Fargo.ai%2F\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNH5BBFU1wX1jvLwPr2sZEdE1YtW6A&#39;;return&nbsp;true;&quot;&nbsp;onclick=&quot;this.href=&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2Fargo.ai%2F\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNH5BBFU1wX1jvLwPr2sZEdE1YtW6A&#39;;return&nbsp;true;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Roboto;color:rgb(72,80,82);background-color:transparent;vertical-align:baseline;white-space:pre-wrap&quot;&gt;Argo&nbsp;AI&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;font-family:Roboto;color:rgb(72,80,82);vertical-align:baseline;white-space:pre-wrap&quot;&gt;&lt;font&nbsp;size=&quot;1&quot;&gt;&lt;div&gt;CONFIDENTIALITY&nbsp;NOTICE:&nbsp;This&nbsp;e-mail&nbsp;and&nbsp;any&nbsp;files&nbsp;transmitted&nbsp;with&nbsp;it&nbsp;are&nbsp;confidential&nbsp;and&nbsp;designated&nbsp;solely&nbsp;for&nbsp;use&nbsp;of&nbsp;the&nbsp;individual(s)&nbsp;or&nbsp;entity&nbsp;to&nbsp;whom&nbsp;they&nbsp;are&nbsp;addressed.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;named&nbsp;addressee,&nbsp;you&nbsp;are&nbsp;notified&nbsp;that&nbsp;disseminating,&nbsp;copying,&nbsp;disclosing&nbsp;or&nbsp;taking&nbsp;any&nbsp;action&nbsp;in&nbsp;reliance&nbsp;on&nbsp;its&nbsp;contents&nbsp;is&nbsp;strictly&nbsp;prohibited&nbsp;and&nbsp;could&nbsp;subject&nbsp;you&nbsp;to&nbsp;legal&nbsp;action&nbsp;by&nbsp;the&nbsp;sender.&nbsp;Please&nbsp;notify&nbsp;the&nbsp;sender&nbsp;immediately&nbsp;if&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;e-mail&nbsp;in&nbsp;error&nbsp;and&nbsp;delete&nbsp;it&nbsp;from&nbsp;your&nbsp;system.&nbsp;Thanks&nbsp;for&nbsp;your&nbsp;cooperation.&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;<br>
<br>
--&nbsp;&lt;br&nbsp;/&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&quot;OpenSceneGraph&nbsp;Users&quot;&nbsp;group.&lt;br&nbsp;/&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group&nbsp;and&nbsp;stop&nbsp;receiving&nbsp;emails&nbsp;from&nbsp;it,&nbsp;send&nbsp;an&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:osg-users+unsubscribe@googlegroups.com&quot;&gt;osg-users+unsubscribe@googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>
To&nbsp;view&nbsp;this&nbsp;discussion&nbsp;on&nbsp;the&nbsp;web&nbsp;visit&nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/d/msgid/osg-users/a98e70fb-9a0b-4925-a526-1371d294b5af%40googlegroups.com?utm_medium=email&amp;utm_source=footer&quot;&gt;https://groups.google.com/d/msgid/osg-users/a98e70fb-9a0b-4925-a526-1371d294b5af%40googlegroups.com&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>

</tt>
