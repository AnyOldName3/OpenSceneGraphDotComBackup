<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Julian&nbsp;et.&nbsp;al,&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;28&nbsp;July&nbsp;2017&nbsp;at&nbsp;17:53,&nbsp;Julien&nbsp;Valentin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:julienvalentin51@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;julienvalentin51@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;pushed&nbsp;a&nbsp;new&nbsp;osg&nbsp;branch&nbsp;at&nbsp;git&nbsp;for&nbsp;Indirect&nbsp;Draw&nbsp;feature&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/openscenegraph/OpenSceneGraph/tree/MultiDrawIndirect&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/&lt;wbr&gt;openscenegraph/OpenSceneGraph/&lt;wbr&gt;tree/MultiDrawIndirect&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;that&nbsp;this&nbsp;branch&nbsp;is&nbsp;merged&nbsp;with&nbsp;master,&nbsp;it&nbsp;should&nbsp;be&nbsp;OK&nbsp;for&nbsp;us&nbsp;to&nbsp;delete&nbsp;the&nbsp;branch. &nbsp;Julian,&nbsp;do&nbsp;you&nbsp;have&nbsp;any&nbsp;further&nbsp;revisions&nbsp;planned?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;FYI,&nbsp;I&nbsp;made&nbsp;some&nbsp;build&nbsp;fixes&nbsp;for&nbsp;compiling&nbsp;the&nbsp;OSG&nbsp;without&nbsp;the&nbsp;automatic&nbsp;ref_ptr&lt;&gt;&nbsp;-&gt;&nbsp;C&nbsp;pointer&nbsp;conversion&nbsp;enabled,&nbsp;so&nbsp;these&nbsp;would&nbsp;need&nbsp;merging&nbsp;with&nbsp;the&nbsp;MultiDrawIndirect&nbsp;branch&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;keep&nbsp;it&nbsp;around.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;also&nbsp;did&nbsp;some&nbsp;testing&nbsp;of&nbsp;the&nbsp;osgsimpleMDI&nbsp;example&nbsp;and&nbsp;found&nbsp;the&nbsp;--classic&nbsp;code&nbsp;path&nbsp;that&nbsp;uses&nbsp;multiple&nbsp;DrawElementsUInt&nbsp;in&nbsp;place&nbsp;of&nbsp;a&nbsp;single&nbsp;DefaultIndirectCommandDrawElements&nbsp;and&nbsp;was&nbsp;surprised&nbsp;at&nbsp;how&nbsp;the&nbsp;performance&nbsp;was&nbsp;with&nbsp;the&nbsp;non&nbsp;MultiDrawIndirect&nbsp;code&nbsp;path,&nbsp;However,&nbsp;looking&nbsp;at&nbsp;the&nbsp;way&nbsp;this&nbsp;example&nbsp;works&nbsp;I&nbsp;spotted&nbsp;that&nbsp;a&nbsp;DrawElemenetsUInt&nbsp;was&nbsp;being&nbsp;used&nbsp;for&nbsp;each&nbsp;separate&nbsp;quad&nbsp;which&nbsp;is&nbsp;about&nbsp;the&nbsp;worst&nbsp;way&nbsp;to&nbsp;implement&nbsp;things. &nbsp;To&nbsp;provide&nbsp;a&nbsp;proper&nbsp;comparison&nbsp;I&nbsp;added&nbsp;a&nbsp;--single&nbsp;code&nbsp;path&nbsp;that&nbsp;creates&nbsp;a&nbsp;single&nbsp;DrawElementsUInt&nbsp;primitive&nbsp;set&nbsp;and&nbsp;this&nbsp;produced&nbsp;the&nbsp;expected&nbsp;performance.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;performance&nbsp;I&nbsp;get&nbsp;on&nbsp;my&nbsp;iCore7&nbsp;+&nbsp;Geforce&nbsp;GTX&nbsp;760&nbsp;was:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp;osgsimpleMDI   &nbsp;[&nbsp;uses&nbsp;MultiDrawElementsIndirectUShort&nbsp;:&nbsp;draw&nbsp;dispatch&nbsp;0.11ms,&nbsp;draw&nbsp;GPU&nbsp;0.94ms]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt; &nbsp;osgsimpleMDI &nbsp;--classic &nbsp;[&nbsp;uses&nbsp;multiple&nbsp;DrawElementsUShort&nbsp;:&nbsp;draw&nbsp;dispatch&nbsp;2.3ms,&nbsp;draw&nbsp;GPU&nbsp;0.44ms]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt; &nbsp;osgsimpleMDI &nbsp;--single &nbsp;[&nbsp;uses&nbsp;single&nbsp;DrawElementsUShort&nbsp;:&nbsp;draw&nbsp;dispatch&nbsp;0.11ms,&nbsp;draw&nbsp;GPU&nbsp;0.22ms]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;for&nbsp;this&nbsp;test&nbsp;MDI&nbsp;is&nbsp;lightweight&nbsp;on&nbsp;draw&nbsp;dispatch&nbsp;but&nbsp;heavy&nbsp;on&nbsp;the&nbsp;GPU,&nbsp;multiple&nbsp;DrawElementsUInt&nbsp;is&nbsp;super&nbsp;heavy&nbsp;on&nbsp;draw&nbsp;dispatch&nbsp;but&nbsp;modest&nbsp;on&nbsp;GPU,&nbsp;but&nbsp;the&nbsp;winner&nbsp;is&nbsp;single&nbsp;DrawElementsUInt&nbsp;with&nbsp;lightweight&nbsp;draw&nbsp;dispatch&nbsp;and&nbsp;on&nbsp;the&nbsp;GPU&nbsp;(move&nbsp;than&nbsp;4&nbsp;times&nbsp;faster&nbsp;than&nbsp;MDI.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Different&nbsp;drivers&nbsp;and&nbsp;hardware&nbsp;will&nbsp;give&nbsp;different&nbsp;values&nbsp;but&nbsp;for&nbsp;this&nbsp;particular&nbsp;usage&nbsp;case&nbsp;using&nbsp;old&nbsp;style&nbsp;DrawElementsUInt&nbsp;will&nbsp;likely&nbsp;be&nbsp;the&nbsp;best.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
