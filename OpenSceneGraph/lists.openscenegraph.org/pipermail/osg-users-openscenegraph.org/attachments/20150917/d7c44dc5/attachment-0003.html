<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Found&nbsp;the&nbsp;culprit&nbsp;for&nbsp;my&nbsp;performance&nbsp;woes.&nbsp;The&nbsp;nvidia&nbsp;driver&#39;s&nbsp;GLX&nbsp;module&nbsp;for&nbsp;Xorg&nbsp;was&nbsp;likely&nbsp;overwritten&nbsp;by&nbsp;an&nbsp;update&nbsp;to&nbsp;xorg.&nbsp;This&nbsp;caused&nbsp;the&nbsp;GLX&nbsp;module&nbsp;initialisation&nbsp;to&nbsp;fail&nbsp;and&nbsp;the&nbsp;following&nbsp;lines&nbsp;to&nbsp;appear&nbsp;in&nbsp;the&nbsp;log&nbsp;file.&lt;br&gt;&lt;div&gt;&lt;br&gt;[  &nbsp;873.392]&nbsp;(EE)&nbsp;NVIDIA(0):&nbsp;Failed&nbsp;to&nbsp;initialize&nbsp;the&nbsp;GLX&nbsp;module;&nbsp;please&nbsp;check&nbsp;in&nbsp;your&nbsp;X&lt;br&gt;[  &nbsp;873.392]&nbsp;(EE)&nbsp;NVIDIA(0):    &nbsp;log&nbsp;file&nbsp;that&nbsp;the&nbsp;GLX&nbsp;module&nbsp;has&nbsp;been&nbsp;loaded&nbsp;in&nbsp;your&nbsp;X&lt;br&gt;[  &nbsp;873.392]&nbsp;(EE)&nbsp;NVIDIA(0):    &nbsp;server,&nbsp;and&nbsp;that&nbsp;the&nbsp;module&nbsp;is&nbsp;the&nbsp;NVIDIA&nbsp;GLX&nbsp;module. &nbsp;If&lt;br&gt;[  &nbsp;873.392]&nbsp;(EE)&nbsp;NVIDIA(0):    &nbsp;you&nbsp;continue&nbsp;to&nbsp;encounter&nbsp;problems,&nbsp;Please&nbsp;try&lt;br&gt;[  &nbsp;873.392]&nbsp;(EE)&nbsp;NVIDIA(0):    &nbsp;reinstalling&nbsp;the&nbsp;NVIDIA&nbsp;driver.&lt;br&gt;&lt;br&gt;[  &nbsp;874.171]&nbsp;(II)&nbsp;AIGLX:&nbsp;Screen&nbsp;0&nbsp;is&nbsp;not&nbsp;DRI2&nbsp;capable&lt;br&gt;[  &nbsp;874.171]&nbsp;(EE)&nbsp;AIGLX:&nbsp;reverting&nbsp;to&nbsp;software&nbsp;rendering&lt;br&gt;[  &nbsp;874.177]&nbsp;(II)&nbsp;AIGLX:&nbsp;Loaded&nbsp;and&nbsp;initialized&nbsp;swrast&lt;br&gt;[  &nbsp;874.177]&nbsp;(II)&nbsp;GLX:&nbsp;Initialized&nbsp;DRISWRAST&nbsp;GL&nbsp;provider&nbsp;for&nbsp;screen&nbsp;0&lt;br&gt;&lt;br&gt;The&nbsp;OpenGL&nbsp;system&nbsp;therefore&nbsp;reverted&nbsp;to&nbsp;software&nbsp;rasterization.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;I&nbsp;do&nbsp;not&nbsp;understand&nbsp;is&nbsp;why&nbsp;the&nbsp;command&nbsp;&quot;glxinfo&quot;&nbsp;kept&nbsp;showing&nbsp;NVIDIA&nbsp;Corporation&nbsp;as&nbsp;vendor&nbsp;for&nbsp;OpenGL&nbsp;in&nbsp;this&nbsp;case.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;reinstalling&nbsp;the&nbsp;nVidia&nbsp;driver,&nbsp;my&nbsp;draw&nbsp;times&nbsp;for&nbsp;the&nbsp;terrain&nbsp;tile&nbsp;are&nbsp;in&nbsp;the&nbsp;range&nbsp;of&nbsp;0.2&nbsp;ms.&nbsp;Yay.&nbsp;In&nbsp;your&nbsp;face,&nbsp;Intel.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Christian&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2015-09-17&nbsp;16:05&nbsp;GMT+02:00&nbsp;Christian&nbsp;Buchner&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:christian.buchner@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;christian.buchner@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;all,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;am&nbsp;loading&nbsp;a&nbsp;single&nbsp;osg::TerrainTile&nbsp;into&nbsp;my&nbsp;scenegraph,&nbsp;as&nbsp;a&nbsp;child&nbsp;of&nbsp;an&nbsp;osg::Terrain.&nbsp;Into&nbsp;this&nbsp;tile&nbsp;goes&nbsp;a&nbsp;height&nbsp;field&nbsp;and&nbsp;one&nbsp;image&nbsp;layer.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;got&nbsp;around&nbsp;80k&nbsp;vertices&nbsp;and&nbsp;157k&nbsp;triangles&nbsp;in&nbsp;a&nbsp;single&nbsp;drawable&nbsp;that&nbsp;is&nbsp;marked&nbsp;as&nbsp;a&nbsp;&quot;fast&quot;&nbsp;drawable&nbsp;in&nbsp;the&nbsp;OSG&nbsp;stats&nbsp;handler&nbsp;(shown&nbsp;by&nbsp;using&nbsp;the&nbsp;s&nbsp;hotkey)&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;While&nbsp;this&nbsp;application&nbsp;runs&nbsp;butter&nbsp;smooth&nbsp;on&nbsp;Intel&nbsp;integrated&nbsp;graphics&nbsp;(60&nbsp;FPS),&nbsp;I&nbsp;am&nbsp;experiencing&nbsp;somewhat&nbsp;of&nbsp;a&nbsp;mystery&nbsp;slowdown&nbsp;on&nbsp;nVidia&nbsp;GTX&nbsp;970&nbsp;and&nbsp;an&nbsp;nVidia&nbsp;GT&nbsp;750M.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;5&nbsp;FPS&nbsp;and&nbsp;draw&nbsp;times&nbsp;of&nbsp;170ms&nbsp;upwards&nbsp;on&nbsp;the&nbsp;750M&nbsp;for&nbsp;example.&lt;br&gt;This&nbsp;is&nbsp;on&nbsp;Ubuntu&nbsp;12.4&nbsp;with&nbsp;nVidia&nbsp;driver&nbsp;331.113&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;10&nbsp;FPS&nbsp;and&nbsp;draw&nbsp;times&nbsp;of&nbsp;78ms&nbsp;upwards&nbsp;on&nbsp;the&nbsp;GTX&nbsp;970M.&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;on&nbsp;Ubuntu&nbsp;12.4&nbsp;with&nbsp;nVidia&nbsp;driver&nbsp;346.46&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;geometry&nbsp;created&nbsp;by&nbsp;src/osgTerrain/GeometryTechnique&nbsp;disables&nbsp;display&nbsp;lists&nbsp;and&nbsp;uses&nbsp;vertex&nbsp;buffer&nbsp;objects.&nbsp;It&#39;s&nbsp;referencing&nbsp;a&nbsp;vertex&nbsp;buffer&nbsp;using&nbsp;a&nbsp;single&nbsp;osg::DrawElementsUInt(GL_TRIANGLES).&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;slowdown&nbsp;is&nbsp;a&nbsp;mystery.&nbsp;Any&nbsp;ideas&nbsp;what&nbsp;might&nbsp;be&nbsp;going&nbsp;on&nbsp;here?&nbsp;Why&nbsp;would&nbsp;the&nbsp;nVidia&nbsp;driver&nbsp;be&nbsp;hitting&nbsp;such&nbsp;a&nbsp;slow&nbsp;code&nbsp;path?&nbsp;In&nbsp;terms&nbsp;of&nbsp;geometry&nbsp;complexity,&nbsp;80k&nbsp;vertices&nbsp;and&nbsp;157k&nbsp;triangles&nbsp;is&nbsp;a&nbsp;joke&nbsp;even&nbsp;for&nbsp;today&#39;s&nbsp;entry&nbsp;level&nbsp;GPUs.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let&nbsp;me&nbsp;know&nbsp;if&nbsp;you&nbsp;need&nbsp;some&nbsp;code&nbsp;for&nbsp;repro&#39;ing.&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Christian&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
