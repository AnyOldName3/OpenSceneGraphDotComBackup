<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Alessandro,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;have&nbsp;run&nbsp;osgviewer&nbsp;with&nbsp;all&nbsp;three&nbsp;models:&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;  &nbsp;osgviewer&nbsp;bm_209.osg &nbsp;bnm_147.osg &nbsp;occluder_163.osg&lt;br&gt;&lt;br&gt;&lt;/div&gt;When&nbsp;I&nbsp;rotate&nbsp;the&nbsp;view&nbsp;so&nbsp;the&nbsp;occluder&nbsp;plane&nbsp;comes&nbsp;down&nbsp;in&nbsp;front&nbsp;of&nbsp;the&nbsp;boxes&nbsp;the&nbsp;pink&nbsp;box&nbsp;disappears&nbsp;and&nbsp;the&nbsp;yellow&nbsp;boxes&nbsp;stays&nbsp;on&nbsp;screen.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Looking&nbsp;at&nbsp;the&nbsp;three&nbsp;models&nbsp;this&nbsp;is&nbsp;exactly&nbsp;what&nbsp;I&#39;d&nbsp;expect. &nbsp;The&nbsp;yellow&nbsp;box&nbsp;doesn&#39;t&nbsp;get&nbsp;occluded&nbsp;before&nbsp;it&#39;s&nbsp;getting&nbsp;drawn&nbsp;first,&nbsp;then&nbsp;the&nbsp;occluder,&nbsp;then&nbsp;the&nbsp;pink&nbsp;box. &nbsp;The&nbsp;occluder&nbsp;doesn&#39;t&nbsp;get&nbsp;seen&nbsp;because&nbsp;the&nbsp;ColorMask&nbsp;is&nbsp;disable&nbsp;colour&nbsp;writes.&lt;br&gt;&lt;br&gt;&lt;/div&gt;If&nbsp;you&nbsp;want&nbsp;both&nbsp;boxes&nbsp;to&nbsp;be&nbsp;occluded&nbsp;then&nbsp;you&nbsp;need&nbsp;to&nbsp;set&nbsp;the&nbsp;RenderBin&nbsp;details&nbsp;for&nbsp;this&nbsp;subgraph&nbsp;so&nbsp;the&nbsp;RenderBin&nbsp;number&nbsp;is&nbsp;something&nbsp;like&nbsp;-1&nbsp;so&nbsp;it&#39;s&nbsp;drawn&nbsp;before&nbsp;the&nbsp;default&nbsp;opaque&nbsp;bin&nbsp;(RenderBin&nbsp;number&nbsp;0). &nbsp;Without&nbsp;this&nbsp;explicit&nbsp;setting&nbsp;the&nbsp;rendering&nbsp;order&nbsp;can&nbsp;become&nbsp;arbitrary,&nbsp;sometimes&nbsp;it&nbsp;might&nbsp;be&nbsp;the&nbsp;occluder&nbsp;would&nbsp;be&nbsp;drawn&nbsp;first&nbsp;other&nbsp;times&nbsp;not.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Robert.&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;14&nbsp;August&nbsp;2015&nbsp;at&nbsp;14:48,&nbsp;Alessandro&nbsp;Terenzi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:a.terenzi@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;a.terenzi@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Have&nbsp;you&nbsp;tried&nbsp;to&nbsp;rotate&nbsp;the&nbsp;view?&nbsp;There&#39;s&nbsp;a&nbsp;plane&nbsp;hanging&nbsp;over&nbsp;the&nbsp;red&nbsp;and&nbsp;yellow&nbsp;boxes&nbsp;and&nbsp;unless&nbsp;you&nbsp;move&nbsp;the&nbsp;camera&nbsp;you&nbsp;won&#39;t&nbsp;realize&nbsp;about&nbsp;it&#39;s&nbsp;presence&nbsp;in&nbsp;the&nbsp;scene&nbsp;(regardless&nbsp;of&nbsp;the&nbsp;ColorMask).&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;attaching&nbsp;a&nbsp;couple&nbsp;of&nbsp;screenshots&nbsp;related&nbsp;to&nbsp;what&nbsp;I&nbsp;get&nbsp;with&nbsp;and&nbsp;without&nbsp;the&nbsp;color&nbsp;mask&nbsp;applied&nbsp;to&nbsp;the&nbsp;plane&nbsp;after&nbsp;having&nbsp;rotated&nbsp;the&nbsp;camera&nbsp;a&nbsp;little&nbsp;bit.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;Alessandro&lt;br&gt;<br>
&lt;br&gt;<br>
------------------&lt;br&gt;<br>
Read&nbsp;this&nbsp;topic&nbsp;online&nbsp;here:&lt;br&gt;<br>
&lt;/span&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?p=64771#64771&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?p=64771#64771&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Attachments:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_43_16_67_211.png&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_43_16_67_211.png&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_42_16_14_317.png&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_42_16_14_317.png&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
