<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;font&nbsp;face=&quot;Comic&nbsp;Sans&nbsp;MS,sans-serif&quot;&nbsp;color=&quot;#000000&quot;&gt;Dear&nbsp;All,&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Comic&nbsp;Sans&nbsp;MS,sans-serif&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Comic&nbsp;Sans&nbsp;MS,&nbsp;sans-serif&quot;&gt;I&nbsp;implement&nbsp;the&nbsp;mouse&nbsp;oriented&nbsp;zooming&nbsp;with&nbsp;following&nbsp;code,&nbsp;where&nbsp;customManipulator&nbsp;derives&nbsp;drectly&nbsp;from&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Comic&nbsp;Sans&nbsp;MS,&nbsp;sans-serif&quot;&gt;OrbitManipulator&nbsp;and&nbsp;I&nbsp;override&nbsp;simply&nbsp;the&nbsp;handleMouseWheel&nbsp;eventhandler.&nbsp;This&nbsp;works&nbsp;to&nbsp;some&nbsp;extend&nbsp;,&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Comic&nbsp;Sans&nbsp;MS,&nbsp;sans-serif&quot;&gt;zooms&nbsp;to&nbsp;mouse&nbsp;position&nbsp;but&nbsp;&lt;/font&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;the&nbsp;more&nbsp;you&nbsp;scroll&nbsp;it&nbsp;seems&nbsp;that&nbsp;eye&nbsp;position&nbsp;reaches&nbsp;the&nbsp;center&nbsp;positon&nbsp;(target)&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;and&nbsp;zooming&nbsp;halts.&nbsp;My&nbsp;guess&nbsp;is&nbsp;I'm&nbsp;stucking&nbsp;to&nbsp;the&nbsp;minimumDistance&nbsp;variable&nbsp;check&nbsp;in&nbsp;OrbitManipulator&nbsp;which&nbsp;doesn't&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;allow&nbsp;to&nbsp;further&nbsp;zooming&nbsp;and&nbsp;sets&nbsp;the&nbsp;_distance&nbsp;to&nbsp;minDistance.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;To&nbsp;remedy&nbsp;it&nbsp;I've&nbsp;tried&nbsp;to&nbsp;change&nbsp;center&nbsp;position&nbsp;with&nbsp;LookAt&nbsp;position&nbsp;matrix&nbsp;seting&nbsp;but&nbsp;this&nbsp;doesn't&nbsp;seems&nbsp;to&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;take&nbsp;any&nbsp;effect,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'Comic&nbsp;Sans&nbsp;MS',&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;Your&nbsp;helps&nbsp;will&nbsp;be&nbsp;appreicated,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;&lt;div&gt;bool&nbsp;customManipulator::handleMouseWheel(&nbsp;const&nbsp;osgGA::GUIEventAdapter&amp;&nbsp;ea,&nbsp;osgGA::GUIActionAdapter&amp;&nbsp;us&nbsp;)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;osgViewer::View*&nbsp;view&nbsp;=&nbsp;dynamic_cast&lt;osgViewer::View*&gt;(&amp;us);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;osgGA::GUIEventAdapter::ScrollingMotion&nbsp;sm&nbsp;=&nbsp;ea.getScrollingMotion();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;switch(&nbsp;sm&nbsp;)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;mouse&nbsp;scroll&nbsp;up&nbsp;event&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;osgGA::GUIEventAdapter::SCROLL_UP:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;perform&nbsp;zoom&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//zoomModel(&nbsp;_wheelZoomFactor,&nbsp;true&nbsp;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//us.requestRedraw();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//us.requestContinuousUpdate(&nbsp;isAnimating()&nbsp;||&nbsp;_thrown&nbsp;);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Vec3d&nbsp;new_vec;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;new_dist;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_dist&nbsp;=&nbsp;_distance;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;CORRECT&nbsp;WORKING&nbsp;CODE&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrix&nbsp;MVPW(view-&gt;getCamera()-&gt;getViewMatrix()*view-&gt;getCamera()-&gt;getProjectionMatrix()&nbsp;*&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;getCamera()-&gt;getViewport()-&gt;computeWindowMatrix()&nbsp;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;wid&nbsp;=&nbsp;ea.getX();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;hei&nbsp;=&nbsp;ea.getY();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Vec3d&nbsp;mouse_move_pos&nbsp;=&nbsp;osg::Vec3(ea.getX(),ea.getY(),0.0f)*osg::Matrix::inverse(MVPW);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;PART&nbsp;RESPONSIBLE&nbsp;FOR&nbsp;MOUSE&nbsp;POINT&nbsp;ORIENTED&nbsp;ZOOMING&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Vec3d&nbsp;curr_eye,&nbsp;curr_cnt,&nbsp;curr_up;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Matrixd&nbsp;mat1;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat1&nbsp;=&nbsp;view-&gt;getCameraManipulator()-&gt;getInverseMatrix();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Vec3d&nbsp;trans&nbsp;=&nbsp;mat1.getTrans();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat1.getLookAt(curr_eye,curr_cnt,curr_up&nbsp;);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osg::Vec3d&nbsp;delta_vec,&nbsp;dir_vec;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;CALCULATE&nbsp;THE&nbsp;DIRECTION&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dir_vec&nbsp;=&nbsp;-curr_eye+curr_cnt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dir_vec&nbsp;*=&nbsp;10;&nbsp;curr_cnt&nbsp;=&nbsp;dir_vec+&nbsp;curr_cnt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta_vec&nbsp;=&nbsp;-mouse_move_pos+curr_eye;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_eye&nbsp;=&nbsp;curr_eye+delta_vec*(0.25);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_cnt&nbsp;=&nbsp;curr_cnt+delta_vec*(0.25);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat1.makeLookAt(curr_eye,&nbsp;curr_cnt,&nbsp;curr_up);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view-&gt;getCameraManipulator()-&gt;setByInverseMatrix(mat1);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;mouse&nbsp;scroll&nbsp;down&nbsp;event&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;osgGA::GUIEventAdapter::SCROLL_DOWN:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
