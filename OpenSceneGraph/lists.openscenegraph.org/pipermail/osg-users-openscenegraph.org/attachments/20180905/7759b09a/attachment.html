<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Robert,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Your&nbsp;answer&nbsp;almost&nbsp;fixed&nbsp;my&nbsp;issue.&nbsp;There&nbsp;is&nbsp;just&nbsp;one&nbsp;problem  wsi-&gt;getScreenSettings(),&nbsp;still&nbsp;queries&nbsp;the&nbsp;wrong&nbsp;session:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;1&nbsp;screen(s)&nbsp;detected&lt;/div&gt;&lt;div&gt;Invalid&nbsp;MIT-MAGIC-COOKIE-1&nbsp;keyUnable&nbsp;to&nbsp;open&nbsp;display&nbsp;&quot;:0.1&quot;.&lt;/div&gt;&lt;div&gt; &nbsp;Screen&nbsp;#0&nbsp;:&nbsp;0x0&nbsp;0Hz&nbsp;0&nbsp;bit&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;is screen_id(screen),&nbsp;since&nbsp;it&nbsp;is&nbsp;not&nbsp;0.&nbsp;The&nbsp;proper&nbsp;call&nbsp;would&nbsp;be:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;osg::GraphicsContext::ScreenIdentifier&nbsp;screen_id(main_screen_id.hostName,&nbsp;main_screen_id.displayNum,&nbsp;screen);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;will&nbsp;update&nbsp;the&nbsp;test&nbsp;repo&nbsp;with&nbsp;the&nbsp;proper&nbsp;code. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;time.&nbsp;If&nbsp;nobody&nbsp;else&nbsp;feels&nbsp;like&nbsp;doing&nbsp;it,&nbsp;I&nbsp;can&nbsp;help&nbsp;with&nbsp;updating &lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;osg::GraphicsContext::&lt;/span&gt;&lt;wbr&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;WindowingSystemInterface.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;Cheers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline&quot;&gt;Omar.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2018-09-05&nbsp;16:50&nbsp;GMT+02:00&nbsp;Robert&nbsp;Osfield&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:robert.osfield@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;robert.osfield@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;Wed,&nbsp;5&nbsp;Sep&nbsp;2018&nbsp;at&nbsp;15:22,&nbsp;Julien&nbsp;Valentin&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:julienvalentin51@gmail.com&quot;&gt;julienvalentin51@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;for&nbsp;your&nbsp;code&nbsp;you&nbsp;should&nbsp;replace&lt;br&gt;<br>
&gt;&nbsp;wsi-&gt;getNumScreens()&lt;br&gt;<br>
&gt;&nbsp;with&lt;br&gt;<br>
&gt;&nbsp;wsi-&gt;getNumScreens(osg::&lt;wbr&gt;GraphicsContext::&lt;wbr&gt;ScreenIdentifier(1))&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;work&nbsp;on&nbsp;DISPLAY=:1.0&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Sounds&nbsp;like&nbsp;we&nbsp;are&nbsp;getting&nbsp;to&nbsp;the&nbsp;bottom&nbsp;of&nbsp;things&nbsp;now&nbsp;:-)&lt;br&gt;<br>
&lt;br&gt;<br>
FYI,&nbsp;WindowingSystemInterface::&lt;wbr&gt;getNumScreens()&nbsp;is&nbsp;implemented&nbsp;in&lt;br&gt;<br>
include/osg/GraphicsContext&nbsp;as:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;virtual&nbsp;unsigned&nbsp;int&nbsp;getNumScreens(const&nbsp;ScreenIdentifier&amp;&lt;br&gt;<br>
screenIdentifier&nbsp;=&nbsp;ScreenIdentifier())&nbsp;=&nbsp;0;&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;default&nbsp;constructed&nbsp;ScreenIdentifier&nbsp;is:&lt;br&gt;<br>
&lt;br&gt;<br>
GraphicsContext::&lt;wbr&gt;ScreenIdentifier::&lt;wbr&gt;ScreenIdentifier():&lt;br&gt;<br>
 &nbsp; &nbsp;displayNum(0),&lt;br&gt;<br>
 &nbsp; &nbsp;screenNum(0)&nbsp;{}&lt;br&gt;<br>
&lt;br&gt;<br>
Which&nbsp;is&nbsp;fine&nbsp;if&nbsp;the&nbsp;system&nbsp;doesn&#39;t&nbsp;change&nbsp;the&nbsp;default&nbsp;DISPLAY&nbsp;from&nbsp;0.0.&lt;br&gt;<br>
&lt;br&gt;<br>
Support&nbsp;for&nbsp;DISPLAY&nbsp;is&nbsp;actually&nbsp;built&nbsp;into&nbsp;ScreenIdentifier&nbsp;via&nbsp;the&lt;br&gt;<br>
readDISPLAY()&nbsp;method:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/**&nbsp;Read&nbsp;the&nbsp;DISPLAY&nbsp;environmental&nbsp;variable,&nbsp;and&nbsp;set&nbsp;the&lt;br&gt;<br>
ScreenIdentifier&nbsp;accordingly.&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*&nbsp;Note,&nbsp;if&nbsp;either&nbsp;of&nbsp;displayNum&nbsp;or&nbsp;screenNum&nbsp;are&nbsp;not&lt;br&gt;<br>
defined&nbsp;then&nbsp;-1&nbsp;is&nbsp;set&nbsp;respectively&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*&nbsp;signify&nbsp;that&nbsp;this&nbsp;parameter&nbsp;has&nbsp;not&nbsp;been&nbsp;set.&nbsp;When&lt;br&gt;<br>
parameters&nbsp;are&nbsp;undefined&nbsp;one&nbsp;can&nbsp;call&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*&nbsp;call&nbsp;setUndefinedScreenDetailsToDef&lt;wbr&gt;aultScreen()&nbsp;after&lt;br&gt;<br>
readDISPLAY()&nbsp;to&nbsp;ensure&nbsp;valid&nbsp;values.&nbsp;*/&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;void&nbsp;readDISPLAY();&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;is&nbsp;not&nbsp;called&nbsp;by&nbsp;the&nbsp;constructor&nbsp;though,&nbsp;so&nbsp;you&nbsp;need&nbsp;to&nbsp;call&nbsp;it&lt;br&gt;<br>
explicitly. &nbsp;The&nbsp;various&nbsp;Viewer&nbsp;config&nbsp;implementations&nbsp;do&nbsp;actually&lt;br&gt;<br>
call&nbsp;readDISPLAY:&lt;br&gt;<br>
&lt;br&gt;<br>
~/OpenSceneGraph/src/&lt;wbr&gt;osgViewer$&nbsp;grep&nbsp;readDISPLAY&nbsp;*/*.cpp&lt;br&gt;<br>
config/AcrossAllScreens.cpp: &nbsp; &nbsp;si.readDISPLAY();&lt;br&gt;<br>
config/&lt;wbr&gt;PanoramicSphericalDisplay.cpp: &nbsp; &nbsp;si.readDISPLAY();&lt;br&gt;<br>
config/SingleWindow.cpp: &nbsp; &nbsp;traits-&gt;readDISPLAY();&lt;br&gt;<br>
config/SingleWindow.cpp: &nbsp; &nbsp; &nbsp; &nbsp;si.readDISPLAY();&lt;br&gt;<br>
config/SphericalDisplay.cpp: &nbsp; &nbsp;si.readDISPLAY();&lt;br&gt;<br>
config/WoWVxDisplay.cpp: &nbsp; &nbsp;si.readDISPLAY();&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;I&#39;d&nbsp;suggest&nbsp;using&nbsp;this,&nbsp;such&nbsp;as&nbsp;(modified&nbsp;main.cpp&nbsp;for&nbsp;osgtest:&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;std::cout&nbsp;&lt;&lt;&nbsp;wsi-&gt;getNumScreens()&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;screen(s)&nbsp;detected&quot;&nbsp;&lt;&lt;&nbsp;std::endl;&lt;br&gt;<br>
 &nbsp; &nbsp;for&nbsp;(&nbsp;unsigned&nbsp;int&nbsp;screen=0&nbsp;;&nbsp;screen&nbsp;&lt;&lt;br&gt;<br>
&lt;/span&gt;wsi-&gt;getNumScreens(main_&lt;wbr&gt;screen_id);&nbsp;screen++&nbsp;)&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt; &nbsp; &nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;osg::GraphicsContext::&lt;wbr&gt;ScreenIdentifier&nbsp;screen_id(screen);&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;osg::GraphicsContext::&lt;wbr&gt;ScreenSettings&nbsp;screen_settings;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;wsi-&gt;getScreenSettings(&nbsp;screen_id,&nbsp;screen_settings&nbsp;);&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;std::cout&nbsp;&lt;&lt;&nbsp;&quot; &nbsp;Screen&nbsp;#&quot;&nbsp;&lt;&lt;&nbsp;screen&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;:&nbsp;&quot;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt;&nbsp;screen_settings.width&nbsp;&lt;&lt;&nbsp;&quot;x&quot;&nbsp;&lt;&lt;&lt;br&gt;<br>
screen_settings.height&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;&quot;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt;&nbsp;screen_settings.refreshRate&nbsp;&lt;&lt;&nbsp;&quot;Hz&nbsp;&quot;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt;&nbsp;screen_settings.colorDepth&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;bit&quot;&nbsp;&lt;&lt;&nbsp;std::endl;&lt;br&gt;<br>
 &nbsp; &nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;I&nbsp;have&nbsp;also&nbsp;attached&nbsp;the&nbsp;full&nbsp;modified&nbsp;file.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Robert.&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;br&gt;______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&gt;osg-users@lists.&lt;wbr&gt;openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.&lt;wbr&gt;org/listinfo.cgi/osg-users-&lt;wbr&gt;openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
