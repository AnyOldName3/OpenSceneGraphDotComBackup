<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Dear&nbsp;Robert,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;OSG&nbsp;3.6.4-rc3.&lt;br&gt;&lt;br&gt;The&nbsp;only&nbsp;built-in&nbsp;shaders&nbsp;I&nbsp;am&nbsp;using&nbsp;right&nbsp;now&nbsp;are&nbsp;the&nbsp;osgText&nbsp;shaders:&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osgText/shaders&quot;&gt;https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osgText/shaders&lt;/a&gt;&lt;br&gt;&lt;br&gt;These&nbsp;are&nbsp;automatically&nbsp;bound,&nbsp;when&nbsp;no&nbsp;other&nbsp;shaders&nbsp;are&nbsp;added&nbsp;to&nbsp;a&nbsp;text&nbsp;node.&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;don&#39;t&nbsp;add&nbsp;shaders&nbsp;to&nbsp;a&nbsp;geometry&nbsp;node,&nbsp;other&nbsp;built-in&nbsp;shaders&nbsp;seem&nbsp;to&nbsp;get&nbsp;active&nbsp;as&nbsp;well.&nbsp;I&nbsp;guess&nbsp;these&nbsp;are&nbsp;the&nbsp;ones&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osg/shaders&quot;&gt;https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osg/shaders&lt;/a&gt;.&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;e.g.&nbsp;use&nbsp;osgText,&nbsp;the&nbsp;text&nbsp;will&nbsp;appear&nbsp;after&nbsp;starting&nbsp;the&nbsp;application.&nbsp;When&nbsp;I&nbsp;go&nbsp;to&nbsp;the&nbsp;android&nbsp;main&nbsp;screen&nbsp;and&nbsp;then&nbsp;go&nbsp;back&nbsp;to&nbsp;the&nbsp;app,&nbsp;the&nbsp;text&nbsp;nodes&nbsp;will&nbsp;become&nbsp;black&nbsp;rectangles.&nbsp;Somehow,&nbsp;osg&nbsp;seems&nbsp;to&nbsp;reference&nbsp;still&nbsp;the&nbsp;&quot;old&quot;&nbsp;objects&nbsp;from&nbsp;the&nbsp;context&nbsp;before.&lt;br&gt;&lt;br&gt;Still,&nbsp;from&nbsp;the&nbsp;log&nbsp;I&nbsp;can&nbsp;verify,&nbsp;that&nbsp;shaders&nbsp;are&nbsp;compiled&nbsp;again&nbsp;after&nbsp;resuming&nbsp;to&nbsp;the&nbsp;app.&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;could&nbsp;provide&nbsp;a&nbsp;&quot;minimal&quot;&nbsp;example&nbsp;if&nbsp;anyone&nbsp;is&nbsp;interested.&lt;br&gt;&lt;br&gt;Martin.&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;Am&nbsp;Mo.,&nbsp;22.&nbsp;Juli&nbsp;2019&nbsp;um&nbsp;17:24 Uhr&nbsp;schrieb&nbsp;Robert&nbsp;Osfield&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:robert.osfield@gmail.com&quot;&gt;robert.osfield@gmail.com&lt;/a&gt;&gt;:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;HI&nbsp;Martin,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;have&nbsp;any&nbsp;Android&nbsp;experience&nbsp;so&nbsp;will&nbsp;defer&nbsp;to&nbsp;others&nbsp;on&nbsp;the&nbsp;specifics,&nbsp;but&nbsp;one&nbsp;question&nbsp;everyone&nbsp;will&nbsp;probably&nbsp;have&nbsp;is&nbsp;what&nbsp;version&nbsp;of&nbsp;the&nbsp;OSG&nbsp;are&nbsp;you&nbsp;using? &nbsp;When&nbsp;you&nbsp;say&nbsp;the&nbsp;OSG&#39;s&nbsp;&quot;built&nbsp;in&quot;&nbsp;shaders,&nbsp;which&nbsp;ones&nbsp;do&nbsp;you&nbsp;actually&nbsp;mean&nbsp;as&nbsp;there&nbsp;isn&#39;t&nbsp;any&nbsp;single&nbsp;set&nbsp;of&nbsp;&quot;built&nbsp;in&quot;&nbsp;shaders&nbsp;-&nbsp;various&nbsp;NodeKits&nbsp;provide&nbsp;their&nbsp;own&nbsp;shaders,&nbsp;and&nbsp;there&nbsp;is&nbsp;a&nbsp;osgUtil::ShaderGenVisitor&nbsp;that&nbsp;can&nbsp;create&nbsp;shaders&nbsp;for&nbsp;basic&nbsp;fixed&nbsp;function&nbsp;scene&nbsp;graph,&nbsp;but&nbsp;it&#39;s&nbsp;written&nbsp;for&nbsp;desktop&nbsp;rather&nbsp;that&nbsp;GLES2. &nbsp;For&nbsp;GLES2&nbsp;applications&nbsp;one&nbsp;normally&nbsp;has&nbsp;to&nbsp;write&nbsp;your&nbsp;own&nbsp;shaders.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Mon,&nbsp;22&nbsp;Jul&nbsp;2019&nbsp;at&nbsp;13:17,&nbsp;Martin&nbsp;Siggel&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:martinsiggel%2Bosg@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;martinsiggel+osg@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;@all,&lt;br&gt;&lt;br&gt;I&nbsp;built&nbsp;a&nbsp;prototypical&nbsp;Android&nbsp;application&nbsp;based&nbsp;on&nbsp;your&nbsp;OSG&nbsp;GLES&nbsp;2.0&lt;br&gt;example.&nbsp;As&nbsp;also&nbsp;users&nbsp;in&nbsp;the&nbsp;OSG&nbsp;forum&nbsp;pointed&nbsp;out,&nbsp;the&nbsp;problem&nbsp;with&lt;br&gt;this&nbsp;example&nbsp;application&nbsp;is,&nbsp;that&nbsp;is&nbsp;reinitialized&nbsp;everything,&nbsp;when&lt;br&gt;e.g.&nbsp;leaving&nbsp;the&nbsp;app,&nbsp;changing&nbsp;the&nbsp;screen&nbsp;orientation&nbsp;and&nbsp;so&nbsp;on.&lt;br&gt;&lt;br&gt;I&nbsp;worked&nbsp;around&nbsp;this&nbsp;by&nbsp;just&nbsp;calling&nbsp;again&lt;br&gt;&#39;setUpViewerAsEmbeddedInWindow&#39;&nbsp;instead&nbsp;of&nbsp;creating&nbsp;everything&nbsp;from&lt;br&gt;scratch.&lt;br&gt;&lt;br&gt;This&nbsp;seems&nbsp;to&nbsp;work&nbsp;pretty&nbsp;well,&nbsp;but&nbsp;sometimes&nbsp;-&nbsp;after&nbsp;a&nbsp;EGL&nbsp;context&lt;br&gt;loss&nbsp;-&nbsp;the&nbsp;shader&nbsp;programs&nbsp;are&nbsp;somehow&nbsp;lost&nbsp;or&nbsp;invalid,&nbsp;resulting&nbsp;in&nbsp;a&lt;br&gt;wrong&nbsp;rendering.&nbsp;This&nbsp;even&nbsp;happens,&nbsp;when&nbsp;using&nbsp;OSG&#39;s&nbsp;default&nbsp;shaders.&lt;br&gt;&lt;br&gt;When&nbsp;debugging&nbsp;OSG,&nbsp;it&nbsp;seems&nbsp;to&nbsp;me,&nbsp;that&nbsp;OSG&nbsp;tries&nbsp;to&nbsp;clean&nbsp;up&nbsp;all&nbsp;GL&lt;br&gt;objects&nbsp;-&nbsp;including&nbsp;the&nbsp;shaders&nbsp;and&nbsp;reinitialize&nbsp;everything&nbsp;(also&lt;br&gt;compiling&nbsp;the&nbsp;shader&nbsp;objects).&lt;br&gt;&lt;br&gt;Still,&nbsp;it&nbsp;happens,&nbsp;that&nbsp;the&nbsp;shaders&nbsp;get&nbsp;invalid&nbsp;sometimes&nbsp;and&nbsp;I&#39;ll&nbsp;get&lt;br&gt;the&nbsp;error:&lt;br&gt;&lt;br&gt; &nbsp; s_glUseProgram:2041&nbsp;GL&nbsp;error&nbsp;0x501&lt;br&gt;&lt;br&gt;Which&nbsp;basically&nbsp;means&nbsp;invalid&nbsp;program.&nbsp;Are&nbsp;the&nbsp;shader&nbsp;handled&nbsp;somehow&lt;br&gt;differently?&nbsp;What&nbsp;do&nbsp;I&nbsp;have&nbsp;to&nbsp;do,&nbsp;in&nbsp;order&nbsp;to&nbsp;properly&nbsp;cleanup&lt;br&gt;everything?&lt;br&gt;&lt;br&gt;Does&nbsp;anyone&nbsp;of&nbsp;you&nbsp;have&nbsp;any&nbsp;example&nbsp;surviving&nbsp;correctly&nbsp;a&nbsp;context&nbsp;loss&lt;br&gt;e.g.&nbsp;due&nbsp;to&nbsp;application&nbsp;switch?&lt;br&gt;&lt;br&gt;Here&nbsp;are&nbsp;forum&nbsp;entries&nbsp;that&nbsp;describe&nbsp;a&nbsp;similar&nbsp;problem:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?t=11270&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?t=11270&lt;/a&gt;&lt;div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://forum.openscenegraph.org/viewtopic.php?t=14549&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forum.openscenegraph.org/viewtopic.php?t=14549&lt;/a&gt;&nbsp;(see&nbsp;point&nbsp;number&nbsp;4.)&lt;br&gt;&lt;br&gt;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;Martin&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&nbsp;target=&quot;_blank&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;<br>
osg-users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:osg-users@lists.openscenegraph.org&quot;&nbsp;target=&quot;_blank&quot;&gt;osg-users@lists.openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;Dr.&nbsp;Martin&nbsp;Siggel&lt;div&gt;Neusser&nbsp;Straße&nbsp;257&lt;/div&gt;&lt;div&gt;50733&nbsp;Köln &lt;/div&gt;&lt;div&gt;Phone:&nbsp;0178&nbsp;6729772&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:martinsiggel@googlemail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;martinsiggel@googlemail.com&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
