<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;have&nbsp;spent&nbsp;a&nbsp;great&nbsp;deal&nbsp;of&nbsp;time&nbsp;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;OSG&#39;s&nbsp;memory&nbsp;management.&lt;br&gt;&lt;/div&gt;I&nbsp;have&nbsp;a&nbsp;scene&nbsp;graph&nbsp;with&nbsp;several&nbsp;children&nbsp;(actually&nbsp;a&nbsp;LOD&nbsp;based&nbsp;on&nbsp;an&nbsp;octree).&lt;br&gt;&lt;br&gt;&lt;/div&gt;However,&nbsp;when&nbsp;I&nbsp;need&nbsp;to&nbsp;reset&nbsp;my&nbsp;scene&nbsp;(I&nbsp;just&nbsp;want&nbsp;to&nbsp;wipe&nbsp;ALL&nbsp;nodes&nbsp;from&nbsp;de&nbsp;scene&nbsp;and&nbsp;also&nbsp;wipe&nbsp;the&nbsp;memory),&nbsp;I&nbsp;use&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &nbsp;&lt;span&nbsp;style=&quot;color:rgb(106,168,79)&quot;&gt;//&nbsp;Clear&nbsp;main&nbsp;osg::Group&nbsp;root&nbsp;node&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &nbsp;m_rootNode-&gt;removeChildren(0,&nbsp;m_rootNode-&gt;getNumChildren());&lt;br&gt;   &nbsp;m_rootNode-&gt;dirtyBound();&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &lt;span&nbsp;style=&quot;color:rgb(106,168,79)&quot;&gt;&nbsp;//&nbsp;Clear&nbsp;Main&nbsp;view&nbsp;scene&nbsp;data&nbsp;from&nbsp;osg::Viewer&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;   &nbsp;m_viewer-&gt;setSceneData(nullptr);&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;BEFORE&nbsp;I&nbsp;do&nbsp;this,&nbsp;I&nbsp;check&nbsp;all&nbsp;my&nbsp;nodes&nbsp;with&nbsp;a&nbsp;NodeVisitor&nbsp;pattern,&nbsp;and&nbsp;found&nbsp;out&nbsp;that&nbsp;ALL&nbsp;my&nbsp;nodes&nbsp;have&nbsp;reference&nbsp;count&nbsp;of&nbsp;1,&nbsp;i.e,&nbsp;after&nbsp;clearing&nbsp;them&nbsp;from&nbsp;the&nbsp;scene,&nbsp;I&nbsp;expect&nbsp;my&nbsp;memory&nbsp;to&nbsp;be&nbsp;freed.&nbsp;However,&nbsp;this&nbsp;does&nbsp;not&nbsp;happen:&nbsp;my&nbsp;scene&nbsp;is&nbsp;actually&nbsp;reset,&nbsp;all&nbsp;the&nbsp;nodes&nbsp;disappear&nbsp;from&nbsp;the&nbsp;viewer,&nbsp;but&nbsp;the&nbsp;memory&nbsp;remains&nbsp;occupied.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Nonetheless,&nbsp;when&nbsp;I&nbsp;load&nbsp;another&nbsp;scene&nbsp;to&nbsp;my&nbsp;viewer,&nbsp;the&nbsp;memory&nbsp;is&nbsp;rewritten&nbsp;somehow&nbsp;(i.e.,&nbsp;the&nbsp;memory&nbsp;usage&nbsp;does&nbsp;not&nbsp;increase,&nbsp;hence&nbsp;there&nbsp;is&nbsp;no&nbsp;memory&nbsp;leak,&nbsp;but&nbsp;used&nbsp;memory&nbsp;is&nbsp;always&nbsp;the&nbsp;same)&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;can&#39;t&nbsp;have&nbsp;this&nbsp;behaviour,&nbsp;as&nbsp;I&nbsp;need&nbsp;to&nbsp;closely&nbsp;control&nbsp;memory&nbsp;usage.&nbsp;How&nbsp;can&nbsp;I&nbsp;do&nbsp;this?&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
