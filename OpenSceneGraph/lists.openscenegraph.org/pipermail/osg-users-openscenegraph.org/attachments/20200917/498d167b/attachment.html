<tt>
&lt;html&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;text-align:left;&nbsp;direction:ltr;&quot;&gt;<br>
&lt;div&gt;Hi,&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;recently&nbsp;fixed&nbsp;a&nbsp;problem&nbsp;I&nbsp;was&nbsp;having&nbsp;with&nbsp;a&nbsp;missing&nbsp;depth&nbsp;buffer&nbsp;which&nbsp;was&nbsp;causing&nbsp;strange&nbsp;occlusion&nbsp;effects&nbsp;but&nbsp;it&nbsp;seems&nbsp;it&nbsp;only&nbsp;works&nbsp;for&nbsp;my&nbsp;local&nbsp;display&nbsp;using&nbsp;an&nbsp;Nvidia&nbsp;driver,&nbsp;when&nbsp;I&nbsp;run&nbsp;the&nbsp;application&nbsp;with&nbsp;Mesa&nbsp;it&nbsp;goes&nbsp;back&nbsp;to&nbsp;looking&nbsp;like&nbsp;there's<br>
&nbsp;no&nbsp;depth&nbsp;testing.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I've&nbsp;run&nbsp;the&nbsp;application&nbsp;with&nbsp;MESA_DEBUG&nbsp;and&nbsp;the&nbsp;only&nbsp;error&nbsp;I&nbsp;see&nbsp;is&nbsp;GL_INVALID_ENUM&nbsp;in&nbsp;glDrawElements(mode=7),&nbsp;which&nbsp;I&nbsp;suspect&nbsp;is&nbsp;unrelated.&nbsp;It&nbsp;also&nbsp;complained&nbsp;about&nbsp;the&nbsp;3&nbsp;argument&nbsp;setAttributeAndModes&nbsp;which&nbsp;I&nbsp;added&nbsp;when&nbsp;trying&nbsp;to&nbsp;fix&nbsp;the&nbsp;initial&nbsp;depth<br>
&nbsp;test&nbsp;issue&nbsp;but&nbsp;I&nbsp;think&nbsp;is&nbsp;redundant&nbsp;so&nbsp;I&nbsp;just&nbsp;removed&nbsp;it.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;state-&gt;setTextureMode(texnum,&nbsp;GL_DEPTH_TEST,&nbsp;osg::StateAttribute::OVERRIDE&nbsp;|&nbsp;osg::StateAttribute::ON);&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;When&nbsp;I&nbsp;built&nbsp;OSG&nbsp;for&nbsp;my&nbsp;local&nbsp;display&nbsp;I&nbsp;set&nbsp;OPENGL_PROFILE&nbsp;to&nbsp;&quot;GL3&quot;&nbsp;and&nbsp;I&nbsp;built&nbsp;OSG&nbsp;for&nbsp;Mesa&nbsp;the&nbsp;same&nbsp;way,&nbsp;should&nbsp;I&nbsp;be&nbsp;using&nbsp;something&nbsp;different&nbsp;for&nbsp;Mesa?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;$&nbsp;glxinfo&nbsp;|&nbsp;grep&nbsp;Mesa&lt;/div&gt;<br>
&lt;div&gt;client&nbsp;glx&nbsp;vendor&nbsp;string:&nbsp;Mesa&nbsp;Project&nbsp;and&nbsp;SGI&lt;/div&gt;<br>
&lt;div&gt;OpenGL&nbsp;core&nbsp;profile&nbsp;version&nbsp;string:&nbsp;3.3&nbsp;(Core&nbsp;Profile)&nbsp;Mesa&nbsp;19.1.4&lt;/div&gt;<br>
&lt;div&gt;OpenGL&nbsp;version&nbsp;string:&nbsp;3.1&nbsp;Mesa&nbsp;19.1.4&lt;/div&gt;<br>
&lt;div&gt;OpenGL&nbsp;ES&nbsp;profile&nbsp;version&nbsp;string:&nbsp;OpenGL&nbsp;ES&nbsp;3.0&nbsp;Mesa&nbsp;19.1.4&lt;/div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Cheers,&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
