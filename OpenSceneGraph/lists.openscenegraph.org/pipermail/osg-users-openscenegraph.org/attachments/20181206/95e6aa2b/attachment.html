<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;running&nbsp;into&nbsp;a&nbsp;strange&nbsp;performance&nbsp;drop&nbsp;issue&nbsp;when&nbsp;using&nbsp;dynamic&nbsp;VBOs&nbsp;that&nbsp;change&nbsp;frequently.&nbsp;I&nbsp;am&nbsp;measuring&nbsp;performance&nbsp;using&nbsp;framerate&nbsp;with&nbsp;vsync&nbsp;turned&nbsp;off.&nbsp;I&nbsp;know&nbsp;that&nbsp;framerate&nbsp;isn&#39;t&nbsp;always&nbsp;the&nbsp;best&nbsp;performance&nbsp;measurement,&nbsp;but&nbsp;my&nbsp;example&nbsp;is&nbsp;simple&nbsp;enough&nbsp;and&nbsp;the&nbsp;performance&nbsp;drop&nbsp;is&nbsp;significant&nbsp;and&nbsp;repeatable,&nbsp;so&nbsp;I&nbsp;feel&nbsp;comfortable&nbsp;using&nbsp;framerate. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;issue:&nbsp;Suppose&nbsp;I&nbsp;have&nbsp;a&nbsp;Geometry&nbsp;that&nbsp;will&nbsp;hold&nbsp;lots&nbsp;of&nbsp;points&nbsp;(e.g.&nbsp;100k&nbsp;or&nbsp;more).&nbsp;If&nbsp;I&nbsp;choose&nbsp;to&nbsp;pre-define&nbsp;all&nbsp;points&nbsp;in&nbsp;its&nbsp;vertex&nbsp;array,&nbsp;then&nbsp;a&nbsp;certain&nbsp;framerate&nbsp;is&nbsp;achieved.&nbsp;However,&nbsp;if&nbsp;I&nbsp;choose&nbsp;to&nbsp;add&nbsp;a&nbsp;batch&nbsp;of&nbsp;points&nbsp;during&nbsp;each&nbsp;update&nbsp;traversal,&nbsp;up&nbsp;to&nbsp;the&nbsp;same&nbsp;total&nbsp;number&nbsp;of&nbsp;points,&nbsp;then&nbsp;after&nbsp;all&nbsp;points&nbsp;have&nbsp;been&nbsp;added&nbsp;the&nbsp;framerate&nbsp;is&nbsp;much&nbsp;lower&nbsp;than&nbsp;in&nbsp;the&nbsp;pre-defined&nbsp;model.&nbsp;Note&nbsp;that&nbsp;&quot;much&nbsp;lower&quot;&nbsp;means&nbsp;over&nbsp;30%&nbsp;lower.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;that&nbsp;in&nbsp;both&nbsp;cases,&nbsp;the&nbsp;same&nbsp;number&nbsp;of&nbsp;points&nbsp;are&nbsp;being&nbsp;drawn,&nbsp;and&nbsp;the&nbsp;Geometry&nbsp;and&nbsp;its&nbsp;vertex&nbsp;array&nbsp;are&nbsp;created&nbsp;once&nbsp;and&nbsp;modified&nbsp;(I&#39;m&nbsp;not&nbsp;creating&nbsp;new&nbsp;Geometry&nbsp;objects&nbsp;at&nbsp;every&nbsp;update).&nbsp;All&nbsp;that&nbsp;changes&nbsp;is&nbsp;whether&nbsp;I&nbsp;added&nbsp;the&nbsp;points&nbsp;all&nbsp;at&nbsp;once&nbsp;before&nbsp;rendering&nbsp;or&nbsp;a&nbsp;few&nbsp;at&nbsp;a&nbsp;time&nbsp;while&nbsp;rendering.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;wrote&nbsp;a&nbsp;small&nbsp;standalone&nbsp;osg&nbsp;example&nbsp;(attached).&nbsp;Compile,&nbsp;run,&nbsp;and&nbsp;show&nbsp;stats&nbsp;using:&lt;/div&gt;&lt;div&gt;&gt; .\osgdynamicvbotest.exe&nbsp;--numPoints&nbsp;100000&nbsp;--batchSize&nbsp;100000&lt;/div&gt;&lt;div&gt; &nbsp; *&nbsp;If&nbsp;batchSize&nbsp;=&nbsp;100000&nbsp;(same&nbsp;as&nbsp;numPoints)&nbsp;then&nbsp;you&#39;ll&nbsp;see&nbsp;the&nbsp;case&nbsp;where&nbsp;all&nbsp;points&nbsp;are&nbsp;pre-defined.&lt;/div&gt;&lt;div&gt; &nbsp; *&nbsp;As&nbsp;you&nbsp;reduce&nbsp;batchSize&nbsp;(e.g.&nbsp;100),&nbsp;it&nbsp;will&nbsp;take&nbsp;longer&nbsp;to&nbsp;add&nbsp;the&nbsp;total&nbsp;number&nbsp;of&nbsp;points,&nbsp;but&nbsp;after&nbsp;all&nbsp;points&nbsp;have&nbsp;been&nbsp;added&nbsp;and&nbsp;the&nbsp;framerate&nbsp;stabilizes,&nbsp;you&#39;ll&nbsp;see&nbsp;it&nbsp;is&nbsp;much&nbsp;lower&nbsp;than&nbsp;the&nbsp;pre-defined&nbsp;case&nbsp;above.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;question&nbsp;is,&nbsp;why&nbsp;is&nbsp;this&nbsp;happening?&nbsp;Is&nbsp;it&nbsp;related&nbsp;to&nbsp;intermediate&nbsp;VBOs&nbsp;being&nbsp;kept&nbsp;in&nbsp;memory&nbsp;and&nbsp;slowing&nbsp;down&nbsp;the&nbsp;GPU?&nbsp;All&nbsp;the&nbsp;other&nbsp;forum&nbsp;posts&nbsp;I&nbsp;see&nbsp;on&nbsp;the&nbsp;topic&nbsp;are&nbsp;either&nbsp;about&nbsp;VBOs&nbsp;not&nbsp;displaying&nbsp;properly&nbsp;(not&nbsp;the&nbsp;case&nbsp;here)&nbsp;or&nbsp;about&nbsp;memory&nbsp;usage&nbsp;(not&nbsp;the&nbsp;case&nbsp;here). &lt;/div&gt;&lt;div&gt; &lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;thoughts&nbsp;on&nbsp;what&#39;s&nbsp;going&nbsp;on&nbsp;here&nbsp;would&nbsp;be&nbsp;very&nbsp;much&nbsp;appreciated.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you!&lt;/div&gt;&lt;div&gt;Ravi&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
