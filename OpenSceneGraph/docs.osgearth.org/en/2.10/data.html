

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with Data &mdash; osgEarth 2.10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference Guides" href="references/index.html" />
    <link rel="prev" title="&lt;no title&gt;" href="developer/qt_integration.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="../latest/data.html" />

<link rel="stylesheet" href="../../../assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "data"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index-2.html" class="icon icon-home"> osgEarth
          

          
          </a>

          
            
            
            
              <div class="version">
                2.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="http://docs.osgearth.org/en/2.10/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup.html">Building osgEarth</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer/index.html">Developer Topics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#where-to-find-data">Where to Find Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-for-preparing-your-own-data">Tips for Preparing your own Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="references/index.html">Reference Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">osgEarth Priority Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-2.html">osgEarth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index-2.html">Docs</a> &raquo;</li>
        
      <li>Working with Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/gwaldron/osgearth/blob/2.10/docs/source/data.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="working-with-data">
<h1>Working with Data<a class="headerlink" href="#working-with-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="where-to-find-data">
<h2>Where to Find Data<a class="headerlink" href="#where-to-find-data" title="Permalink to this headline">¶</a></h2>
<p>Help us add useful sources of Free data to this list.</p>
<p><strong>Raster data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://readymap.org/">ReadyMap.org</a> - Free 15m imagery, elevation, and street tiles for osgEarth developers</li>
<li><a class="reference external" href="http://nationalmap.gov/viewer.html">USGS National Map</a> - Elevation, orthoimagery, hydrography, geographic names, boundaries,
transportation, structures, and land cover products for the US.</li>
<li><a class="reference external" href="http://visibleearth.nasa.gov/view_cat.php?categoryID=1484">NASA BlueMarble</a> - NASA’s whole-earth imagery (including topography and bathymetry maps)</li>
<li><a class="reference external" href="http://www.naturalearthdata.com/">Natural Earth</a> - Free vector and raster map data at various scales</li>
<li><a class="reference external" href="http://vterrain.org/Imagery/WholeEarth/">Virtual Terrain Project</a> - Various sources for whole-earth imagery</li>
<li><a class="reference external" href="http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx">Bing Maps</a> - Microsoft’s worldwide imagery and map data ($)</li>
</ul>
</div></blockquote>
<p><strong>Elevation data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://srtm.csi.cgiar.org/">CGIAR</a> - World 90m elevation data derived from SRTM and ETOPO (<a class="reference external" href="ftp://xftp.jrc.it/pub/srtmV4/">CGIAR European mirror</a>)</li>
<li><a class="reference external" href="ftp://topex.ucsd.edu/pub/srtm30_plus/">SRTM30+</a> - Worldwide elevation coverage (including batymetry)</li>
<li><a class="reference external" href="http://glcf.umiacs.umd.edu/data/srtm/">GLCF</a> - UMD’s Global Land Cover Facility (they also have mosaiced LANDSAT data)</li>
<li><a class="reference external" href="http://www.gebco.net/">GEBCO</a> - Genearl Batymetry Chart of the Oceans</li>
</ul>
</div></blockquote>
<p><strong>Feature data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://openstreetmap.org/">OpenStreetMap</a> - Worldwide, community-sources street and land use data (vectors and rasterized tiles)</li>
<li><a class="reference external" href="http://www.naturalearthdata.com/">Natural Earth</a> - Free vector and raster map data at various scales</li>
<li><a class="reference external" href="http://www.diva-gis.org/gData">DIVA-GIS</a> - Free low-resolution vector data for any country</li>
</ul>
</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="tips-for-preparing-your-own-data">
<h2>Tips for Preparing your own Data<a class="headerlink" href="#tips-for-preparing-your-own-data" title="Permalink to this headline">¶</a></h2>
<p><strong>Processing Local Source Data</strong></p>
<blockquote>
<div><p>If you have geospatial data that you would like to view in osgEarth, you can usually use the GDAL driver.
If you plan on doing this, try loading it as-is first.
If you find that it’s too slow, here are some tips for optimizing your data for tiled access.</p>
<p><strong>Reproject your data</strong></p>
<p>osgEarth will reproject your data on-the-fly if it does not have the necessary
coordinate system.  For instance, if you are trying to view a UTM image on a
geodetic globe (epsg:4326).  However, osgEarth will run much faster if your data
is already in the correct coordinate system.  You can use any tool you want to
reproject your data such as GDAL, Global Mapper or ArcGIS.</p>
<p>For example, to reproject a UTM image to geodetic using gdal_warp:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdalwarp</span> <span class="o">-</span><span class="n">t_srs</span> <span class="n">epsg</span><span class="p">:</span><span class="mi">4326</span> <span class="n">my_utm_image</span><span class="o">.</span><span class="n">tif</span> <span class="n">my_gd_image</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p><strong>Build internal tiles</strong></p>
<p>Typically formats such as GeoTiff store their pixel data in scanlines.
However, using a tiled dataset will be more efficient for osgEarth because
of how it uses tiles internally.</p>
<p>To create a tiled GeoTiff using gdal_translate, issue the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_translate</span> <span class="o">-</span><span class="n">of</span> <span class="n">GTiff</span> <span class="o">-</span><span class="n">co</span> <span class="n">TILED</span><span class="o">=</span><span class="n">YES</span> <span class="nb">input</span><span class="o">.</span><span class="n">tif</span> <span class="n">output</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>Take is a step further and use compression to save space. You can use internal
JPEG compression if your data contains no transparency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_translate</span> <span class="o">-</span><span class="n">of</span> <span class="n">GTiff</span> <span class="o">-</span><span class="n">co</span> <span class="n">TILED</span><span class="o">=</span><span class="n">YES</span> <span class="o">-</span><span class="n">co</span> <span class="n">COMPRESS</span><span class="o">=</span><span class="n">JPG</span> <span class="nb">input</span><span class="o">.</span><span class="n">tif</span> <span class="n">output</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p><strong>Build overviews</strong></p>
<p>Adding overviews (also called ‘’pyramids’’ or ‘’rsets’‘) can sometimes increase
the performance of a large data source in osgEarth.  You can use the
<a class="reference external" href="http://gdal.org/gdaladdo.html">gdaladdo</a> utility to add overviews to a dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">average</span> <span class="n">myimage</span><span class="o">.</span><span class="n">tif</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Building tile sets with osgearth_conv</strong></p>
<blockquote>
<div><p>Pre-tiling your imagery can speed up load time dramatically, especially over the network.
In fact, if you want to serve your data over the network, this is the only way!</p>
<p><em>osgearth_conv</em> is a low-level conversion tool that comes with osgEarth. One useful
application of the tool is tile up a large GeoTIFF (or other input) in a tiled format.
Note: this approach only works with drivers that support writing (MBTiles, TMS).</p>
<p>To make a portable MBTiles file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_conv</span> <span class="o">--</span><span class="ow">in</span> <span class="n">driver</span> <span class="n">gdal</span> <span class="o">--</span><span class="ow">in</span> <span class="n">url</span> <span class="n">myLargeFile</span><span class="o">.</span><span class="n">tif</span>
              <span class="o">--</span><span class="n">out</span> <span class="n">driver</span> <span class="n">mbtiles</span> <span class="o">--</span><span class="n">out</span> <span class="n">filename</span> <span class="n">myData</span><span class="o">.</span><span class="n">mbtiles</span>
              <span class="o">--</span><span class="n">out</span> <span class="nb">format</span> <span class="n">jpg</span>
</pre></div>
</div>
<p>If you want to serve tiles from a web server, use TMS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_conv</span> <span class="o">--</span><span class="ow">in</span> <span class="n">driver</span> <span class="n">gdal</span> <span class="o">--</span><span class="ow">in</span> <span class="n">url</span> <span class="n">myLargeData</span><span class="o">.</span><span class="n">tif</span>
              <span class="o">--</span><span class="n">out</span> <span class="n">driver</span> <span class="n">tms</span> <span class="o">--</span><span class="n">out</span> <span class="n">url</span> <span class="n">myLargeData</span><span class="o">/</span><span class="n">tms</span><span class="o">.</span><span class="n">xml</span>
              <span class="o">--</span><span class="n">out</span> <span class="nb">format</span> <span class="n">jpg</span>
</pre></div>
</div>
<p>That will yield a folder (called “myLargeData” in this case) that you can deploy on the web
behind any standard web server (e.g. Apache).</p>
<p><strong>Tip:</strong> If you are tiling elevation data, you will need to add the <code class="docutils literal notranslate"><span class="pre">--elevation</span></code> option.</p>
<p><strong>Tip:</strong> The <code class="docutils literal notranslate"><span class="pre">jpg</span></code> format does NOT support transparency. If your data was an alpha
channel, use <code class="docutils literal notranslate"><span class="pre">png</span></code> instead.</p>
<p>Just type <em>osgearth_conv</em> for a full list of options. The <code class="docutils literal notranslate"><span class="pre">--in</span></code> and <code class="docutils literal notranslate"><span class="pre">--out</span></code> options
correspond directly to properties you would normally include in an Earth file.</p>
</div></blockquote>
<p><strong>Building tile sets with the packager</strong></p>
<blockquote>
<div><p>Another way to speed up imagery and elevation loading in osgEarth is to build tile sets.</p>
<p>This process takes the source data and chops it up into a quad-tree hierarchy of discrete
<em>tiles</em> that osgEarth can load very quickly. Normally, if you load a GeoTIFF (for example),
osgEarth has to create the tiles at runtime in order to build the globe; Doing this beforehand
means less work for osgEarth when you run your application.</p>
<p><strong>osgearth_package</strong></p>
<p><em>osgearth_package</em> is a utility that prepares source data for use in osgEarth.
It is <strong>optional</strong> - you can run osgEarth against your raw source data
and it will work fine - but you can use <em>osgearth_package</em> to build optimized
tile sets that will maximize performance in most cases. Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_package</span> <span class="n">file</span><span class="o">.</span><span class="n">earth</span> <span class="o">--</span><span class="n">tms</span> <span class="o">--</span><span class="n">out</span> <span class="n">output_folder</span>
</pre></div>
</div>
<p>This will load each of the data sources in the earth file
(<code class="docutils literal notranslate"><span class="pre">file.earth</span></code> in this case) and generate a TMS repository for each under the
folder <code class="docutils literal notranslate"><span class="pre">output_folder</span></code>. You can also specify options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">out</span> <span class="n">path</span>                          <span class="n">Root</span> <span class="n">output</span> <span class="n">folder</span> <span class="n">of</span> <span class="n">the</span> <span class="n">TMS</span> <span class="n">repo</span>
<span class="o">--</span><span class="n">ext</span> <span class="n">extension</span>                     <span class="n">Output</span> <span class="n">file</span> <span class="n">extension</span>
<span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">level</span> <span class="n">level</span>                   <span class="n">Maximum</span> <span class="n">level</span> <span class="n">of</span> <span class="n">detail</span>
<span class="o">--</span><span class="n">bounds</span> <span class="n">xmin</span> <span class="n">ymin</span> <span class="n">xmax</span> <span class="n">ymax</span>        <span class="n">Bounds</span> <span class="n">to</span> <span class="n">package</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">map</span> <span class="n">coordinates</span><span class="p">;</span> <span class="n">default</span><span class="o">=</span><span class="n">entire</span> <span class="nb">map</span><span class="p">)</span>
<span class="o">--</span><span class="n">out</span><span class="o">-</span><span class="n">earth</span>                         <span class="n">Generate</span> <span class="n">an</span> <span class="n">output</span> <span class="n">earth</span> <span class="n">file</span> <span class="n">referencing</span> <span class="n">the</span> <span class="n">new</span> <span class="n">repo</span>
<span class="o">--</span><span class="n">overwrite</span>                         <span class="n">Force</span> <span class="n">overwriting</span> <span class="n">of</span> <span class="n">existing</span> <span class="n">files</span>
<span class="o">--</span><span class="n">keep</span><span class="o">-</span><span class="n">empties</span>                      <span class="n">Writes</span> <span class="n">fully</span> <span class="n">transparent</span> <span class="n">image</span> <span class="n">tiles</span> <span class="p">(</span><span class="n">normally</span> <span class="n">discarded</span><span class="p">)</span>
<span class="o">--</span><span class="n">db</span><span class="o">-</span><span class="n">options</span>                        <span class="n">An</span> <span class="n">optional</span> <span class="n">OSG</span> <span class="n">options</span> <span class="n">string</span>
<span class="o">--</span><span class="n">verbose</span>                           <span class="n">Displays</span> <span class="n">progress</span> <span class="n">of</span> <span class="n">the</span> <span class="n">operation</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Spatial indexing for feature data</strong></p>
<blockquote>
<div><p>Large vector feature datasets (e.g., shapefiles) will benefit greatly from a spatial index.
Using the <em>ogrinfo</em> tool (included with GDAL/OGR binary distributions) you can create a
spatial index for your vector data like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="o">-</span><span class="n">sql</span> <span class="s2">&quot;CREATE SPATIAL INDEX ON myfile&quot;</span> <span class="n">myfile</span><span class="o">.</span><span class="n">shp</span>
</pre></div>
</div>
<p>For shapefiles, this will generate a “.qix” file that contains the spatial index information.
Note! If you edit the shapefile, you will need to delete and regenerate the spatial index.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="references/index.html" class="btn btn-neutral float-right" title="Reference Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="developer/qt_integration.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pelican Mapping
      
        <span class="commit">
          Revision <code>de6041a2</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 2.10
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../latest/index.html">latest</a></dd>
        
          <dd><a href="../3.0/index.html">3.0</a></dd>
        
          <dd><a href="index.html">2.10</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/pdf/2.10/">pdf</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/htmlzip/2.10/">html</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/epub/2.10/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/osgearth/?fromdocs=osgearth">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/osgearth/?fromdocs=osgearth">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>