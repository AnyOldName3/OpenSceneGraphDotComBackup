

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building osgEarth for Windows using vcpkg &mdash; osgEarth 2.10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="../latest/vcpkg.html" />

<link rel="stylesheet" href="../../../assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "vcpkg"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index-2.html" class="icon icon-home"> osgEarth
          

          
          </a>

          
            
            
            
              <div class="version">
                2.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="http://docs.osgearth.org/en/2.10/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup.html">Building osgEarth</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer/index.html">Developer Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/index.html">Reference Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">osgEarth Priority Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-2.html">osgEarth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index-2.html">Docs</a> &raquo;</li>
        
      <li>Building osgEarth for Windows using vcpkg</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/gwaldron/osgearth/blob/2.10/docs/source/vcpkg.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-osgearth-for-windows-using-vcpkg">
<h1>Building osgEarth for Windows using vcpkg<a class="headerlink" href="#building-osgearth-for-windows-using-vcpkg" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/Microsoft/vcpkg">vcpkg</a> is an extremly useful C++ package manager.  It works on Windows, Linux and MacOS but for this guide we’ll primarily focus on Windows.</p>
<p>First, download and bootstrap <a class="reference external" href="https://github.com/Microsoft/vcpkg">vcpkg</a> following the instructions on the page.</p>
<p>Next install the dependencies required to build a fully functional osgearth</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vcpkg</span> <span class="n">install</span> <span class="n">osg</span><span class="p">:</span><span class="n">x64</span><span class="o">-</span><span class="n">windows</span> <span class="n">sqlite3</span><span class="p">:</span><span class="n">x64</span><span class="o">-</span><span class="n">windows</span> <span class="n">protobuf</span><span class="p">:</span><span class="n">x64</span><span class="o">-</span><span class="n">windows</span> <span class="n">poco</span><span class="p">:</span><span class="n">x64</span><span class="o">-</span><span class="n">windows</span>
</pre></div>
</div>
<p>This will take awhile the first time you run it as this pulls down lots of dependencies, so go get a cup of coffee.</p>
<p>Once all the dependencies are built, you’ll need to actually build osgearth.</p>
<p><strong>Get the source code</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gwaldron</span><span class="o">/</span><span class="n">osgearth</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p><strong>Create a directory for an out of source build</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">osgearth</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
</pre></div>
</div>
<p><strong>Configure Cmake</strong></p>
<p>vcpkg provides a Cmake toolchain file that helps osgEarth find all of it’s dependencies.  You’ll need to specify a different build directory for Release and Debug and specify the build type using -DCMAKE_BUILD_TYPE.  This is because some dependencies of osgEarth don’t pick up both debug and release versions without specifying the build type.  This should be fixed in future cmake versions.  This is for a release build</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio 15 2017 Win64&quot;</span> \
<span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> \
<span class="o">-</span><span class="n">DWIN32_USE_MP</span><span class="o">=</span><span class="n">ON</span> \
<span class="o">-</span><span class="n">DCMAKE_TOOLCHAIN_FILE</span><span class="o">=</span><span class="p">[</span><span class="n">vcpkg</span> <span class="n">root</span><span class="p">]</span>\<span class="n">scripts</span>\<span class="n">buildsystems</span>\<span class="n">vcpkg</span><span class="o">.</span><span class="n">cmake</span>
</pre></div>
</div>
<p><strong>Build and install osgEarth</strong></p>
<p>You can build and install osgEarth on the command line using cmake or you can open up the Visual Studio solution and build it from there.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">target</span> <span class="n">INSTALL</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span>
</pre></div>
</div>
<p><strong>Setting up your runtime environment</strong></p>
<p>You’ll need to make sure that the vcpkg dependencies and osgEarth are in your path.  So do something like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="n">c</span><span class="p">:</span>\<span class="n">vcpkg</span>\<span class="n">installed</span>\<span class="n">x64</span><span class="o">-</span><span class="n">windows</span>\<span class="nb">bin</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="n">c</span><span class="p">:</span>\<span class="n">vcpkg</span>\<span class="n">installed</span>\<span class="n">x64</span><span class="o">-</span><span class="n">windows</span>\<span class="n">tools</span>\<span class="n">osg</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="n">c</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span>\<span class="n">osgEarth</span>\<span class="nb">bin</span>
</pre></div>
</div>
<p>Note:  If you don’t want to build osgEarth yourself for your application, you can actually install it using vcpkg as well.  Just use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vcpkg</span> <span class="n">install</span> <span class="n">osgearth</span><span class="p">:</span><span class="n">x64</span><span class="o">-</span><span class="n">windows</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pelican Mapping
      
        <span class="commit">
          Revision <code>de6041a2</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 2.10
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../latest/index.html">latest</a></dd>
        
          <dd><a href="../3.0/index.html">3.0</a></dd>
        
          <dd><a href="index.html">2.10</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/pdf/2.10/">pdf</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/htmlzip/2.10/">html</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/epub/2.10/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/osgearth/?fromdocs=osgearth">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/osgearth/?fromdocs=osgearth">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>