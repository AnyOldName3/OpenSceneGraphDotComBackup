

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building osgEarth (and OSG) for iOS &mdash; osgEarth 2.10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="../latest/ios.html" />

<link rel="stylesheet" href="../../../assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "ios"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="../../../assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index-2.html" class="icon icon-home"> osgEarth
          

          
          </a>

          
            
            
            
              <div class="version">
                2.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="http://docs.osgearth.org/en/2.10/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup.html">Building osgEarth</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer/index.html">Developer Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/index.html">Reference Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">osgEarth Priority Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-2.html">osgEarth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index-2.html">Docs</a> &raquo;</li>
        
      <li>Building osgEarth (and OSG) for iOS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/gwaldron/osgearth/blob/2.10/docs/source/ios.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-osgearth-and-osg-for-ios">
<h1>Building osgEarth (and OSG) for iOS<a class="headerlink" href="#building-osgearth-and-osg-for-ios" title="Permalink to this headline">Â¶</a></h1>
<p>When building osgEarth for iOS it is important to note that it requires two separate builds to build for both the simulator and devices.  The instructions below are configured to build the libraries for use with devices.  Building for use in the simulator is the same but requires pointing to the proper libraries when building.</p>
<p>The steps to buld for use on devices are as follows:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt><strong>Install CMake 2.8.8 or above</strong></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference external" href="http://www.cmake.org/">http://www.cmake.org</a></div>
<div class="line">Or install <a class="reference external" href="http://guide.macports.org/#installing.macports">MacPorts</a> and then <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ports</span> <span class="pre">install</span> <span class="pre">cmake</span></code></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Install XCode 4.5.1</strong></dt>
<dd><div class="first last line-block">
<div class="line">Download from AppStore</div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Get Dependencies</strong></dt>
<dd><div class="first last line-block">
<div class="line">Prebuilt dependencies courtesy of <a class="reference external" href="http://www.hogbox.co.uk/">Thomas Hogarth</a> can be downloaded here: <a class="reference external" href="https://s3.amazonaws.com/pelican-downloads/ios-3rdParty.zip">https://s3.amazonaws.com/pelican-downloads/ios-3rdParty.zip</a></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Javascript Support</strong></dt>
<dd><div class="first last line-block">
<div class="line">Unlike osgEarth on the desktop which uses the V8 engine, osgEarth on iOS depends on the JavaScriptCore engine for scripting support.</div>
<div class="line">The JavaScriptCore code with projects for iOS can be found on GitHub here: <a class="reference external" href="https://github.com/phoboslab/JavaScriptCore-iOS">https://github.com/phoboslab/JavaScriptCore-iOS</a></div>
<div class="line">As noted on that page, a prebuilt library can be found in the source tree of the <a class="reference external" href="https://github.com/phoboslab/Ejecta/tree/master/Source/lib">Ejecta project</a></div>
</div>
</dd>
</dl>
</li>
<li><p class="first"><strong>Download OSG trunk</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">osgearth</span><span class="o">-</span><span class="n">build</span>
<span class="n">cd</span> <span class="o">./</span><span class="n">osgearth</span><span class="o">-</span><span class="n">build</span>
<span class="n">svn</span> <span class="n">checkout</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">openscenegraph</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="n">osg</span><span class="o">/</span><span class="n">OpenSceneGraph</span><span class="o">/</span><span class="n">trunk</span> <span class="n">osg</span><span class="o">-</span><span class="n">ios</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt><strong>Edit CMakeList.txt to point to your version of iOS SDK</strong></dt>
<dd><div class="first last line-block">
<div class="line">Check <code class="docutils literal notranslate"><span class="pre">/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs</span></code></div>
<div class="line">Open CMakeList.txt and change line 236 to your SDK version: <code class="docutils literal notranslate"><span class="pre">(SET</span> <span class="pre">(IPHONE_SDKVER</span> <span class="pre">&quot;5.1&quot;</span> <span class="pre">CACHE</span> <span class="pre">STRING</span> <span class="pre">&quot;IOS</span> <span class="pre">SDK-Version&quot;)</span></code></div>
<div class="line">For the lib tiff plugin it is also currently necessary to copy line 587 and paste inside the else statement at line 593 (submited to osg trunk)</div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Run CMake to generate OSG XCode Project</strong></dt>
<dd><div class="first line-block">
<div class="line">Use below command line to generate static GLES2 build for iOS devices, change 3rdparty paths to reflect your 3rdparty path</div>
</div>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">./</span><span class="n">osg</span><span class="o">-</span><span class="n">ios</span>

<span class="n">cmake</span> <span class="o">./</span> <span class="o">-</span><span class="n">G</span> <span class="n">Xcode</span> <span class="o">-</span><span class="n">DOSG_BUILD_PLATFORM_IPHONE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">ON</span> \
<span class="o">-</span><span class="n">DBUILD_OSG_APPLICATIONS</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_WINDOWING_SYSTEM</span><span class="p">:</span><span class="n">STRING</span><span class="o">=</span><span class="n">IOS</span> \
<span class="o">-</span><span class="n">DOSG_DEFAULT_IMAGE_PLUGIN_FOR_OSX</span><span class="o">=</span><span class="s2">&quot;imageio&quot;</span> \
<span class="o">-</span><span class="n">DOSG_GL1_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL2_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GLES1_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GLES2_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">ON</span> \
<span class="o">-</span><span class="n">DOSG_GL_DISPLAYLISTS_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL_FIXED_FUNCTION_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL_LIBRARY_STATIC</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL_MATRICES_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL_VERTEX_ARRAY_FUNCS_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSG_GL_VERTEX_FUNCS_AVAILABLE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DCURL_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/curl-ios-device/include&quot;</span> \
<span class="o">-</span><span class="n">DCURL_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/curl-ios-device/lib/libcurl.a&quot;</span> \
<span class="o">-</span><span class="n">DFREETYPE_INCLUDE_DIR_freetype2</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/freetype-ios-universal/include/freetype&quot;</span> \
<span class="o">-</span><span class="n">DFREETYPE_INCLUDE_DIR_ft2build</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/freetype-ios-universal/include&quot;</span> \
<span class="o">-</span><span class="n">DFREETYPE_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/freetype-ios-universal/lib/libFreeType_iphone_universal.a&quot;</span> \
<span class="o">-</span><span class="n">DTIFF_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/tiff-ios-device/include&quot;</span> \
<span class="o">-</span><span class="n">DTIFF_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/tiff-ios-device/lib/libtiff.a&quot;</span> \
<span class="o">-</span><span class="n">DGDAL_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/gdal-ios-device/include&quot;</span> \
<span class="o">-</span><span class="n">DGDAL_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/gdal-ios-device/lib/libgdal.a&quot;</span> \
<span class="o">-</span><span class="n">DDYNAMIC_OPENSCENEGRAPH</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DDYNAMIC_OPENTHREADS</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p class="first"><strong>Open XCode project generated and run BUILD_ALL target</strong></p>
</li>
<li><p class="first"><strong>Download osgEarth trunk</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">../</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gwaldron</span><span class="o">/</span><span class="n">osgearth</span><span class="o">.</span><span class="n">git</span> <span class="n">osgearth</span><span class="o">-</span><span class="n">ios</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Edit iOS SDK version in ``./osgearth-ios/CMakeList.txt`` (see item 5)</strong></p>
</li>
<li><dl class="first docutils">
<dt><strong>Run CMake to generate osgEarth Xcode project</strong></dt>
<dd><div class="first line-block">
<div class="line">Use below command line to generate static bulild for iOS device, change 3rdparty paths to reflect your 3rdparty path</div>
</div>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">./</span> <span class="o">-</span><span class="n">G</span> <span class="n">Xcode</span> <span class="o">-</span><span class="n">DOSG_BUILD_PLATFORM_IPHONE</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">ON</span> \
<span class="o">-</span><span class="n">DOSG_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/osg-ios&quot;</span> \
<span class="o">-</span><span class="n">DCURL_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/curl-ios-device/include&quot;</span> \
<span class="o">-</span><span class="n">DCURL_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/curl-ios-device/lib/libcurl.a&quot;</span> \
<span class="o">-</span><span class="n">DGDAL_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/gdal-ios-device/include&quot;</span> \
<span class="o">-</span><span class="n">DGDAL_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/gdal-ios-device/lib/libgdal.a&quot;</span> \
<span class="o">-</span><span class="n">DGEOS_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/geos-ios-device/include/source/headers&quot;</span> \
<span class="o">-</span><span class="n">DGEOS_LIBRARY</span><span class="p">:</span><span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;/Users/hogbox/Documents/osgearth-build/3rdParty/geos-ios-device/lib/libGEOS_3.2.a&quot;</span> \
<span class="o">-</span><span class="n">DOSGEARTH_BUILD_APPLICATION_BUNDLES</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DDYNAMIC_OSGEARTH</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span> \
<span class="o">-</span><span class="n">DOSGEARTH_USE_QT</span><span class="p">:</span><span class="n">BOOL</span><span class="o">=</span><span class="n">OFF</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Open generated Xcode project and build</strong></dt>
<dd><div class="first last line-block">
<div class="line">For now do not build application targets as they will generate errors (CMake can not currently generate valid application targets for iOS)</div>
<div class="line">Select <em>OSGEARTH</em> project in navigator view (top of tree on left)</div>
<div class="line">Select <em>Add Target</em></div>
<div class="line">Select <em>Aggregate Target</em> in the <em>Other</em> section, name it lib-build (or whatever)</div>
<div class="line">Select new target and select <em>Build Phases</em>, <em>Target Dependencies</em>, <em>+</em></div>
<div class="line">Select all the libs and plugins</div>
<div class="line">Select the new target as the current build target (combo box to right of the play/run button)</div>
<div class="line">Build</div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Open and build example project</strong></dt>
<dd><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">osgearth-ios/src/applications/osgearth_viewerIOS/osgEarthViewerIOS.xcodeproj</span></code></div>
<div class="line"><br /></div>
<div class="line">Edit <em>Header Search Paths</em> in build settings point to your osg and osgearth folders</div>
<div class="line">Edit <em>Library Search Paths</em> in build settings point to your osg and osgearth folders</div>
<div class="line">Link to Accelerate.framework (fix sent)</div>
<div class="line">Link to MobileCoreServices.framework (fix sent)</div>
<div class="line">remove armv7s build if you are using freetypes</div>
<div class="line">build</div>
</div>
</dd>
</dl>
</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pelican Mapping
      
        <span class="commit">
          Revision <code>de6041a2</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 2.10
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../latest/index.html">latest</a></dd>
        
          <dd><a href="../3.0/index.html">3.0</a></dd>
        
          <dd><a href="index.html">2.10</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/pdf/2.10/">pdf</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/htmlzip/2.10/">html</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/osgearth/downloads/epub/2.10/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/osgearth/?fromdocs=osgearth">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/osgearth/?fromdocs=osgearth">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>