

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Earth File &mdash; osgEarth 3.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="../../_/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/styles.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with Data" href="data.html" />
    <link rel="prev" title="Building osgEarth" href="build.html" /> 

<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "build_date": "2022-08-25T12:53:42Z", "builder": "sphinx", "canonical_url": null, "commit": "f535c101", "docroot": "/docs/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "earthfile", "programming_language": "cpp", "project": "osgearth", "proxied_api_host": "/_", "source_suffix": ".md", "subprojects": {}, "theme": "sphinx_rtd_theme", "user_analytics_code": "G-H28EPNP1WC", "version": "3.2"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index-2.html" class="icon icon-home"> osgEarth
          

          
          </a>

          
            
            
            
              <div class="version">
                3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="http://docs.osgearth.org/en/3.2/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building the SDK</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Earth File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#my-first-earth-file">My First Earth File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-multiple-layers">Using Multiple Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-terrain-elevation-data">Adding Terrain Elevation Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drawing-vector-features">Drawing Vector Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-examples">More Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">Layer Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.0_upgrade_guide.html">Upgrade Guide: from 2.x to 3.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Getting Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-2.html">osgEarth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index-2.html">Docs</a> &raquo;</li>
        
      <li>The Earth File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/gwaldron/osgearth/blob/3.2/docs/source/earthfile.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-earth-file">
<h1>The Earth File<a class="headerlink" href="#the-earth-file" title="Permalink to this headline">¶</a></h1>
<p>osgEarth uses the familiar <strong>Map/Layer</strong> paradigm for organizing data. The <strong>Map</strong> is comprised of a collection of <strong>layers</strong>. The renderer draws each visible layer one after the next, from bottom to top, to display the final scene. <a class="reference internal" href="layers.html"><span class="doc">You can see all the different layer types here</span></a>.</p>
<p>An <strong>Earth File</strong> is an XML file that describes the contents of a <strong>Map</strong> in osgEarth.</p>
<div class="section" id="my-first-earth-file">
<h2>My First Earth File<a class="headerlink" href="#my-first-earth-file" title="Permalink to this headline">¶</a></h2>
<p>Here is a very simple earth file that you can find in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder of the repository:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Map</span> <span class="na">name=</span><span class="s">&quot;Hello, World&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;GDALImage</span> <span class="na">name=</span><span class="s">&quot;World imagery&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>../data/world.tif<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/GDALImage&gt;</span>
<span class="nt">&lt;/Map&gt;</span>
</pre></div>
</div>
<p>This map contains one layer that points to a local GeoTIFF file. In this case, the location is relative to the location of the earth file itself. You can see this map by running one of the osgEarth command line tools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_toc</span> <span class="n">simple</span><span class="o">.</span><span class="n">earth</span>
</pre></div>
</div>
<p>That’s it! It is that easy to get a map up and running.</p>
</div>
<div class="section" id="using-multiple-layers">
<h2>Using Multiple Layers<a class="headerlink" href="#using-multiple-layers" title="Permalink to this headline">¶</a></h2>
<p>You can add as many layers to your <strong>Map</strong> as you like. Here’s an example called <code class="docutils literal notranslate"><span class="pre">hires-inset.earth</span></code> :</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Map</span> <span class="na">name=</span><span class="s">&quot;Hello, World&quot;</span><span class="nt">&gt;</span>    
    <span class="c">&lt;!-- Worldwide image --&gt;</span>
    <span class="nt">&lt;GDALImage</span> <span class="na">name=</span><span class="s">&quot;World&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>../data/world.tif<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/GDALImage&gt;</span>

    <span class="c">&lt;!-- Higher resolution inset of Boston --&gt;</span>
    <span class="nt">&lt;GDALImage</span> <span class="na">name=</span><span class="s">&quot;Boston&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>../data/boston-inset-wgs84.tif<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/GDALImage&gt;</span>
    
    <span class="c">&lt;!-- Higher resolution inset of New York City --&gt;</span>
    <span class="nt">&lt;GDALImage</span> <span class="na">name=</span><span class="s">&quot;New York&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>../data/nyc-inset-wgs84.tif<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/GDALImage&gt;</span>
<span class="nt">&lt;/Map&gt;</span>
</pre></div>
</div>
<p>In this case, osgEarth will draw the “World” layer first, followed by “Boston” and finally “New York” on top. We also interspersed some XML comments in there.</p>
</div>
<div class="section" id="adding-terrain-elevation-data">
<h2>Adding Terrain Elevation Data<a class="headerlink" href="#adding-terrain-elevation-data" title="Permalink to this headline">¶</a></h2>
<p>Now let’s add some height field data, also knows as a <strong>DEM</strong> or Digital Elevation Model:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Map</span> <span class="na">name=</span><span class="s">&quot;ReadyMap&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TMSImage</span> <span class="na">name=</span><span class="s">&quot;ReadyMap 15m Imagery&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>http://readymap.org/readymap/tiles/1.0.0/7/<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/TMSImage&gt;</span>

    <span class="nt">&lt;TMSElevation</span> <span class="na">name=</span><span class="s">&quot;ReadyMap 90m Elevation&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>http://readymap.org/readymap/tiles/1.0.0/116/<span class="nt">&lt;/url&gt;</span>
        <span class="nt">&lt;vdatum&gt;</span>egm96<span class="nt">&lt;/vdatum&gt;</span>
    <span class="nt">&lt;/TMSElevation&gt;</span>

    <span class="nt">&lt;Viewpoints&gt;</span>
        <span class="nt">&lt;Viewpoint</span> <span class="na">name=</span><span class="s">&quot;San Francisco, California&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;heading&gt;</span>10/heading&gt;
            <span class="nt">&lt;height&gt;</span>4500.0<span class="nt">&lt;/height&gt;</span>
            <span class="nt">&lt;lat&gt;</span>37.5581<span class="nt">&lt;/lat&gt;</span>
            <span class="nt">&lt;long&gt;</span>-122.334<span class="nt">&lt;/long&gt;</span>
            <span class="nt">&lt;pitch&gt;</span>-34<span class="nt">&lt;/pitch&gt;</span>
            <span class="nt">&lt;range&gt;</span>78000<span class="nt">&lt;/range&gt;</span>
        <span class="nt">&lt;/Viewpoint&gt;</span>
    <span class="nt">&lt;/Viewpoints&gt;</span>
<span class="nt">&lt;/Map&gt;</span>
</pre></div>
</div>
<p>A couple things going on here: first we see a <code class="docutils literal notranslate"><span class="pre">TMSImage</span></code> layer that loads imagery from a Tile Map Service layer over the Internet. Then we have some 90m digital elevation data coming from the same server.</p>
<p>Finally you can see a <code class="docutils literal notranslate"><span class="pre">Viewpoints</span></code> layer. This is not a visible layer at all! Instead if stores data - in this case, a set of pre-set viewpoints the user can navigate to. osgEarth stores all kinds of data as <strong>layers</strong>, not all of it visible. Non-visible layers can occur anywhere in the map. Their order or appearance does not matter.</p>
</div>
<div class="section" id="drawing-vector-features">
<h2>Drawing Vector Features<a class="headerlink" href="#drawing-vector-features" title="Permalink to this headline">¶</a></h2>
<p>Finally, let’s look at some vector feature data. This is GIS data in the form of points, lines, and polygons. osgEarth has various methods of displaying this data, but let’s keep it simple for now. You can find this one in <code class="docutils literal notranslate"><span class="pre">feature_rasterize.earth</span></code> :</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Map</span> <span class="na">name=</span><span class="s">&quot;Rasterize Vectors&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;readymap_imagery.xml&quot;</span><span class="nt">/&gt;</span>
    
    <span class="nt">&lt;OGRFeatures</span> <span class="na">name=</span><span class="s">&quot;world-data&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;url&gt;</span>../data/world.shp<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/OGRFeatures&gt;</span>
    
    <span class="nt">&lt;FeatureImage</span> <span class="na">name=</span><span class="s">&quot;Countries&quot;</span> <span class="na">opacity=</span><span class="s">&quot;0.75&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;features&gt;</span>world-data<span class="nt">&lt;/features&gt;</span>
        <span class="nt">&lt;styles&gt;</span>        
            <span class="nt">&lt;style</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
                default {
                    fill:          #ff7700;
                    stroke:        #ffff00;
                    stroke-width:  5km;
                }
            <span class="nt">&lt;/style&gt;</span>
        <span class="nt">&lt;/styles&gt;</span>
    <span class="nt">&lt;/FeatureImage&gt;</span>  
<span class="nt">&lt;/Map&gt;</span>
</pre></div>
</div>
<p>First, we see the use of <code class="docutils literal notranslate"><span class="pre">&lt;xi:include&gt;</span></code>, a handy XML directive to include another XML file inline. We’re using this to get our imagery.</p>
<p>Next is the <code class="docutils literal notranslate"><span class="pre">OGRFeatures</span></code> layer. This is a data layer - it won’t be rendered directly - but rather it just points to an ESRI Shapefile we have stored locally.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">FeatureImage</span></code> layer points at the data layer and describes how to draw it using a <code class="docutils literal notranslate"><span class="pre">StyleSheet</span></code>.</p>
</div>
<div class="section" id="more-examples">
<h2>More Examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<p>Please look in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder of the repository for lots of examples of earth files. They range from very simple to quite complex and cover a wide range of the available functionality in osgEarth!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data.html" class="btn btn-neutral float-right" title="Working with Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="build.html" class="btn btn-neutral float-left" title="Building osgEarth" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Pelican Mapping
      
        <span class="commit">
          Revision <code>f535c101</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 3.2
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../latest/index.html">latest</a></dd>
        
          <dd><a href="index.html">3.2</a></dd>
        
          <dd><a href="../3.1/index.html">3.1</a></dd>
        
          <dd><a href="../2.10/index.html">2.10</a></dd>
        
          <dd><a href="../docs/index.html">docs</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="../../_/downloads/en/3.2/pdf/index.html">pdf</a></dd>
        
          <dd><a href="../../_/downloads/en/3.2/htmlzip/index.html">html</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/osgearth/?fromdocs=osgearth">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/osgearth/?fromdocs=osgearth">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>